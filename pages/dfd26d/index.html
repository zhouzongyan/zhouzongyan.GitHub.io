<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>01 React Hook 简介 | Allen</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="rust">
    <meta name="keywords" content="allen,,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.145d8473.css" as="style"><link rel="preload" href="/assets/js/app.6f8ed848.js" as="script"><link rel="preload" href="/assets/js/2.83be7545.js" as="script"><link rel="preload" href="/assets/js/8.d763ac36.js" as="script"><link rel="prefetch" href="/assets/js/10.5a3204f9.js"><link rel="prefetch" href="/assets/js/11.02768c01.js"><link rel="prefetch" href="/assets/js/12.2c0a6e69.js"><link rel="prefetch" href="/assets/js/13.aab6b678.js"><link rel="prefetch" href="/assets/js/14.099be2b5.js"><link rel="prefetch" href="/assets/js/15.a608c94d.js"><link rel="prefetch" href="/assets/js/16.e2819852.js"><link rel="prefetch" href="/assets/js/17.86af6682.js"><link rel="prefetch" href="/assets/js/18.c8537385.js"><link rel="prefetch" href="/assets/js/19.eab216d3.js"><link rel="prefetch" href="/assets/js/20.682aa922.js"><link rel="prefetch" href="/assets/js/21.219bb420.js"><link rel="prefetch" href="/assets/js/22.84ecdbb0.js"><link rel="prefetch" href="/assets/js/23.b55b7082.js"><link rel="prefetch" href="/assets/js/24.0828344e.js"><link rel="prefetch" href="/assets/js/25.c20d5ec5.js"><link rel="prefetch" href="/assets/js/26.06149e04.js"><link rel="prefetch" href="/assets/js/27.d221eed5.js"><link rel="prefetch" href="/assets/js/28.53082f18.js"><link rel="prefetch" href="/assets/js/29.eedb3a2c.js"><link rel="prefetch" href="/assets/js/3.136b0782.js"><link rel="prefetch" href="/assets/js/30.43e5e245.js"><link rel="prefetch" href="/assets/js/4.2e56199c.js"><link rel="prefetch" href="/assets/js/5.2ab3c7f2.js"><link rel="prefetch" href="/assets/js/6.fa34b130.js"><link rel="prefetch" href="/assets/js/7.9dab484c.js"><link rel="prefetch" href="/assets/js/9.845b950f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.145d8473.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.jpg" alt="Allen" class="logo"> <span class="site-name can-hide">Allen</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/9088dd/" class="nav-link">rust</a></div><div class="nav-item"><a href="/pages/b63bcd/" class="nav-link">go</a></div><div class="nav-item"><a href="/pages/dfd26d/" aria-current="page" class="nav-link router-link-exact-active router-link-active">react</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/9088dd/" class="nav-link">rust</a></div><div class="nav-item"><a href="/pages/b63bcd/" class="nav-link">go</a></div><div class="nav-item"><a href="/pages/dfd26d/" aria-current="page" class="nav-link router-link-exact-active router-link-active">react</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/pages/dfd26d/" aria-current="page" class="active sidebar-link">01 React Hook 简介</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/dfd26d/#学习前提" class="sidebar-link">学习前提</a></li><li class="sidebar-sub-header level2"><a href="/pages/dfd26d/#什么是hooks" class="sidebar-link">什么是Hooks？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level5"><a href="/pages/dfd26d/#特别提醒-在react官网中使用的是hook-而在有些教程中使用的是hooks。在本教程中hook和hooks是同一个意思-不要纠结什么时候用单数什么时候是复数。" class="sidebar-link">特别提醒：在React官网中使用的是Hook，而在有些教程中使用的是Hooks。在本教程中Hook和Hooks是同一个意思，不要纠结什么时候用单数什么时候是复数。</a></li><li class="sidebar-sub-header level5"><a href="/pages/dfd26d/#请注意" class="sidebar-link">请注意：</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/dfd26d/#为什么要用hooks" class="sidebar-link">为什么要用Hooks？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level5"><a href="/pages/dfd26d/#缺点一-复杂且不容易理解的-this" class="sidebar-link">缺点一：复杂且不容易理解的“this”</a></li><li class="sidebar-sub-header level5"><a href="/pages/dfd26d/#缺点二-组件数据状态逻辑不能重用、组件之间传值过程复杂" class="sidebar-link">缺点二：组件数据状态逻辑不能重用、组件之间传值过程复杂</a></li><li class="sidebar-sub-header level5"><a href="/pages/dfd26d/#缺点三-复杂场景下代码难以组织在一起" class="sidebar-link">缺点三：复杂场景下代码难以组织在一起</a></li><li class="sidebar-sub-header level5"><a href="/pages/dfd26d/#hooks是如何解决上述类组件的缺点" class="sidebar-link">Hooks是如何解决上述类组件的缺点？</a></li><li class="sidebar-sub-header level5"><a href="/pages/dfd26d/#最为关键的是-hook还能实现一些类组件根本不能实现的功能-比如全局共享数据-代替redux。" class="sidebar-link">最为关键的是，hook还能实现一些类组件根本不能实现的功能，比如全局共享数据，代替Redux。</a></li><li class="sidebar-sub-header level5"><a href="/pages/dfd26d/#你只需记住一个结论-忘掉类组件-使用hook进行函数组件开发-将是一个明智选择。" class="sidebar-link">你只需记住一个结论：忘掉类组件，使用Hook进行函数组件开发，将是一个明智选择。</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/dfd26d/#react生命周期函数" class="sidebar-link">React生命周期函数</a></li><li class="sidebar-sub-header level2"><a href="/pages/dfd26d/#本节小结" class="sidebar-link">本节小结</a></li></ul></li><li><a href="/pages/b364c0/" class="sidebar-link">02 useState基础用法</a></li><li><a href="/pages/0e215c/" class="sidebar-link">03 useState高级用法</a></li><li><a href="/pages/16dc88/" class="sidebar-link">04 useEffect基础用法</a></li><li><a href="/pages/b9c039/" class="sidebar-link">05 useEffect高级用法</a></li><li><a href="/pages/fd14d7/" class="sidebar-link">06 useContext基础用法</a></li><li><a href="/pages/15da39/" class="sidebar-link">07 useContext高级用法</a></li><li><a href="/pages/ab6774/" class="sidebar-link">08 useReducer基础用法</a></li><li><a href="/pages/fd7fdb/" class="sidebar-link">09 useReducer高级用法</a></li><li><a href="/pages/9d19f1/" class="sidebar-link">10 useCallback基础用法</a></li><li><a href="/pages/8b008f/" class="sidebar-link">11 useMemo基础用法</a></li><li><a href="/pages/4c9695/" class="sidebar-link">12 useRef基础用法</a></li><li><a href="/pages/ede426/" class="sidebar-link">13 useImperativeHandle基础用法</a></li><li><a href="/pages/1b392f/" class="sidebar-link">14 useLayoutEffect基础用法</a></li><li><a href="/pages/e1ebef/" class="sidebar-link">15 useDebugValue基础用法</a></li><li><a href="/pages/c38877/" class="sidebar-link">16 自定义hook</a></li><li><a href="/pages/621c1c/" class="sidebar-link">17 React Hook 总结</a></li><li><a href="/pages/a44117/" class="sidebar-link">18 示例：React使用Echarts所用到的hooks</a></li><li><a href="/pages/74a184/" class="sidebar-link">19 useTransition基础用法</a></li><li><a href="/pages/0116b5/" class="sidebar-link">20 React基础知识</a></li><li><a href="/pages/89216e/" class="sidebar-link">21 React扩展阅读</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>react</span></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="//github.183.co" target="_blank" title="作者" class="beLink" data-v-06225672>Allen</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-09-06</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">01 React Hook 简介<!----></h1> <div class="page-slot page-slot-top">
    <div class="wwads-cn wwads-horizontal page-wwads" data-id="136"></div>
    <style>
      .page-wwads{
        width:100%!important;
        min-height: 0;
        margin: 0;
      }
      .page-wwads .wwads-img img{
        width:80px!important;
      }
      .page-wwads .wwads-poweredby{
        width: 40px;
        position: absolute;
        right: 25px;
        bottom: 3px;
      }
      .wwads-content .wwads-text, .page-wwads .wwads-text{
        height: 100%;
        padding-top: 5px;
        display: block;
      }
  </style>
  </div> <div class="theme-vdoing-content content__default"><h1 id="_01-react-hook-简介"><a href="#_01-react-hook-简介" class="header-anchor">#</a> 01 React Hook 简介</h1> <p>首先，欢迎你来学习React Hook，通过本教程你会了解到React Hook工作原理以及我们推荐使用Hook的理由。</p> <h2 id="学习前提"><a href="#学习前提" class="header-anchor">#</a> 学习前提</h2> <p>在学习本课程之前，需要你对以下知识点有基础的了解：<br>
1、React基础原理；<br>
2、函数组件(Functional components)和类组件(class components)，属性传参(props)，自定义内部数据(state)，生命周期函数等；<br>
3、使用谷歌浏览器且安装了“React Developer Tools”调试工具。</p> <p>本系列文章适合有一定React开发基础的人，若是React新手，建议先从阅读React官方中文文档学起。</p> <p>接下来正式开始本教程。</p> <h2 id="什么是hooks"><a href="#什么是hooks" class="header-anchor">#</a> 什么是Hooks？</h2> <p>Hook是React 16.8版本中新增的一个新特性，丰富扩展了原有函数组件的功能，让函数组件拥有了像类组件一样的相似特性。</p> <p>在之前版本中函数组件不能使用React生命周期函数，Hook本身单词意思是“钩子”，作用就是“勾住某些生命周期函数或某些数据状态，并进行某些关联触发调用”。</p> <p>不同的Hook(钩子)有不同的作用，可以勾住不同的“点”，比如“勾住组件更新完成对应的生命周期函数”、“勾住某props值的变化”等。</p> <p>正因为React有多个内置Hook，所以本小节的标题才是“什么是Hooks？”，没错，用到了Hook的复数单词Hooks。</p> <h5 id="特别提醒-在react官网中使用的是hook-而在有些教程中使用的是hooks。在本教程中hook和hooks是同一个意思-不要纠结什么时候用单数什么时候是复数。"><a href="#特别提醒-在react官网中使用的是hook-而在有些教程中使用的是hooks。在本教程中hook和hooks是同一个意思-不要纠结什么时候用单数什么时候是复数。" class="header-anchor">#</a> 特别提醒：在React官网中使用的是Hook，而在有些教程中使用的是Hooks。在本教程中Hook和Hooks是同一个意思，不要纠结什么时候用单数什么时候是复数。</h5> <h5 id="请注意"><a href="#请注意" class="header-anchor">#</a> 请注意：</h5> <p>1、尽管函数组件拥有了类组件多大多数的相似特性，但有一点除外：函数组件中没有类组件中“自定义state”的特性，因此你无法在函数组件中使用“this.state.xx”这样的代码。</p> <p>没有不代表功能的缺失，恰恰相反，因为当你充分了解Hooks之后，你会发现函数组件内部自定义数据状态功能远远超出类组件。</p> <p>2、Hooks只能运行在函数组件中，不能运行在类组件中。<br>
补充：准确来说，Hooks只能运行在函数组件的“内部顶层中”，不能运行在if/for等其他函数的代码体内，不允许被if/for等包裹住。</p> <p>3、Hooks函数必须为纯函数，所谓纯函数就是函数内部不能修改可能影响执行结果的任意参数，确保每次执行的代码结果都是一样的。</p> <h2 id="为什么要用hooks"><a href="#为什么要用hooks" class="header-anchor">#</a> 为什么要用Hooks？</h2> <p>先说一下类组件的一些缺点：</p> <h5 id="缺点一-复杂且不容易理解的-this"><a href="#缺点一-复杂且不容易理解的-this" class="header-anchor">#</a> 缺点一：复杂且不容易理解的“this”</h5> <p>例如事件绑定处理函数，都需要bind(this)才可以正确执行。<br>
例如想获取某些自定义属性，都需要使用this.state.xx或this.props.xx。</p> <p>这样造成代码不够精简，并且有些时候热更新不能正常运行。</p> <h5 id="缺点二-组件数据状态逻辑不能重用、组件之间传值过程复杂"><a href="#缺点二-组件数据状态逻辑不能重用、组件之间传值过程复杂" class="header-anchor">#</a> 缺点二：组件数据状态逻辑不能重用、组件之间传值过程复杂</h5> <p>“组件数据状态逻辑不能重用”，详细解释如下：<br>
“组件数据状态”是由：定义数据、默认赋值、获取数据、修改数据、数据逻辑几个环节构成。 由于类组件中的组件数据状态state必须写在该组件构造函数内部，无法将state抽离出组件，因此别的组件如果有类似state逻辑，也必须内部自己实现一次，所以才得出“组件数据状态逻辑不能重用”的结论。</p> <p>“组件之间传值过程复杂”，详细解释如下：<br>
React本身为单向数据流，即父组件可以传值给子组件，但子组件不允许直接修改父组件中的数据状态。</p> <p>子组件为了达到修改父组件中的数据状态，通常采用“高阶组件(HOC)”或“父组件暴露修改函数给子组件(render props)”这2种方式。 这2种方式都会让组件变得复杂且降低可复用性。</p> <h5 id="缺点三-复杂场景下代码难以组织在一起"><a href="#缺点三-复杂场景下代码难以组织在一起" class="header-anchor">#</a> 缺点三：复杂场景下代码难以组织在一起</h5> <p>复杂场景下，比如数据获取(data fetching)和事件订阅(event listeners)，相关代码难以组织在一起。</p> <p>“相关代码难以组织在一起”，详细解释如下：</p> <p>第1个“难以组织”的原因：数据获取和事件订阅被分散在不同生命周期函数中。</p> <p>例如数据获取：组件第一次被挂载(componentDidMount)、组件每次更新完毕(componentDidUpdate)<br>
例如事件监听：组件第一次被挂载(componentDidMount)、组件即将被卸载(componentWillUnmount)</p> <p>第2个“难以组织”的原因：内部state数据只能是整体，无法被拆分更细致</p> <p>类组件中所有内部数据都被储存在this.state中，例如某个组件定义有2个内部数据 name,age，那么永远都是this.state.name、this.state.age。 name和age永远都只是this.state中的一个属性，无法做到将name和age拆分成独立对象个体。</p> <p>所有内部数据都储存在this.state中，当内部数据复杂时，势必增加维护this.state的难度和复杂性。</p> <p>“复杂场景下代码难以组织在一起”会造成另外一个延伸性问题：加大了代码自动测试难度。</p> <h5 id="hooks是如何解决上述类组件的缺点"><a href="#hooks是如何解决上述类组件的缺点" class="header-anchor">#</a> Hooks是如何解决上述类组件的缺点？</h5> <p>如果你现在迫切想知道答案，我想对你说：恭喜你，欢迎进入Hooks的世界。</p> <p>类组件缺点一：复杂且不容易理解的“this”<br>
Hooks解决方式：函数组件和普通JS函数非常相似，在普通JS函数中定义的变量、方法都可以不使用“this.”，而直接使用该变量或函数，因此你不再需要去关心“this”了。</p> <p>类组件缺点二：组件数据状态逻辑不能重用<br>
Hooks解决方式：<br>
通过自定义Hook，可以数据状态逻辑从组件中抽离出去，这样同一个Hook可以被多个组件使用，解决组件数据状态逻辑并不能重用的问题。</p> <p>类组件缺点二：组件之间传值过程复杂、缺点三：复杂场景下代码难以组织在一起<br>
Hooks解决方式：<br>
通过React内置的useState()函数，可以将不同数据分别从&quot;this.state&quot;中独立拆分出去。降低数据复杂度和可维护性，同时解决类组件缺点三中“内部state数据只能是整体，无法被拆分更细”的问题。</p> <p>通过React内置的useEffect()函数，将componentDidMount、componentDidUpdate、componentWillUncount 3个生命周期函数通过Hook(钩子)关联成1个处理函数，解决事件订阅分散在多个生命周期函数的问题。</p> <h5 id="最为关键的是-hook还能实现一些类组件根本不能实现的功能-比如全局共享数据-代替redux。"><a href="#最为关键的是-hook还能实现一些类组件根本不能实现的功能-比如全局共享数据-代替redux。" class="header-anchor">#</a> 最为关键的是，hook还能实现一些类组件根本不能实现的功能，比如全局共享数据，代替Redux。</h5> <p>如果阅读过上面文字，你依然一头雾水，不要着急，你现在只需要对Hooks有一个大体了解即可。<br>
随着后面的深入学习，你将逐个掌握Hooks的关键用法。</p> <h5 id="你只需记住一个结论-忘掉类组件-使用hook进行函数组件开发-将是一个明智选择。"><a href="#你只需记住一个结论-忘掉类组件-使用hook进行函数组件开发-将是一个明智选择。" class="header-anchor">#</a> 你只需记住一个结论：忘掉类组件，使用Hook进行函数组件开发，将是一个明智选择。</h5> <br> <blockquote><p>以下内容更新于 2021.01.10</p></blockquote> <p>下面讲解一下 React 的生命周期函数，面对如此复杂的生命周期函数，是没有必要过于了解和研究的，目前来说，一般只需学习使用 useEffect 这个 hook 即可。</p> <p>useEffect 这个 hook 会在稍后讲解。</p> <h2 id="react生命周期函数"><a href="#react生命周期函数" class="header-anchor">#</a> React生命周期函数</h2> <p>React 一次状态更新，一共分为 2 个阶段、4 个生命周期。</p> <p><strong>2 个阶段：</strong></p> <ol><li>render阶段：包含Diff算法，计算出状态变化</li> <li>commit渲染阶段：ReactDom渲染器，将状态变化渲染在视图中</li></ol> <p><strong>4个生命周期：</strong></p> <ol><li>Mount(第一次挂载)</li> <li>Update(更新)</li> <li>Unmount(卸载)</li> <li>Error(子项发生错误)</li></ol> <table><thead><tr><th>生命周期函数</th> <th>所属阶段</th> <th>所属生命周期</th></tr></thead> <tbody><tr><td>constructor</td> <td>Render阶段</td> <td>Mount</td></tr> <tr><td>componentWillReceiveProps</td> <td>Render阶段</td> <td>Update</td></tr> <tr><td>getDerivedStateFromProps</td> <td>Render阶段</td> <td>并存于Moun、Update</td></tr> <tr><td>getDerivedStateFromError</td> <td>Render阶段</td> <td>Error</td></tr> <tr><td>shouldComponentUpdate</td> <td>Render阶段</td> <td>Update</td></tr> <tr><td>componentWillMount</td> <td>Render阶段</td> <td>Mount</td></tr> <tr><td>componentWillUpdate</td> <td>Render阶段</td> <td>Update</td></tr> <tr><td>render</td> <td>Render阶段</td> <td>并存于Mount、Update</td></tr> <tr><td>componentDidMount</td> <td>Commit阶段</td> <td>Mount</td></tr> <tr><td>getSnapshotBeforeUpdate</td> <td>Commit阶段</td> <td>Update</td></tr> <tr><td>componentDidUpdate</td> <td>Commit阶段</td> <td>Update</td></tr> <tr><td>componentWillUnmount</td> <td>Commit阶段</td> <td>Unmount</td></tr> <tr><td>componentDidCatch</td> <td>Commit阶段</td> <td>Error</td></tr></tbody></table> <p><strong>注意事情：</strong></p> <p>componentWillReceiveProps、componentWillMount、componentWillUpdate 这 3 个生命周期函数正在逐步被 React 官方放弃使用，不推荐继续使用这 3 个生命周期函数。</p> <p>与之对应的是 getDerivedStateFromProps、getDerivedStateFromError 这 2 个这是被推荐使用的。</p> <p>关于各个生命周期函数详细介绍，可以参考 React 官方文档：
https://zh-hans.reactjs.org/docs/react-component.html#commonly-used-lifecycle-methods</p> <p><strong>补充说明：</strong></p> <p><strong>目前并不是所有的生命周期函数都对应有 hook 函数。</strong></p> <p>再次重复一遍，这些生命周期函数你只需大致了解，初学者只需学会 useEffect 这个 hook 即可。</p> <blockquote><p>以上内容更新于 2021.01.10</p></blockquote> <h2 id="本节小结"><a href="#本节小结" class="header-anchor">#</a> 本节小结</h2> <p>1、Hook是React 16.8及以上版本才拥有的特性。<br>
2、Hook只是React“增加”的概念和一些API，对原有React体系并没有任何破坏。<br>
3、Hook有很多优势，比如不需要使用“this”、数据状态细致拆分、数据状态逻辑抽离出组件、代码组织更加自由灵活等。<br>
4、Hook只能用于函数组件，不能用于类组件中。<br>
5、Hook虽好，但React依然保留对类组件的支持，如果你就是不喜欢Hook，更偏向于继续使用类组件，那么也是可以的，只是你需要继续面对类组件的一些缺点。</p> <hr> <p>至此，你对Hook有了一个初步概念，接下来开始学习第1个Hook函数 useState。</p></div></div>  <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023-09-19, 09:20:46</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/pages/b364c0/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">02 useState基础用法</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/b364c0/">02 useState基础用法</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:allen@183.co" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="//github.183.co" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://i.y.qq.com/n2/m/share/details/taoge.html?id=8424326180&amp;hosteuin=" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2023
    <span>Allen | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6f8ed848.js" defer></script><script src="/assets/js/2.83be7545.js" defer></script><script src="/assets/js/8.d763ac36.js" defer></script>
  </body>
</html>
