(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(e){function n(n){for(var o,s,i=n[0],c=n[1],u=n[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);for(l&&l(n);p.length;)p.shift()();return a.push.apply(a,u||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],o=!0,i=1;i<t.length;i++){var c=t[i];0!==r[c]&&(o=!1)}o&&(a.splice(n--,1),e=s(s.s=t[0]))}return e}var o={},r={1:0},a=[];function s(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.e=function(e){var n=[],t=r[e];if(0!==t)if(t)n.push(t[2]);else{var o=new Promise((function(n,o){t=r[e]=[n,o]}));n.push(t[2]=o);var a,i=document.createElement("script");i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.src=function(e){return s.p+"assets/js/"+({}[e]||e)+"."+{2:"83be7545",3:"136b0782",4:"2e56199c",5:"2ab3c7f2",6:"fa34b130",7:"9dab484c",8:"d763ac36",9:"845b950f",10:"5a3204f9",11:"02768c01",12:"2c0a6e69",13:"aab6b678",14:"099be2b5",15:"a608c94d",16:"e2819852",17:"86af6682",18:"c8537385",19:"eab216d3",20:"682aa922",21:"219bb420",22:"84ecdbb0",23:"b55b7082",24:"0828344e",25:"c20d5ec5",26:"06149e04",27:"d221eed5",28:"53082f18",29:"eedb3a2c",30:"43e5e245"}[e]+".js"}(e);var c=new Error;a=function(n){i.onerror=i.onload=null,clearTimeout(u);var t=r[e];if(0!==t){if(t){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",c.name="ChunkLoadError",c.type=o,c.request=a,t[1](c)}r[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:i})}),12e4);i.onerror=i.onload=a,document.head.appendChild(i)}return Promise.all(n)},s.m=e,s.c=o,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)s.d(t,o,function(n){return e[n]}.bind(null,o));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="/",s.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=n,i=i.slice();for(var u=0;u<i.length;u++)n(i[u]);var l=c;a.push([97,0]),t()}([function(e,n,t){"use strict";var o=t(54),r=o.all;e.exports=o.IS_HTMLDDA?function(e){return"function"==typeof e||e===r}:function(e){return"function"==typeof e}},function(e,n,t){"use strict";var o=function(e){return e&&e.Math===Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof global&&global)||function(){return this}()||this||Function("return this")()},function(e,n,t){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,n,t){"use strict";var o=t(27),r=Function.prototype,a=r.call,s=o&&r.bind.bind(a,a);e.exports=o?s:function(e){return function(){return a.apply(e,arguments)}}},function(e,n){var t=Array.isArray;e.exports=t},function(e,n,t){"use strict";var o=t(2);e.exports=!o((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,n,t){var o=t(69),r="object"==typeof self&&self&&self.Object===Object&&self,a=o||r||Function("return this")();e.exports=a},function(e,n,t){"use strict";function o(e,n,t,o,r,a,s,i){var c,u="function"==typeof e?e.options:e;if(n&&(u.render=n,u.staticRenderFns=t,u._compiled=!0),o&&(u.functional=!0),a&&(u._scopeId="data-v-"+a),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):r&&(c=i?function(){r.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,n){return c.call(n),l(e,n)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:u}}t.d(n,"a",(function(){return o}))},function(e,n,t){"use strict";var o=t(3),r=t(35),a=o({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,n){return a(r(e),n)}},function(e,n,t){"use strict";var o=t(0),r=t(54),a=r.all;e.exports=r.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:o(e)||e===a}:function(e){return"object"==typeof e?null!==e:o(e)}},function(e,n,t){var o=t(163),r=t(166);e.exports=function(e,n){var t=r(e,n);return o(t)?t:void 0}},function(e,n,t){"use strict";t.d(n,"e",(function(){return o})),t.d(n,"b",(function(){return a})),t.d(n,"j",(function(){return s})),t.d(n,"g",(function(){return c})),t.d(n,"h",(function(){return u})),t.d(n,"i",(function(){return l})),t.d(n,"c",(function(){return d})),t.d(n,"f",(function(){return p})),t.d(n,"l",(function(){return f})),t.d(n,"m",(function(){return h})),t.d(n,"d",(function(){return v})),t.d(n,"k",(function(){return x})),t.d(n,"n",(function(){return g})),t.d(n,"a",(function(){return y}));t(13);const o=/#.*$/,r=/\.(md|html)$/,a=/\/$/,s=/^[a-z]+:/i;function i(e){return decodeURI(e).replace(o,"").replace(r,"")}function c(e){return s.test(e)}function u(e){return/^mailto:/.test(e)}function l(e){return/^tel:/.test(e)}function d(e){if(c(e))return e;if(!e)return"404";const n=e.match(o),t=n?n[0]:"",r=i(e);return a.test(r)?e:r+".html"+t}function p(e,n){const t=e.hash,r=function(e){const n=e&&e.match(o);if(n)return n[0]}(n);if(r&&t!==r)return!1;return i(e.path)===i(n)}function f(e,n,t){if(c(n))return{type:"external",path:n};t&&(n=function(e,n,t){const o=e.charAt(0);if("/"===o)return e;if("?"===o||"#"===o)return n+e;const r=n.split("/");t&&r[r.length-1]||r.pop();const a=e.replace(/^\//,"").split("/");for(let e=0;e<a.length;e++){const n=a[e];".."===n?r.pop():"."!==n&&r.push(n)}""!==r[0]&&r.unshift("");return r.join("/")}(n,t));const o=i(n);for(let n=0;n<e.length;n++)if(i(e[n].regularPath)===o)return Object.assign({},e[n],{type:"page",path:d(e[n].path)});return console.error(`[vuepress] No matching page found for sidebar item "${n}"`),{}}function h(e,n,t,o){const{pages:r,themeConfig:a}=t,s=o&&a.locales&&a.locales[o]||a;if("auto"===(e.frontmatter.sidebar||s.sidebar||a.sidebar))return m(e);const i=s.sidebar||a.sidebar;if(i){const{base:t,config:o}=function(e,n){if(Array.isArray(n))return{base:"/",config:n};for(const o in n)if(0===(t=e,/(\.html|\/)$/.test(t)?t:t+"/").indexOf(encodeURI(o)))return{base:o,config:n[o]};var t;return{}}(n,i);return"auto"===o?m(e):o?o.map(e=>function e(n,t,o,r=1){if("string"==typeof n)return f(t,n,o);if(Array.isArray(n))return Object.assign(f(t,n[0],o),{title:n[1]});{r>3&&console.error("[vuepress] detected a too deep nested sidebar group.");const a=n.children||[];return 0===a.length&&n.path?Object.assign(f(t,n.path,o),{title:n.title}):{type:"group",path:n.path,title:n.title,sidebarDepth:n.sidebarDepth,initialOpenGroupIndex:n.initialOpenGroupIndex,children:a.map(n=>e(n,t,o,r+1)),collapsable:!1!==n.collapsable}}}(e,r,t)):[]}return[]}function m(e){const n=v(e.headers||[]);return[{type:"group",collapsable:!1,title:e.title,path:null,children:n.map(n=>({type:"auto",title:n.title,basePath:e.path,path:e.path+"#"+n.slug,children:n.children||[]}))}]}function v(e){let n;return(e=e.map(e=>Object.assign({},e))).forEach(e=>{2===e.level?n=e:n&&(n.children||(n.children=[])).push(e)}),e.filter(e=>2===e.level)}function x(e){return Object.assign(e,{type:e.items&&e.items.length?"links":"link"})}function g(e){return Object.prototype.toString.call(e).match(/\[object (.*?)\]/)[1].toLowerCase()}function b(e){let n=e.frontmatter.date||e.lastUpdated||new Date,t=new Date(n);return"Invalid Date"==t&&n&&(t=new Date(n.replace(/-/g,"/"))),t.getTime()}function y(e,n){return b(n)-b(e)}},function(e,n){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,n,t){"use strict";var o=t(25),r=t(35),a=t(37),s=t(127),i=t(129);o({target:"Array",proto:!0,arity:1,forced:t(2)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var n=r(this),t=a(n),o=arguments.length;i(t+o);for(var c=0;c<o;c++)n[t]=arguments[c],t++;return s(n,t),t}})},function(e,n,t){var o=t(16),r=t(148),a=t(149),s=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?r(e):a(e)}},function(e,n,t){"use strict";var o=t(5),r=t(18),a=t(28);e.exports=o?function(e,n,t){return r.f(e,n,a(1,t))}:function(e,n,t){return e[n]=t,e}},function(e,n,t){var o=t(6).Symbol;e.exports=o},function(e,n,t){"use strict";var o=t(3),r=o({}.toString),a=o("".slice);e.exports=function(e){return a(r(e),8,-1)}},function(e,n,t){"use strict";var o=t(5),r=t(63),a=t(106),s=t(36),i=t(53),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor;n.f=o?a?function(e,n,t){if(s(e),n=i(n),s(t),"function"==typeof e&&"prototype"===n&&"value"in t&&"writable"in t&&!t.writable){var o=l(e,n);o&&o.writable&&(e[n]=t.value,t={configurable:"configurable"in t?t.configurable:o.configurable,enumerable:"enumerable"in t?t.enumerable:o.enumerable,writable:!1})}return u(e,n,t)}:u:function(e,n,t){if(s(e),n=i(n),s(t),r)try{return u(e,n,t)}catch(e){}if("get"in t||"set"in t)throw c("Accessors not supported");return"value"in t&&(e[n]=t.value),e}},function(e,n,t){var o=t(153),r=t(154),a=t(155),s=t(156),i=t(157);function c(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var o=e[n];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=r,c.prototype.get=a,c.prototype.has=s,c.prototype.set=i,e.exports=c},function(e,n,t){var o=t(71);e.exports=function(e,n){for(var t=e.length;t--;)if(o(e[t][0],n))return t;return-1}},function(e,n,t){var o=t(10)(Object,"create");e.exports=o},function(e,n,t){var o=t(175);e.exports=function(e,n){var t=e.__data__;return o(n)?t["string"==typeof n?"string":"hash"]:t.map}},function(e,n,t){var o=t(45);e.exports=function(e){if("string"==typeof e||o(e))return e;var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(e,n,t){var o,r;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(r="function"==typeof(o=function(){var e,n,t={version:"0.2.0"},o=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function r(e,n,t){return e<n?n:e>t?t:e}function a(e){return 100*(-1+e)}t.configure=function(e){var n,t;for(n in e)void 0!==(t=e[n])&&e.hasOwnProperty(n)&&(o[n]=t);return this},t.status=null,t.set=function(e){var n=t.isStarted();e=r(e,o.minimum,1),t.status=1===e?null:e;var c=t.render(!n),u=c.querySelector(o.barSelector),l=o.speed,d=o.easing;return c.offsetWidth,s((function(n){""===o.positionUsing&&(o.positionUsing=t.getPositioningCSS()),i(u,function(e,n,t){var r;return(r="translate3d"===o.positionUsing?{transform:"translate3d("+a(e)+"%,0,0)"}:"translate"===o.positionUsing?{transform:"translate("+a(e)+"%,0)"}:{"margin-left":a(e)+"%"}).transition="all "+n+"ms "+t,r}(e,l,d)),1===e?(i(c,{transition:"none",opacity:1}),c.offsetWidth,setTimeout((function(){i(c,{transition:"all "+l+"ms linear",opacity:0}),setTimeout((function(){t.remove(),n()}),l)}),l)):setTimeout(n,l)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var e=function(){setTimeout((function(){t.status&&(t.trickle(),e())}),o.trickleSpeed)};return o.trickle&&e(),this},t.done=function(e){return e||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(e){var n=t.status;return n?("number"!=typeof e&&(e=(1-n)*r(Math.random()*n,.1,.95)),n=r(n+e,0,.994),t.set(n)):t.start()},t.trickle=function(){return t.inc(Math.random()*o.trickleRate)},e=0,n=0,t.promise=function(o){return o&&"resolved"!==o.state()?(0===n&&t.start(),e++,n++,o.always((function(){0==--n?(e=0,t.done()):t.set((e-n)/e)})),this):this},t.render=function(e){if(t.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=o.template;var r,s=n.querySelector(o.barSelector),c=e?"-100":a(t.status||0),l=document.querySelector(o.parent);return i(s,{transition:"all 0 linear",transform:"translate3d("+c+"%,0,0)"}),o.showSpinner||(r=n.querySelector(o.spinnerSelector))&&p(r),l!=document.body&&u(l,"nprogress-custom-parent"),l.appendChild(n),n},t.remove=function(){l(document.documentElement,"nprogress-busy"),l(document.querySelector(o.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&p(e)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var e=document.body.style,n="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return n+"Perspective"in e?"translate3d":n+"Transform"in e?"translate":"margin"};var s=function(){var e=[];function n(){var t=e.shift();t&&t(n)}return function(t){e.push(t),1==e.length&&n()}}(),i=function(){var e=["Webkit","O","Moz","ms"],n={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,n){return n.toUpperCase()})),n[t]||(n[t]=function(n){var t=document.body.style;if(n in t)return n;for(var o,r=e.length,a=n.charAt(0).toUpperCase()+n.slice(1);r--;)if((o=e[r]+a)in t)return o;return n}(t))}function o(e,n,o){n=t(n),e.style[n]=o}return function(e,n){var t,r,a=arguments;if(2==a.length)for(t in n)void 0!==(r=n[t])&&n.hasOwnProperty(t)&&o(e,t,r);else o(e,a[1],a[2])}}();function c(e,n){return("string"==typeof e?e:d(e)).indexOf(" "+n+" ")>=0}function u(e,n){var t=d(e),o=t+n;c(t,n)||(e.className=o.substring(1))}function l(e,n){var t,o=d(e);c(e,n)&&(t=o.replace(" "+n+" "," "),e.className=t.substring(1,t.length-1))}function d(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function p(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return t})?o.call(n,t,n,e):o)||(e.exports=r)},function(e,n,t){"use strict";var o=t(1),r=t(49).f,a=t(15),s=t(107),i=t(34),c=t(65),u=t(123);e.exports=function(e,n){var t,l,d,p,f,h=e.target,m=e.global,v=e.stat;if(t=m?o:v?o[h]||i(h,{}):(o[h]||{}).prototype)for(l in n){if(p=n[l],d=e.dontCallGetSet?(f=r(t,l))&&f.value:t[l],!u(m?l:h+(v?".":"#")+l,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(e.sham||d&&d.sham)&&a(p,"sham",!0),s(t,l,p,e)}}},function(e,n,t){"use strict";var o=t(27),r=Function.prototype.call;e.exports=o?r.bind(r):function(){return r.apply(r,arguments)}},function(e,n,t){"use strict";var o=t(2);e.exports=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},function(e,n,t){"use strict";e.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}},function(e,n,t){"use strict";var o=t(50),r=t(51);e.exports=function(e){return o(r(e))}},function(e,n,t){"use strict";var o=t(1),r=t(0),a=function(e){return r(e)?e:void 0};e.exports=function(e,n){return arguments.length<2?a(o[e]):o[e]&&o[e][n]}},function(e,n,t){"use strict";var o=t(0),r=t(103),a=TypeError;e.exports=function(e){if(o(e))return e;throw a(r(e)+" is not a function")}},function(e,n,t){"use strict";var o=t(1),r=t(60),a=t(8),s=t(62),i=t(58),c=t(57),u=o.Symbol,l=r("wks"),d=c?u.for||u:u&&u.withoutSetter||s;e.exports=function(e){return a(l,e)||(l[e]=i&&a(u,e)?u[e]:d("Symbol."+e)),l[e]}},function(e,n,t){"use strict";var o=t(1),r=t(34),a=o["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=a},function(e,n,t){"use strict";var o=t(1),r=Object.defineProperty;e.exports=function(e,n){try{r(o,e,{value:n,configurable:!0,writable:!0})}catch(t){o[e]=n}return n}},function(e,n,t){"use strict";var o=t(51),r=Object;e.exports=function(e){return r(o(e))}},function(e,n,t){"use strict";var o=t(9),r=String,a=TypeError;e.exports=function(e){if(o(e))return e;throw a(r(e)+" is not an object")}},function(e,n,t){"use strict";var o=t(120);e.exports=function(e){return o(e.length)}},function(e,n,t){var o=t(147),r=t(12),a=Object.prototype,s=a.hasOwnProperty,i=a.propertyIsEnumerable,c=o(function(){return arguments}())?o:function(e){return r(e)&&s.call(e,"callee")&&!i.call(e,"callee")};e.exports=c},function(e,n,t){var o=t(10)(t(6),"Map");e.exports=o},function(e,n){e.exports=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},function(e,n,t){var o=t(167),r=t(174),a=t(176),s=t(177),i=t(178);function c(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var o=e[n];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=r,c.prototype.get=a,c.prototype.has=s,c.prototype.set=i,e.exports=c},function(e,n){e.exports=function(e){var n=-1,t=Array(e.size);return e.forEach((function(e){t[++n]=e})),t}},function(e,n){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,n,t){var o=t(4),r=t(45),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,n){if(o(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!r(e))||(s.test(e)||!a.test(e)||null!=n&&e in Object(n))}},function(e,n,t){var o=t(14),r=t(12);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==o(e)}},function(e,n){e.exports=function(e){return e}},function(e,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,n){var t=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,i="object"==typeof global&&global&&global.Object===Object&&global,c="object"==typeof self&&self&&self.Object===Object&&self,u=i||c||Function("return this")(),l=Object.prototype.toString,d=Math.max,p=Math.min,f=function(){return u.Date.now()};function h(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==l.call(e)}(e))return NaN;if(h(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=h(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(t,"");var i=r.test(e);return i||a.test(e)?s(e.slice(2),i?2:8):o.test(e)?NaN:+e}e.exports=function(e,n,t){var o,r,a,s,i,c,u=0,l=!1,v=!1,x=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(n){var t=o,a=r;return o=r=void 0,u=n,s=e.apply(a,t)}function b(e){return u=e,i=setTimeout(k,n),l?g(e):s}function y(e){var t=e-c;return void 0===c||t>=n||t<0||v&&e-u>=a}function k(){var e=f();if(y(e))return _(e);i=setTimeout(k,function(e){var t=n-(e-c);return v?p(t,a-(e-u)):t}(e))}function _(e){return i=void 0,x&&o?g(e):(o=r=void 0,s)}function w(){var e=f(),t=y(e);if(o=arguments,r=this,c=e,t){if(void 0===i)return b(c);if(v)return i=setTimeout(k,n),g(c)}return void 0===i&&(i=setTimeout(k,n)),s}return n=m(n)||0,h(t)&&(l=!!t.leading,a=(v="maxWait"in t)?d(m(t.maxWait)||0,n):a,x="trailing"in t?!!t.trailing:x),w.cancel=function(){void 0!==i&&clearTimeout(i),u=0,o=c=r=i=void 0},w.flush=function(){return void 0===i?s:_(f())},w}},function(e,n,t){"use strict";var o=t(5),r=t(26),a=t(99),s=t(28),i=t(29),c=t(53),u=t(8),l=t(63),d=Object.getOwnPropertyDescriptor;n.f=o?d:function(e,n){if(e=i(e),n=c(n),l)try{return d(e,n)}catch(e){}if(u(e,n))return s(!r(a.f,e,n),e[n])}},function(e,n,t){"use strict";var o=t(3),r=t(2),a=t(17),s=Object,i=o("".split);e.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===a(e)?i(e,""):s(e)}:s},function(e,n,t){"use strict";var o=t(52),r=TypeError;e.exports=function(e){if(o(e))throw r("Can't call method on "+e);return e}},function(e,n,t){"use strict";e.exports=function(e){return null==e}},function(e,n,t){"use strict";var o=t(100),r=t(55);e.exports=function(e){var n=o(e,"string");return r(n)?n:n+""}},function(e,n,t){"use strict";var o="object"==typeof document&&document.all,r=void 0===o&&void 0!==o;e.exports={all:o,IS_HTMLDDA:r}},function(e,n,t){"use strict";var o=t(30),r=t(0),a=t(56),s=t(57),i=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var n=o("Symbol");return r(n)&&a(n.prototype,i(e))}},function(e,n,t){"use strict";var o=t(3);e.exports=o({}.isPrototypeOf)},function(e,n,t){"use strict";var o=t(58);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,n,t){"use strict";var o=t(59),r=t(2),a=t(1).String;e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},function(e,n,t){"use strict";var o,r,a=t(1),s=t(101),i=a.process,c=a.Deno,u=i&&i.versions||c&&c.version,l=u&&u.v8;l&&(r=(o=l.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!r&&s&&(!(o=s.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=s.match(/Chrome\/(\d+)/))&&(r=+o[1]),e.exports=r},function(e,n,t){"use strict";var o=t(61),r=t(33);(e.exports=function(e,n){return r[e]||(r[e]=void 0!==n?n:{})})("versions",[]).push({version:"3.32.2",mode:o?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e,n,t){"use strict";e.exports=!1},function(e,n,t){"use strict";var o=t(3),r=0,a=Math.random(),s=o(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++r+a,36)}},function(e,n,t){"use strict";var o=t(5),r=t(2),a=t(105);e.exports=!o&&!r((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(e,n,t){"use strict";e.exports={}},function(e,n,t){"use strict";var o=t(8),r=t(114),a=t(49),s=t(18);e.exports=function(e,n,t){for(var i=r(n),c=s.f,u=a.f,l=0;l<i.length;l++){var d=i[l];o(e,d)||t&&o(t,d)||c(e,d,u(n,d))}}},function(e,n,t){"use strict";var o=t(119);e.exports=function(e){var n=+e;return n!=n||0===n?0:o(n)}},function(e,n,t){"use strict";var o=t(133),r=t(36),a=t(134);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,n=!1,t={};try{(e=o(Object.prototype,"__proto__","set"))(t,[]),n=t instanceof Array}catch(e){}return function(t,o){return r(t),a(o),n?e(t,o):t.__proto__=o,t}}():void 0)},function(e,n){e.exports=function(e,n){for(var t=-1,o=n.length,r=e.length;++t<o;)e[r+t]=n[t];return e}},function(e,n){var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},function(e,n,t){var o=t(19),r=t(158),a=t(159),s=t(160),i=t(161),c=t(162);function u(e){var n=this.__data__=new o(e);this.size=n.size}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=s,u.prototype.has=i,u.prototype.set=c,e.exports=u},function(e,n){e.exports=function(e,n){return e===n||e!=e&&n!=n}},function(e,n,t){var o=t(14),r=t(40);e.exports=function(e){if(!r(e))return!1;var n=o(e);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}},function(e,n){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,n,t){var o=t(179),r=t(12);e.exports=function e(n,t,a,s,i){return n===t||(null==n||null==t||!r(n)&&!r(t)?n!=n&&t!=t:o(n,t,a,s,e,i))}},function(e,n,t){var o=t(76),r=t(182),a=t(77);e.exports=function(e,n,t,s,i,c){var u=1&t,l=e.length,d=n.length;if(l!=d&&!(u&&d>l))return!1;var p=c.get(e),f=c.get(n);if(p&&f)return p==n&&f==e;var h=-1,m=!0,v=2&t?new o:void 0;for(c.set(e,n),c.set(n,e);++h<l;){var x=e[h],g=n[h];if(s)var b=u?s(g,x,h,n,e,c):s(x,g,h,e,n,c);if(void 0!==b){if(b)continue;m=!1;break}if(v){if(!r(n,(function(e,n){if(!a(v,n)&&(x===e||i(x,e,t,s,c)))return v.push(n)}))){m=!1;break}}else if(x!==g&&!i(x,g,t,s,c)){m=!1;break}}return c.delete(e),c.delete(n),m}},function(e,n,t){var o=t(41),r=t(180),a=t(181);function s(e){var n=-1,t=null==e?0:e.length;for(this.__data__=new o;++n<t;)this.add(e[n])}s.prototype.add=s.prototype.push=r,s.prototype.has=a,e.exports=s},function(e,n){e.exports=function(e,n){return e.has(n)}},function(e,n,t){var o=t(192),r=t(198),a=t(82);e.exports=function(e){return a(e)?o(e):r(e)}},function(e,n,t){(function(e){var o=t(6),r=t(194),a=n&&!n.nodeType&&n,s=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=s&&s.exports===a?o.Buffer:void 0,c=(i?i.isBuffer:void 0)||r;e.exports=c}).call(this,t(47)(e))},function(e,n){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var o=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==o||"symbol"!=o&&t.test(e))&&e>-1&&e%1==0&&e<n}},function(e,n,t){var o=t(195),r=t(196),a=t(197),s=a&&a.isTypedArray,i=s?r(s):o;e.exports=i},function(e,n,t){var o=t(72),r=t(43);e.exports=function(e){return null!=e&&r(e.length)&&!o(e)}},function(e,n,t){var o=t(10)(t(6),"Set");e.exports=o},function(e,n,t){var o=t(40);e.exports=function(e){return e==e&&!o(e)}},function(e,n){e.exports=function(e,n){return function(t){return null!=t&&(t[e]===n&&(void 0!==n||e in Object(t)))}}},function(e,n,t){var o=t(87),r=t(23);e.exports=function(e,n){for(var t=0,a=(n=o(n,e)).length;null!=e&&t<a;)e=e[r(n[t++])];return t&&t==a?e:void 0}},function(e,n,t){var o=t(4),r=t(44),a=t(209),s=t(212);e.exports=function(e,n){return o(e)?e:r(e,n)?[e]:a(s(e))}},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){var o=t(145),r=t(150),a=t(221),s=t(229),i=t(238),c=t(96),u=a((function(e){var n=c(e);return i(n)&&(n=void 0),s(o(e,1,i,!0),r(n,2))}));e.exports=u},function(e,n,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var o=/["'&<>]/;e.exports=function(e){var n,t=""+e,r=o.exec(t);if(!r)return t;var a="",s=0,i=0;for(s=r.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}i!==s&&(a+=t.substring(i,s)),i=s+1,a+=n}return i!==s?a+t.substring(i,s):a}},function(e,n,t){"use strict";t.r(n);var o={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},r=(t(241),t(7)),a=Object(r.a)(o,(function(){return(0,this._self._c)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"4f1e9d0c",null);n.default=a.exports},function(e,n,t){"use strict";t.r(n);var o={name:"CodeGroup",data:()=>({codeTabs:[],activeCodeTabIndex:-1}),watch:{activeCodeTabIndex(e){this.codeTabs.forEach(e=>{e.elm.classList.remove("theme-code-block__active")}),this.codeTabs[e].elm.classList.add("theme-code-block__active")}},mounted(){this.codeTabs=(this.$slots.default||[]).filter(e=>Boolean(e.componentOptions)).map((e,n)=>(""===e.componentOptions.propsData.active&&(this.activeCodeTabIndex=n),{title:e.componentOptions.propsData.title,elm:e.elm})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab(e){this.activeCodeTabIndex=e}}},r=(t(242),t(7)),a=Object(r.a)(o,(function(){var e=this,n=e._self._c;return n("div",{staticClass:"theme-code-group"},[n("div",{staticClass:"theme-code-group__nav"},[n("ul",{staticClass:"theme-code-group__ul"},e._l(e.codeTabs,(function(t,o){return n("li",{key:t.title,staticClass:"theme-code-group__li"},[n("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":o===e.activeCodeTabIndex},on:{click:function(n){return e.changeCodeTab(o)}}},[e._v("\n            "+e._s(t.title)+"\n          ")])])})),0)]),e._v(" "),e._t("default"),e._v(" "),e.codeTabs.length<1?n("pre",{staticClass:"pre-blank"},[e._v("// Make sure to add code blocks to your code group")]):e._e()],2)}),[],!1,null,"2f5f1757",null);n.default=a.exports},function(e,n){e.exports=function(e){var n=null==e?0:e.length;return n?e[n-1]:void 0}},function(e,n,t){e.exports=t(247)},function(e,n,t){"use strict";var o=t(25),r=t(124).left,a=t(125),s=t(59);o({target:"Array",proto:!0,forced:!t(126)&&s>79&&s<83||!a("reduce")},{reduce:function(e){var n=arguments.length;return r(this,e,n,n>1?arguments[1]:void 0)}})},function(e,n,t){"use strict";var o={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!o.call({1:2},1);n.f=a?function(e){var n=r(this,e);return!!n&&n.enumerable}:o},function(e,n,t){"use strict";var o=t(26),r=t(9),a=t(55),s=t(102),i=t(104),c=t(32),u=TypeError,l=c("toPrimitive");e.exports=function(e,n){if(!r(e)||a(e))return e;var t,c=s(e,l);if(c){if(void 0===n&&(n="default"),t=o(c,e,n),!r(t)||a(t))return t;throw u("Can't convert object to primitive value")}return void 0===n&&(n="number"),i(e,n)}},function(e,n,t){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},function(e,n,t){"use strict";var o=t(31),r=t(52);e.exports=function(e,n){var t=e[n];return r(t)?void 0:o(t)}},function(e,n,t){"use strict";var o=String;e.exports=function(e){try{return o(e)}catch(e){return"Object"}}},function(e,n,t){"use strict";var o=t(26),r=t(0),a=t(9),s=TypeError;e.exports=function(e,n){var t,i;if("string"===n&&r(t=e.toString)&&!a(i=o(t,e)))return i;if(r(t=e.valueOf)&&!a(i=o(t,e)))return i;if("string"!==n&&r(t=e.toString)&&!a(i=o(t,e)))return i;throw s("Can't convert object to primitive value")}},function(e,n,t){"use strict";var o=t(1),r=t(9),a=o.document,s=r(a)&&r(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},function(e,n,t){"use strict";var o=t(5),r=t(2);e.exports=o&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(e,n,t){"use strict";var o=t(0),r=t(18),a=t(108),s=t(34);e.exports=function(e,n,t,i){i||(i={});var c=i.enumerable,u=void 0!==i.name?i.name:n;if(o(t)&&a(t,u,i),i.global)c?e[n]=t:s(n,t);else{try{i.unsafe?e[n]&&(c=!0):delete e[n]}catch(e){}c?e[n]=t:r.f(e,n,{value:t,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return e}},function(e,n,t){"use strict";var o=t(3),r=t(2),a=t(0),s=t(8),i=t(5),c=t(109).CONFIGURABLE,u=t(110),l=t(111),d=l.enforce,p=l.get,f=String,h=Object.defineProperty,m=o("".slice),v=o("".replace),x=o([].join),g=i&&!r((function(){return 8!==h((function(){}),"length",{value:8}).length})),b=String(String).split("String"),y=e.exports=function(e,n,t){"Symbol("===m(f(n),0,7)&&(n="["+v(f(n),/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(n="get "+n),t&&t.setter&&(n="set "+n),(!s(e,"name")||c&&e.name!==n)&&(i?h(e,"name",{value:n,configurable:!0}):e.name=n),g&&t&&s(t,"arity")&&e.length!==t.arity&&h(e,"length",{value:t.arity});try{t&&s(t,"constructor")&&t.constructor?i&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var o=d(e);return s(o,"source")||(o.source=x(b,"string"==typeof n?n:"")),e};Function.prototype.toString=y((function(){return a(this)&&p(this).source||u(this)}),"toString")},function(e,n,t){"use strict";var o=t(5),r=t(8),a=Function.prototype,s=o&&Object.getOwnPropertyDescriptor,i=r(a,"name"),c=i&&"something"===function(){}.name,u=i&&(!o||o&&s(a,"name").configurable);e.exports={EXISTS:i,PROPER:c,CONFIGURABLE:u}},function(e,n,t){"use strict";var o=t(3),r=t(0),a=t(33),s=o(Function.toString);r(a.inspectSource)||(a.inspectSource=function(e){return s(e)}),e.exports=a.inspectSource},function(e,n,t){"use strict";var o,r,a,s=t(112),i=t(1),c=t(9),u=t(15),l=t(8),d=t(33),p=t(113),f=t(64),h=i.TypeError,m=i.WeakMap;if(s||d.state){var v=d.state||(d.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,o=function(e,n){if(v.has(e))throw h("Object already initialized");return n.facade=e,v.set(e,n),n},r=function(e){return v.get(e)||{}},a=function(e){return v.has(e)}}else{var x=p("state");f[x]=!0,o=function(e,n){if(l(e,x))throw h("Object already initialized");return n.facade=e,u(e,x,n),n},r=function(e){return l(e,x)?e[x]:{}},a=function(e){return l(e,x)}}e.exports={set:o,get:r,has:a,enforce:function(e){return a(e)?r(e):o(e,{})},getterFor:function(e){return function(n){var t;if(!c(n)||(t=r(n)).type!==e)throw h("Incompatible receiver, "+e+" required");return t}}}},function(e,n,t){"use strict";var o=t(1),r=t(0),a=o.WeakMap;e.exports=r(a)&&/native code/.test(String(a))},function(e,n,t){"use strict";var o=t(60),r=t(62),a=o("keys");e.exports=function(e){return a[e]||(a[e]=r(e))}},function(e,n,t){"use strict";var o=t(30),r=t(3),a=t(115),s=t(122),i=t(36),c=r([].concat);e.exports=o("Reflect","ownKeys")||function(e){var n=a.f(i(e)),t=s.f;return t?c(n,t(e)):n}},function(e,n,t){"use strict";var o=t(116),r=t(121).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},function(e,n,t){"use strict";var o=t(3),r=t(8),a=t(29),s=t(117).indexOf,i=t(64),c=o([].push);e.exports=function(e,n){var t,o=a(e),u=0,l=[];for(t in o)!r(i,t)&&r(o,t)&&c(l,t);for(;n.length>u;)r(o,t=n[u++])&&(~s(l,t)||c(l,t));return l}},function(e,n,t){"use strict";var o=t(29),r=t(118),a=t(37),s=function(e){return function(n,t,s){var i,c=o(n),u=a(c),l=r(s,u);if(e&&t!=t){for(;u>l;)if((i=c[l++])!=i)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===t)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},function(e,n,t){"use strict";var o=t(66),r=Math.max,a=Math.min;e.exports=function(e,n){var t=o(e);return t<0?r(t+n,0):a(t,n)}},function(e,n,t){"use strict";var o=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:o)(n)}},function(e,n,t){"use strict";var o=t(66),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},function(e,n,t){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,n,t){"use strict";n.f=Object.getOwnPropertySymbols},function(e,n,t){"use strict";var o=t(2),r=t(0),a=/#|\.prototype\./,s=function(e,n){var t=c[i(e)];return t===l||t!==u&&(r(n)?o(n):!!n)},i=s.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},function(e,n,t){"use strict";var o=t(31),r=t(35),a=t(50),s=t(37),i=TypeError,c=function(e){return function(n,t,c,u){o(t);var l=r(n),d=a(l),p=s(l),f=e?p-1:0,h=e?-1:1;if(c<2)for(;;){if(f in d){u=d[f],f+=h;break}if(f+=h,e?f<0:p<=f)throw i("Reduce of empty array with no initial value")}for(;e?f>=0:p>f;f+=h)f in d&&(u=t(u,d[f],f,l));return u}};e.exports={left:c(!1),right:c(!0)}},function(e,n,t){"use strict";var o=t(2);e.exports=function(e,n){var t=[][e];return!!t&&o((function(){t.call(null,n||function(){return 1},1)}))}},function(e,n,t){"use strict";var o=t(1),r=t(17);e.exports="process"===r(o.process)},function(e,n,t){"use strict";var o=t(5),r=t(128),a=TypeError,s=Object.getOwnPropertyDescriptor,i=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=i?function(e,n){if(r(e)&&!s(e,"length").writable)throw a("Cannot set read only .length");return e.length=n}:function(e,n){return e.length=n}},function(e,n,t){"use strict";var o=t(17);e.exports=Array.isArray||function(e){return"Array"===o(e)}},function(e,n,t){"use strict";var o=TypeError;e.exports=function(e){if(e>9007199254740991)throw o("Maximum allowed index exceeded");return e}},function(e,n,t){"use strict";var o=t(25),r=t(1),a=t(131),s=t(132),i=r.WebAssembly,c=7!==Error("e",{cause:7}).cause,u=function(e,n){var t={};t[e]=s(e,n,c),o({global:!0,constructor:!0,arity:1,forced:c},t)},l=function(e,n){if(i&&i[e]){var t={};t[e]=s("WebAssembly."+e,n,c),o({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:c},t)}};u("Error",(function(e){return function(n){return a(e,this,arguments)}})),u("EvalError",(function(e){return function(n){return a(e,this,arguments)}})),u("RangeError",(function(e){return function(n){return a(e,this,arguments)}})),u("ReferenceError",(function(e){return function(n){return a(e,this,arguments)}})),u("SyntaxError",(function(e){return function(n){return a(e,this,arguments)}})),u("TypeError",(function(e){return function(n){return a(e,this,arguments)}})),u("URIError",(function(e){return function(n){return a(e,this,arguments)}})),l("CompileError",(function(e){return function(n){return a(e,this,arguments)}})),l("LinkError",(function(e){return function(n){return a(e,this,arguments)}})),l("RuntimeError",(function(e){return function(n){return a(e,this,arguments)}}))},function(e,n,t){"use strict";var o=t(27),r=Function.prototype,a=r.apply,s=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(o?s.bind(a):function(){return s.apply(a,arguments)})},function(e,n,t){"use strict";var o=t(30),r=t(8),a=t(15),s=t(56),i=t(67),c=t(65),u=t(135),l=t(136),d=t(137),p=t(141),f=t(142),h=t(5),m=t(61);e.exports=function(e,n,t,v){var x=v?2:1,g=e.split("."),b=g[g.length-1],y=o.apply(null,g);if(y){var k=y.prototype;if(!m&&r(k,"cause")&&delete k.cause,!t)return y;var _=o("Error"),w=n((function(e,n){var t=d(v?n:e,void 0),o=v?new y(e):new y;return void 0!==t&&a(o,"message",t),f(o,w,o.stack,2),this&&s(k,this)&&l(o,this,w),arguments.length>x&&p(o,arguments[x]),o}));if(w.prototype=k,"Error"!==b?i?i(w,_):c(w,_,{name:!0}):h&&"stackTraceLimit"in y&&(u(w,y,"stackTraceLimit"),u(w,y,"prepareStackTrace")),c(w,y),!m)try{k.name!==b&&a(k,"name",b),k.constructor=w}catch(e){}return w}}},function(e,n,t){"use strict";var o=t(3),r=t(31);e.exports=function(e,n,t){try{return o(r(Object.getOwnPropertyDescriptor(e,n)[t]))}catch(e){}}},function(e,n,t){"use strict";var o=t(0),r=String,a=TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw a("Can't set "+r(e)+" as a prototype")}},function(e,n,t){"use strict";var o=t(18).f;e.exports=function(e,n,t){t in e||o(e,t,{configurable:!0,get:function(){return n[t]},set:function(e){n[t]=e}})}},function(e,n,t){"use strict";var o=t(0),r=t(9),a=t(67);e.exports=function(e,n,t){var s,i;return a&&o(s=n.constructor)&&s!==t&&r(i=s.prototype)&&i!==t.prototype&&a(e,i),e}},function(e,n,t){"use strict";var o=t(138);e.exports=function(e,n){return void 0===e?arguments.length<2?"":n:o(e)}},function(e,n,t){"use strict";var o=t(139),r=String;e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},function(e,n,t){"use strict";var o=t(140),r=t(0),a=t(17),s=t(32)("toStringTag"),i=Object,c="Arguments"===a(function(){return arguments}());e.exports=o?a:function(e){var n,t,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,n){try{return e[n]}catch(e){}}(n=i(e),s))?t:c?a(n):"Object"===(o=a(n))&&r(n.callee)?"Arguments":o}},function(e,n,t){"use strict";var o={};o[t(32)("toStringTag")]="z",e.exports="[object z]"===String(o)},function(e,n,t){"use strict";var o=t(9),r=t(15);e.exports=function(e,n){o(n)&&"cause"in n&&r(e,"cause",n.cause)}},function(e,n,t){"use strict";var o=t(15),r=t(143),a=t(144),s=Error.captureStackTrace;e.exports=function(e,n,t,i){a&&(s?s(e,n):o(e,"stack",r(t,i)))}},function(e,n,t){"use strict";var o=t(3),r=Error,a=o("".replace),s=String(r("zxcasd").stack),i=/\n\s*at [^:]*:[^\n]*/,c=i.test(s);e.exports=function(e,n){if(c&&"string"==typeof e&&!r.prepareStackTrace)for(;n--;)e=a(e,i,"");return e}},function(e,n,t){"use strict";var o=t(2),r=t(28);e.exports=!o((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},function(e,n,t){var o=t(68),r=t(146);e.exports=function e(n,t,a,s,i){var c=-1,u=n.length;for(a||(a=r),i||(i=[]);++c<u;){var l=n[c];t>0&&a(l)?t>1?e(l,t-1,a,s,i):o(i,l):s||(i[i.length]=l)}return i}},function(e,n,t){var o=t(16),r=t(38),a=t(4),s=o?o.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||r(e)||!!(s&&e&&e[s])}},function(e,n,t){var o=t(14),r=t(12);e.exports=function(e){return r(e)&&"[object Arguments]"==o(e)}},function(e,n,t){var o=t(16),r=Object.prototype,a=r.hasOwnProperty,s=r.toString,i=o?o.toStringTag:void 0;e.exports=function(e){var n=a.call(e,i),t=e[i];try{e[i]=void 0;var o=!0}catch(e){}var r=s.call(e);return o&&(n?e[i]=t:delete e[i]),r}},function(e,n){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},function(e,n,t){var o=t(151),r=t(207),a=t(46),s=t(4),i=t(218);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?s(e)?r(e[0],e[1]):o(e):i(e)}},function(e,n,t){var o=t(152),r=t(206),a=t(85);e.exports=function(e){var n=r(e);return 1==n.length&&n[0][2]?a(n[0][0],n[0][1]):function(t){return t===e||o(t,e,n)}}},function(e,n,t){var o=t(70),r=t(74);e.exports=function(e,n,t,a){var s=t.length,i=s,c=!a;if(null==e)return!i;for(e=Object(e);s--;){var u=t[s];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++s<i;){var l=(u=t[s])[0],d=e[l],p=u[1];if(c&&u[2]){if(void 0===d&&!(l in e))return!1}else{var f=new o;if(a)var h=a(d,p,l,e,n,f);if(!(void 0===h?r(p,d,3,a,f):h))return!1}}return!0}},function(e,n){e.exports=function(){this.__data__=[],this.size=0}},function(e,n,t){var o=t(20),r=Array.prototype.splice;e.exports=function(e){var n=this.__data__,t=o(n,e);return!(t<0)&&(t==n.length-1?n.pop():r.call(n,t,1),--this.size,!0)}},function(e,n,t){var o=t(20);e.exports=function(e){var n=this.__data__,t=o(n,e);return t<0?void 0:n[t][1]}},function(e,n,t){var o=t(20);e.exports=function(e){return o(this.__data__,e)>-1}},function(e,n,t){var o=t(20);e.exports=function(e,n){var t=this.__data__,r=o(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}},function(e,n,t){var o=t(19);e.exports=function(){this.__data__=new o,this.size=0}},function(e,n){e.exports=function(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}},function(e,n){e.exports=function(e){return this.__data__.get(e)}},function(e,n){e.exports=function(e){return this.__data__.has(e)}},function(e,n,t){var o=t(19),r=t(39),a=t(41);e.exports=function(e,n){var t=this.__data__;if(t instanceof o){var s=t.__data__;if(!r||s.length<199)return s.push([e,n]),this.size=++t.size,this;t=this.__data__=new a(s)}return t.set(e,n),this.size=t.size,this}},function(e,n,t){var o=t(72),r=t(164),a=t(40),s=t(73),i=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,p=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||r(e))&&(o(e)?p:i).test(s(e))}},function(e,n,t){var o,r=t(165),a=(o=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";e.exports=function(e){return!!a&&a in e}},function(e,n,t){var o=t(6)["__core-js_shared__"];e.exports=o},function(e,n){e.exports=function(e,n){return null==e?void 0:e[n]}},function(e,n,t){var o=t(168),r=t(19),a=t(39);e.exports=function(){this.size=0,this.__data__={hash:new o,map:new(a||r),string:new o}}},function(e,n,t){var o=t(169),r=t(170),a=t(171),s=t(172),i=t(173);function c(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var o=e[n];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=r,c.prototype.get=a,c.prototype.has=s,c.prototype.set=i,e.exports=c},function(e,n,t){var o=t(21);e.exports=function(){this.__data__=o?o(null):{},this.size=0}},function(e,n){e.exports=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}},function(e,n,t){var o=t(21),r=Object.prototype.hasOwnProperty;e.exports=function(e){var n=this.__data__;if(o){var t=n[e];return"__lodash_hash_undefined__"===t?void 0:t}return r.call(n,e)?n[e]:void 0}},function(e,n,t){var o=t(21),r=Object.prototype.hasOwnProperty;e.exports=function(e){var n=this.__data__;return o?void 0!==n[e]:r.call(n,e)}},function(e,n,t){var o=t(21);e.exports=function(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=o&&void 0===n?"__lodash_hash_undefined__":n,this}},function(e,n,t){var o=t(22);e.exports=function(e){var n=o(this,e).delete(e);return this.size-=n?1:0,n}},function(e,n){e.exports=function(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}},function(e,n,t){var o=t(22);e.exports=function(e){return o(this,e).get(e)}},function(e,n,t){var o=t(22);e.exports=function(e){return o(this,e).has(e)}},function(e,n,t){var o=t(22);e.exports=function(e,n){var t=o(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}},function(e,n,t){var o=t(70),r=t(75),a=t(183),s=t(186),i=t(202),c=t(4),u=t(79),l=t(81),d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,n,t,f,h,m){var v=c(e),x=c(n),g=v?"[object Array]":i(e),b=x?"[object Array]":i(n),y=(g="[object Arguments]"==g?d:g)==d,k=(b="[object Arguments]"==b?d:b)==d,_=g==b;if(_&&u(e)){if(!u(n))return!1;v=!0,y=!1}if(_&&!y)return m||(m=new o),v||l(e)?r(e,n,t,f,h,m):a(e,n,g,t,f,h,m);if(!(1&t)){var w=y&&p.call(e,"__wrapped__"),C=k&&p.call(n,"__wrapped__");if(w||C){var R=w?e.value():e,j=C?n.value():n;return m||(m=new o),h(R,j,t,f,m)}}return!!_&&(m||(m=new o),s(e,n,t,f,h,m))}},function(e,n){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,n){e.exports=function(e){return this.__data__.has(e)}},function(e,n){e.exports=function(e,n){for(var t=-1,o=null==e?0:e.length;++t<o;)if(n(e[t],t,e))return!0;return!1}},function(e,n,t){var o=t(16),r=t(184),a=t(71),s=t(75),i=t(185),c=t(42),u=o?o.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,n,t,o,u,d,p){switch(t){case"[object DataView]":if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=n.byteLength||!d(new r(e),new r(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+n);case"[object Error]":return e.name==n.name&&e.message==n.message;case"[object RegExp]":case"[object String]":return e==n+"";case"[object Map]":var f=i;case"[object Set]":var h=1&o;if(f||(f=c),e.size!=n.size&&!h)return!1;var m=p.get(e);if(m)return m==n;o|=2,p.set(e,n);var v=s(f(e),f(n),o,u,d,p);return p.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(n)}return!1}},function(e,n,t){var o=t(6).Uint8Array;e.exports=o},function(e,n){e.exports=function(e){var n=-1,t=Array(e.size);return e.forEach((function(e,o){t[++n]=[o,e]})),t}},function(e,n,t){var o=t(187),r=Object.prototype.hasOwnProperty;e.exports=function(e,n,t,a,s,i){var c=1&t,u=o(e),l=u.length;if(l!=o(n).length&&!c)return!1;for(var d=l;d--;){var p=u[d];if(!(c?p in n:r.call(n,p)))return!1}var f=i.get(e),h=i.get(n);if(f&&h)return f==n&&h==e;var m=!0;i.set(e,n),i.set(n,e);for(var v=c;++d<l;){var x=e[p=u[d]],g=n[p];if(a)var b=c?a(g,x,p,n,e,i):a(x,g,p,e,n,i);if(!(void 0===b?x===g||s(x,g,t,a,i):b)){m=!1;break}v||(v="constructor"==p)}if(m&&!v){var y=e.constructor,k=n.constructor;y==k||!("constructor"in e)||!("constructor"in n)||"function"==typeof y&&y instanceof y&&"function"==typeof k&&k instanceof k||(m=!1)}return i.delete(e),i.delete(n),m}},function(e,n,t){var o=t(188),r=t(189),a=t(78);e.exports=function(e){return o(e,a,r)}},function(e,n,t){var o=t(68),r=t(4);e.exports=function(e,n,t){var a=n(e);return r(e)?a:o(a,t(e))}},function(e,n,t){var o=t(190),r=t(191),a=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(e){return null==e?[]:(e=Object(e),o(s(e),(function(n){return a.call(e,n)})))}:r;e.exports=i},function(e,n){e.exports=function(e,n){for(var t=-1,o=null==e?0:e.length,r=0,a=[];++t<o;){var s=e[t];n(s,t,e)&&(a[r++]=s)}return a}},function(e,n){e.exports=function(){return[]}},function(e,n,t){var o=t(193),r=t(38),a=t(4),s=t(79),i=t(80),c=t(81),u=Object.prototype.hasOwnProperty;e.exports=function(e,n){var t=a(e),l=!t&&r(e),d=!t&&!l&&s(e),p=!t&&!l&&!d&&c(e),f=t||l||d||p,h=f?o(e.length,String):[],m=h.length;for(var v in e)!n&&!u.call(e,v)||f&&("length"==v||d&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||i(v,m))||h.push(v);return h}},function(e,n){e.exports=function(e,n){for(var t=-1,o=Array(e);++t<e;)o[t]=n(t);return o}},function(e,n){e.exports=function(){return!1}},function(e,n,t){var o=t(14),r=t(43),a=t(12),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&r(e.length)&&!!s[o(e)]}},function(e,n){e.exports=function(e){return function(n){return e(n)}}},function(e,n,t){(function(e){var o=t(69),r=n&&!n.nodeType&&n,a=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===r&&o.process,i=function(){try{var e=a&&a.require&&a.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=i}).call(this,t(47)(e))},function(e,n,t){var o=t(199),r=t(200),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!o(e))return r(e);var n=[];for(var t in Object(e))a.call(e,t)&&"constructor"!=t&&n.push(t);return n}},function(e,n){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},function(e,n,t){var o=t(201)(Object.keys,Object);e.exports=o},function(e,n){e.exports=function(e,n){return function(t){return e(n(t))}}},function(e,n,t){var o=t(203),r=t(39),a=t(204),s=t(83),i=t(205),c=t(14),u=t(73),l=u(o),d=u(r),p=u(a),f=u(s),h=u(i),m=c;(o&&"[object DataView]"!=m(new o(new ArrayBuffer(1)))||r&&"[object Map]"!=m(new r)||a&&"[object Promise]"!=m(a.resolve())||s&&"[object Set]"!=m(new s)||i&&"[object WeakMap]"!=m(new i))&&(m=function(e){var n=c(e),t="[object Object]"==n?e.constructor:void 0,o=t?u(t):"";if(o)switch(o){case l:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case f:return"[object Set]";case h:return"[object WeakMap]"}return n}),e.exports=m},function(e,n,t){var o=t(10)(t(6),"DataView");e.exports=o},function(e,n,t){var o=t(10)(t(6),"Promise");e.exports=o},function(e,n,t){var o=t(10)(t(6),"WeakMap");e.exports=o},function(e,n,t){var o=t(84),r=t(78);e.exports=function(e){for(var n=r(e),t=n.length;t--;){var a=n[t],s=e[a];n[t]=[a,s,o(s)]}return n}},function(e,n,t){var o=t(74),r=t(208),a=t(215),s=t(44),i=t(84),c=t(85),u=t(23);e.exports=function(e,n){return s(e)&&i(n)?c(u(e),n):function(t){var s=r(t,e);return void 0===s&&s===n?a(t,e):o(n,s,3)}}},function(e,n,t){var o=t(86);e.exports=function(e,n,t){var r=null==e?void 0:o(e,n);return void 0===r?t:r}},function(e,n,t){var o=t(210),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=o((function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(r,(function(e,t,o,r){n.push(o?r.replace(a,"$1"):t||e)})),n}));e.exports=s},function(e,n,t){var o=t(211);e.exports=function(e){var n=o(e,(function(e){return 500===t.size&&t.clear(),e})),t=n.cache;return n}},function(e,n,t){var o=t(41);function r(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var t=function(){var o=arguments,r=n?n.apply(this,o):o[0],a=t.cache;if(a.has(r))return a.get(r);var s=e.apply(this,o);return t.cache=a.set(r,s)||a,s};return t.cache=new(r.Cache||o),t}r.Cache=o,e.exports=r},function(e,n,t){var o=t(213);e.exports=function(e){return null==e?"":o(e)}},function(e,n,t){var o=t(16),r=t(214),a=t(4),s=t(45),i=o?o.prototype:void 0,c=i?i.toString:void 0;e.exports=function e(n){if("string"==typeof n)return n;if(a(n))return r(n,e)+"";if(s(n))return c?c.call(n):"";var t=n+"";return"0"==t&&1/n==-1/0?"-0":t}},function(e,n){e.exports=function(e,n){for(var t=-1,o=null==e?0:e.length,r=Array(o);++t<o;)r[t]=n(e[t],t,e);return r}},function(e,n,t){var o=t(216),r=t(217);e.exports=function(e,n){return null!=e&&r(e,n,o)}},function(e,n){e.exports=function(e,n){return null!=e&&n in Object(e)}},function(e,n,t){var o=t(87),r=t(38),a=t(4),s=t(80),i=t(43),c=t(23);e.exports=function(e,n,t){for(var u=-1,l=(n=o(n,e)).length,d=!1;++u<l;){var p=c(n[u]);if(!(d=null!=e&&t(e,p)))break;e=e[p]}return d||++u!=l?d:!!(l=null==e?0:e.length)&&i(l)&&s(p,l)&&(a(e)||r(e))}},function(e,n,t){var o=t(219),r=t(220),a=t(44),s=t(23);e.exports=function(e){return a(e)?o(s(e)):r(e)}},function(e,n){e.exports=function(e){return function(n){return null==n?void 0:n[e]}}},function(e,n,t){var o=t(86);e.exports=function(e){return function(n){return o(n,e)}}},function(e,n,t){var o=t(46),r=t(222),a=t(224);e.exports=function(e,n){return a(r(e,n,o),e+"")}},function(e,n,t){var o=t(223),r=Math.max;e.exports=function(e,n,t){return n=r(void 0===n?e.length-1:n,0),function(){for(var a=arguments,s=-1,i=r(a.length-n,0),c=Array(i);++s<i;)c[s]=a[n+s];s=-1;for(var u=Array(n+1);++s<n;)u[s]=a[s];return u[n]=t(c),o(e,this,u)}}},function(e,n){e.exports=function(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}},function(e,n,t){var o=t(225),r=t(228)(o);e.exports=r},function(e,n,t){var o=t(226),r=t(227),a=t(46),s=r?function(e,n){return r(e,"toString",{configurable:!0,enumerable:!1,value:o(n),writable:!0})}:a;e.exports=s},function(e,n){e.exports=function(e){return function(){return e}}},function(e,n,t){var o=t(10),r=function(){try{var e=o(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,n){var t=Date.now;e.exports=function(e){var n=0,o=0;return function(){var r=t(),a=16-(r-o);if(o=r,a>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},function(e,n,t){var o=t(76),r=t(230),a=t(235),s=t(77),i=t(236),c=t(42);e.exports=function(e,n,t){var u=-1,l=r,d=e.length,p=!0,f=[],h=f;if(t)p=!1,l=a;else if(d>=200){var m=n?null:i(e);if(m)return c(m);p=!1,l=s,h=new o}else h=n?[]:f;e:for(;++u<d;){var v=e[u],x=n?n(v):v;if(v=t||0!==v?v:0,p&&x==x){for(var g=h.length;g--;)if(h[g]===x)continue e;n&&h.push(x),f.push(v)}else l(h,x,t)||(h!==f&&h.push(x),f.push(v))}return f}},function(e,n,t){var o=t(231);e.exports=function(e,n){return!!(null==e?0:e.length)&&o(e,n,0)>-1}},function(e,n,t){var o=t(232),r=t(233),a=t(234);e.exports=function(e,n,t){return n==n?a(e,n,t):o(e,r,t)}},function(e,n){e.exports=function(e,n,t,o){for(var r=e.length,a=t+(o?1:-1);o?a--:++a<r;)if(n(e[a],a,e))return a;return-1}},function(e,n){e.exports=function(e){return e!=e}},function(e,n){e.exports=function(e,n,t){for(var o=t-1,r=e.length;++o<r;)if(e[o]===n)return o;return-1}},function(e,n){e.exports=function(e,n,t){for(var o=-1,r=null==e?0:e.length;++o<r;)if(t(n,e[o]))return!0;return!1}},function(e,n,t){var o=t(83),r=t(237),a=t(42),s=o&&1/a(new o([,-0]))[1]==1/0?function(e){return new o(e)}:r;e.exports=s},function(e,n){e.exports=function(){}},function(e,n,t){var o=t(82),r=t(12);e.exports=function(e){return r(e)&&o(e)}},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t(88)},function(e,n,t){"use strict";t(89)},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t(90)},function(e,n,t){"use strict";t(91)},function(e,n,t){"use strict";t.r(n);
/*!
 * Vue.js v2.7.14
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */
var o=Object.freeze({}),r=Array.isArray;function a(e){return null==e}function s(e){return null!=e}function i(e){return!0===e}function c(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function u(e){return"function"==typeof e}function l(e){return null!==e&&"object"==typeof e}var d=Object.prototype.toString;function p(e){return"[object Object]"===d.call(e)}function f(e){return"[object RegExp]"===d.call(e)}function h(e){var n=parseFloat(String(e));return n>=0&&Math.floor(n)===n&&isFinite(e)}function m(e){return s(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function v(e){return null==e?"":Array.isArray(e)||p(e)&&e.toString===d?JSON.stringify(e,null,2):String(e)}function x(e){var n=parseFloat(e);return isNaN(n)?e:n}function g(e,n){for(var t=Object.create(null),o=e.split(","),r=0;r<o.length;r++)t[o[r]]=!0;return n?function(e){return t[e.toLowerCase()]}:function(e){return t[e]}}g("slot,component",!0);var b=g("key,ref,slot,slot-scope,is");function y(e,n){var t=e.length;if(t){if(n===e[t-1])return void(e.length=t-1);var o=e.indexOf(n);if(o>-1)return e.splice(o,1)}}var k=Object.prototype.hasOwnProperty;function _(e,n){return k.call(e,n)}function w(e){var n=Object.create(null);return function(t){return n[t]||(n[t]=e(t))}}var C=/-(\w)/g,R=w((function(e){return e.replace(C,(function(e,n){return n?n.toUpperCase():""}))})),j=w((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),S=/\B([A-Z])/g,T=w((function(e){return e.replace(S,"-$1").toLowerCase()}));var E=Function.prototype.bind?function(e,n){return e.bind(n)}:function(e,n){function t(t){var o=arguments.length;return o?o>1?e.apply(n,arguments):e.call(n,t):e.call(n)}return t._length=e.length,t};function O(e,n){n=n||0;for(var t=e.length-n,o=new Array(t);t--;)o[t]=e[t+n];return o}function I(e,n){for(var t in n)e[t]=n[t];return e}function A(e){for(var n={},t=0;t<e.length;t++)e[t]&&I(n,e[t]);return n}function $(e,n,t){}var D=function(e,n,t){return!1},z=function(e){return e};function M(e,n){if(e===n)return!0;var t=l(e),o=l(n);if(!t||!o)return!t&&!o&&String(e)===String(n);try{var r=Array.isArray(e),a=Array.isArray(n);if(r&&a)return e.length===n.length&&e.every((function(e,t){return M(e,n[t])}));if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();if(r||a)return!1;var s=Object.keys(e),i=Object.keys(n);return s.length===i.length&&s.every((function(t){return M(e[t],n[t])}))}catch(e){return!1}}function P(e,n){for(var t=0;t<e.length;t++)if(M(e[t],n))return t;return-1}function H(e){var n=!1;return function(){n||(n=!0,e.apply(this,arguments))}}function L(e,n){return e===n?0===e&&1/e!=1/n:e==e||n==n}var B=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],V={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:D,isReservedAttr:D,isUnknownElement:D,getTagNamespace:$,parsePlatformTagName:z,mustUseProp:D,async:!0,_lifecycleHooks:U},F=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function N(e){var n=(e+"").charCodeAt(0);return 36===n||95===n}function q(e,n,t,o){Object.defineProperty(e,n,{value:t,enumerable:!!o,writable:!0,configurable:!0})}var W=new RegExp("[^".concat(F.source,".$_\\d]"));var X="__proto__"in{},J="undefined"!=typeof window,G=J&&window.navigator.userAgent.toLowerCase(),Z=G&&/msie|trident/.test(G),K=G&&G.indexOf("msie 9.0")>0,Y=G&&G.indexOf("edge/")>0;G&&G.indexOf("android");var Q=G&&/iphone|ipad|ipod|ios/.test(G);G&&/chrome\/\d+/.test(G),G&&/phantomjs/.test(G);var ee,ne=G&&G.match(/firefox\/(\d+)/),te={}.watch,oe=!1;if(J)try{var re={};Object.defineProperty(re,"passive",{get:function(){oe=!0}}),window.addEventListener("test-passive",null,re)}catch(e){}var ae=function(){return void 0===ee&&(ee=!J&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),ee},se=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ie(e){return"function"==typeof e&&/native code/.test(e.toString())}var ce,ue="undefined"!=typeof Symbol&&ie(Symbol)&&"undefined"!=typeof Reflect&&ie(Reflect.ownKeys);ce="undefined"!=typeof Set&&ie(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var le=null;function de(e){void 0===e&&(e=null),e||le&&le._scope.off(),le=e,e&&e._scope.on()}var pe=function(){function e(e,n,t,o,r,a,s,i){this.tag=e,this.data=n,this.children=t,this.text=o,this.elm=r,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=n&&n.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=i,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(e.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),e}(),fe=function(e){void 0===e&&(e="");var n=new pe;return n.text=e,n.isComment=!0,n};function he(e){return new pe(void 0,void 0,void 0,String(e))}function me(e){var n=new pe(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return n.ns=e.ns,n.isStatic=e.isStatic,n.key=e.key,n.isComment=e.isComment,n.fnContext=e.fnContext,n.fnOptions=e.fnOptions,n.fnScopeId=e.fnScopeId,n.asyncMeta=e.asyncMeta,n.isCloned=!0,n}var ve=0,xe=[],ge=function(){function e(){this._pending=!1,this.id=ve++,this.subs=[]}return e.prototype.addSub=function(e){this.subs.push(e)},e.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,xe.push(this))},e.prototype.depend=function(n){e.target&&e.target.addDep(this)},e.prototype.notify=function(e){var n=this.subs.filter((function(e){return e}));for(var t=0,o=n.length;t<o;t++){0,n[t].update()}},e}();ge.target=null;var be=[];function ye(e){be.push(e),ge.target=e}function ke(){be.pop(),ge.target=be[be.length-1]}var _e=Array.prototype,we=Object.create(_e);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var n=_e[e];q(we,e,(function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var r,a=n.apply(this,t),s=this.__ob__;switch(e){case"push":case"unshift":r=t;break;case"splice":r=t.slice(2)}return r&&s.observeArray(r),s.dep.notify(),a}))}));var Ce=Object.getOwnPropertyNames(we),Re={},je=!0;function Se(e){je=e}var Te={notify:$,depend:$,addSub:$,removeSub:$},Ee=function(){function e(e,n,t){if(void 0===n&&(n=!1),void 0===t&&(t=!1),this.value=e,this.shallow=n,this.mock=t,this.dep=t?Te:new ge,this.vmCount=0,q(e,"__ob__",this),r(e)){if(!t)if(X)e.__proto__=we;else for(var o=0,a=Ce.length;o<a;o++){q(e,i=Ce[o],we[i])}n||this.observeArray(e)}else{var s=Object.keys(e);for(o=0;o<s.length;o++){var i;Ie(e,i=s[o],Re,void 0,n,t)}}}return e.prototype.observeArray=function(e){for(var n=0,t=e.length;n<t;n++)Oe(e[n],!1,this.mock)},e}();function Oe(e,n,t){return e&&_(e,"__ob__")&&e.__ob__ instanceof Ee?e.__ob__:!je||!t&&ae()||!r(e)&&!p(e)||!Object.isExtensible(e)||e.__v_skip||He(e)||e instanceof pe?void 0:new Ee(e,n,t)}function Ie(e,n,t,o,a,s){var i=new ge,c=Object.getOwnPropertyDescriptor(e,n);if(!c||!1!==c.configurable){var u=c&&c.get,l=c&&c.set;u&&!l||t!==Re&&2!==arguments.length||(t=e[n]);var d=!a&&Oe(t,!1,s);return Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var n=u?u.call(e):t;return ge.target&&(i.depend(),d&&(d.dep.depend(),r(n)&&De(n))),He(n)&&!a?n.value:n},set:function(n){var o=u?u.call(e):t;if(L(o,n)){if(l)l.call(e,n);else{if(u)return;if(!a&&He(o)&&!He(n))return void(o.value=n);t=n}d=!a&&Oe(n,!1,s),i.notify()}}}),i}}function Ae(e,n,t){if(!Pe(e)){var o=e.__ob__;return r(e)&&h(n)?(e.length=Math.max(e.length,n),e.splice(n,1,t),o&&!o.shallow&&o.mock&&Oe(t,!1,!0),t):n in e&&!(n in Object.prototype)?(e[n]=t,t):e._isVue||o&&o.vmCount?t:o?(Ie(o.value,n,t,void 0,o.shallow,o.mock),o.dep.notify(),t):(e[n]=t,t)}}function $e(e,n){if(r(e)&&h(n))e.splice(n,1);else{var t=e.__ob__;e._isVue||t&&t.vmCount||Pe(e)||_(e,n)&&(delete e[n],t&&t.dep.notify())}}function De(e){for(var n=void 0,t=0,o=e.length;t<o;t++)(n=e[t])&&n.__ob__&&n.__ob__.dep.depend(),r(n)&&De(n)}function ze(e){return Me(e,!0),q(e,"__v_isShallow",!0),e}function Me(e,n){if(!Pe(e)){Oe(e,n,ae());0}}function Pe(e){return!(!e||!e.__v_isReadonly)}function He(e){return!(!e||!0!==e.__v_isRef)}function Le(e,n,t){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var e=n[t];if(He(e))return e.value;var o=e&&e.__ob__;return o&&o.dep.depend(),e},set:function(e){var o=n[t];He(o)&&!He(e)?o.value=e:n[t]=e}})}"".concat("watcher"," callback"),"".concat("watcher"," getter"),"".concat("watcher"," cleanup");var Be;var Ue=function(){function e(e){void 0===e&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Be,!e&&Be&&(this.index=(Be.scopes||(Be.scopes=[])).push(this)-1)}return e.prototype.run=function(e){if(this.active){var n=Be;try{return Be=this,e()}finally{Be=n}}else 0},e.prototype.on=function(){Be=this},e.prototype.off=function(){Be=this.parent},e.prototype.stop=function(e){if(this.active){var n=void 0,t=void 0;for(n=0,t=this.effects.length;n<t;n++)this.effects[n].teardown();for(n=0,t=this.cleanups.length;n<t;n++)this.cleanups[n]();if(this.scopes)for(n=0,t=this.scopes.length;n<t;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){var o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}},e}();function Ve(e){var n=e._provided,t=e.$parent&&e.$parent._provided;return t===n?e._provided=Object.create(t):n}var Fe=w((function(e){var n="&"===e.charAt(0),t="~"===(e=n?e.slice(1):e).charAt(0),o="!"===(e=t?e.slice(1):e).charAt(0);return{name:e=o?e.slice(1):e,once:t,capture:o,passive:n}}));function Ne(e,n){function t(){var e=t.fns;if(!r(e))return Sn(e,null,arguments,n,"v-on handler");for(var o=e.slice(),a=0;a<o.length;a++)Sn(o[a],null,arguments,n,"v-on handler")}return t.fns=e,t}function qe(e,n,t,o,r,s){var c,u,l,d;for(c in e)u=e[c],l=n[c],d=Fe(c),a(u)||(a(l)?(a(u.fns)&&(u=e[c]=Ne(u,s)),i(d.once)&&(u=e[c]=r(d.name,u,d.capture)),t(d.name,u,d.capture,d.passive,d.params)):u!==l&&(l.fns=u,e[c]=l));for(c in n)a(e[c])&&o((d=Fe(c)).name,n[c],d.capture)}function We(e,n,t){var o;e instanceof pe&&(e=e.data.hook||(e.data.hook={}));var r=e[n];function c(){t.apply(this,arguments),y(o.fns,c)}a(r)?o=Ne([c]):s(r.fns)&&i(r.merged)?(o=r).fns.push(c):o=Ne([r,c]),o.merged=!0,e[n]=o}function Xe(e,n,t,o,r){if(s(n)){if(_(n,t))return e[t]=n[t],r||delete n[t],!0;if(_(n,o))return e[t]=n[o],r||delete n[o],!0}return!1}function Je(e){return c(e)?[he(e)]:r(e)?function e(n,t){var o,u,l,d,p=[];for(o=0;o<n.length;o++)a(u=n[o])||"boolean"==typeof u||(l=p.length-1,d=p[l],r(u)?u.length>0&&(Ge((u=e(u,"".concat(t||"","_").concat(o)))[0])&&Ge(d)&&(p[l]=he(d.text+u[0].text),u.shift()),p.push.apply(p,u)):c(u)?Ge(d)?p[l]=he(d.text+u):""!==u&&p.push(he(u)):Ge(u)&&Ge(d)?p[l]=he(d.text+u.text):(i(n._isVList)&&s(u.tag)&&a(u.key)&&s(t)&&(u.key="__vlist".concat(t,"_").concat(o,"__")),p.push(u)));return p}(e):void 0}function Ge(e){return s(e)&&s(e.text)&&!1===e.isComment}function Ze(e,n){var t,o,a,i,c=null;if(r(e)||"string"==typeof e)for(c=new Array(e.length),t=0,o=e.length;t<o;t++)c[t]=n(e[t],t);else if("number"==typeof e)for(c=new Array(e),t=0;t<e;t++)c[t]=n(t+1,t);else if(l(e))if(ue&&e[Symbol.iterator]){c=[];for(var u=e[Symbol.iterator](),d=u.next();!d.done;)c.push(n(d.value,c.length)),d=u.next()}else for(a=Object.keys(e),c=new Array(a.length),t=0,o=a.length;t<o;t++)i=a[t],c[t]=n(e[i],i,t);return s(c)||(c=[]),c._isVList=!0,c}function Ke(e,n,t,o){var r,a=this.$scopedSlots[e];a?(t=t||{},o&&(t=I(I({},o),t)),r=a(t)||(u(n)?n():n)):r=this.$slots[e]||(u(n)?n():n);var s=t&&t.slot;return s?this.$createElement("template",{slot:s},r):r}function Ye(e){return Ot(this.$options,"filters",e,!0)||z}function Qe(e,n){return r(e)?-1===e.indexOf(n):e!==n}function en(e,n,t,o,r){var a=V.keyCodes[n]||t;return r&&o&&!V.keyCodes[n]?Qe(r,o):a?Qe(a,e):o?T(o)!==n:void 0===e}function nn(e,n,t,o,a){if(t)if(l(t)){r(t)&&(t=A(t));var s=void 0,i=function(r){if("class"===r||"style"===r||b(r))s=e;else{var i=e.attrs&&e.attrs.type;s=o||V.mustUseProp(n,i,r)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=R(r),u=T(r);c in s||u in s||(s[r]=t[r],a&&((e.on||(e.on={}))["update:".concat(r)]=function(e){t[r]=e}))};for(var c in t)i(c)}else;return e}function tn(e,n){var t=this._staticTrees||(this._staticTrees=[]),o=t[e];return o&&!n||rn(o=t[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),"__static__".concat(e),!1),o}function on(e,n,t){return rn(e,"__once__".concat(n).concat(t?"_".concat(t):""),!0),e}function rn(e,n,t){if(r(e))for(var o=0;o<e.length;o++)e[o]&&"string"!=typeof e[o]&&an(e[o],"".concat(n,"_").concat(o),t);else an(e,n,t)}function an(e,n,t){e.isStatic=!0,e.key=n,e.isOnce=t}function sn(e,n){if(n)if(p(n)){var t=e.on=e.on?I({},e.on):{};for(var o in n){var r=t[o],a=n[o];t[o]=r?[].concat(r,a):a}}else;return e}function cn(e,n,t,o){n=n||{$stable:!t};for(var a=0;a<e.length;a++){var s=e[a];r(s)?cn(s,n,t):s&&(s.proxy&&(s.fn.proxy=!0),n[s.key]=s.fn)}return o&&(n.$key=o),n}function un(e,n){for(var t=0;t<n.length;t+=2){var o=n[t];"string"==typeof o&&o&&(e[n[t]]=n[t+1])}return e}function ln(e,n){return"string"==typeof e?n+e:e}function dn(e){e._o=on,e._n=x,e._s=v,e._l=Ze,e._t=Ke,e._q=M,e._i=P,e._m=tn,e._f=Ye,e._k=en,e._b=nn,e._v=he,e._e=fe,e._u=cn,e._g=sn,e._d=un,e._p=ln}function pn(e,n){if(!e||!e.length)return{};for(var t={},o=0,r=e.length;o<r;o++){var a=e[o],s=a.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,a.context!==n&&a.fnContext!==n||!s||null==s.slot)(t.default||(t.default=[])).push(a);else{var i=s.slot,c=t[i]||(t[i]=[]);"template"===a.tag?c.push.apply(c,a.children||[]):c.push(a)}}for(var u in t)t[u].every(fn)&&delete t[u];return t}function fn(e){return e.isComment&&!e.asyncFactory||" "===e.text}function hn(e){return e.isComment&&e.asyncFactory}function mn(e,n,t,r){var a,s=Object.keys(t).length>0,i=n?!!n.$stable:!s,c=n&&n.$key;if(n){if(n._normalized)return n._normalized;if(i&&r&&r!==o&&c===r.$key&&!s&&!r.$hasNormal)return r;for(var u in a={},n)n[u]&&"$"!==u[0]&&(a[u]=vn(e,t,u,n[u]))}else a={};for(var l in t)l in a||(a[l]=xn(t,l));return n&&Object.isExtensible(n)&&(n._normalized=a),q(a,"$stable",i),q(a,"$key",c),q(a,"$hasNormal",s),a}function vn(e,n,t,o){var a=function(){var n=le;de(e);var t=arguments.length?o.apply(null,arguments):o({}),a=(t=t&&"object"==typeof t&&!r(t)?[t]:Je(t))&&t[0];return de(n),t&&(!a||1===t.length&&a.isComment&&!hn(a))?void 0:t};return o.proxy&&Object.defineProperty(n,t,{get:a,enumerable:!0,configurable:!0}),a}function xn(e,n){return function(){return e[n]}}function gn(e){return{get attrs(){if(!e._attrsProxy){var n=e._attrsProxy={};q(n,"_v_attr_proxy",!0),bn(n,e.$attrs,o,e,"$attrs")}return e._attrsProxy},get listeners(){e._listenersProxy||bn(e._listenersProxy={},e.$listeners,o,e,"$listeners");return e._listenersProxy},get slots(){return function(e){e._slotsProxy||kn(e._slotsProxy={},e.$scopedSlots);return e._slotsProxy}(e)},emit:E(e.$emit,e),expose:function(n){n&&Object.keys(n).forEach((function(t){return Le(e,n,t)}))}}}function bn(e,n,t,o,r){var a=!1;for(var s in n)s in e?n[s]!==t[s]&&(a=!0):(a=!0,yn(e,s,o,r));for(var s in e)s in n||(a=!0,delete e[s]);return a}function yn(e,n,t,o){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){return t[o][n]}})}function kn(e,n){for(var t in n)e[t]=n[t];for(var t in e)t in n||delete e[t]}var _n=null;function wn(e,n){return(e.__esModule||ue&&"Module"===e[Symbol.toStringTag])&&(e=e.default),l(e)?n.extend(e):e}function Cn(e){if(r(e))for(var n=0;n<e.length;n++){var t=e[n];if(s(t)&&(s(t.componentOptions)||hn(t)))return t}}function Rn(e,n,t,o,d,p){return(r(t)||c(t))&&(d=o,o=t,t=void 0),i(p)&&(d=2),function(e,n,t,o,c){if(s(t)&&s(t.__ob__))return fe();s(t)&&s(t.is)&&(n=t.is);if(!n)return fe();0;r(o)&&u(o[0])&&((t=t||{}).scopedSlots={default:o[0]},o.length=0);2===c?o=Je(o):1===c&&(o=function(e){for(var n=0;n<e.length;n++)if(r(e[n]))return Array.prototype.concat.apply([],e);return e}(o));var d,p;if("string"==typeof n){var f=void 0;p=e.$vnode&&e.$vnode.ns||V.getTagNamespace(n),d=V.isReservedTag(n)?new pe(V.parsePlatformTagName(n),t,o,void 0,void 0,e):t&&t.pre||!s(f=Ot(e.$options,"components",n))?new pe(n,t,o,void 0,void 0,e):yt(f,t,e,o,n)}else d=yt(n,t,e,o);return r(d)?d:s(d)?(s(p)&&function e(n,t,o){n.ns=t,"foreignObject"===n.tag&&(t=void 0,o=!0);if(s(n.children))for(var r=0,c=n.children.length;r<c;r++){var u=n.children[r];s(u.tag)&&(a(u.ns)||i(o)&&"svg"!==u.tag)&&e(u,t,o)}}(d,p),s(t)&&function(e){l(e.style)&&Vn(e.style);l(e.class)&&Vn(e.class)}(t),d):fe()}(e,n,t,o,d)}function jn(e,n,t){ye();try{if(n)for(var o=n;o=o.$parent;){var r=o.$options.errorCaptured;if(r)for(var a=0;a<r.length;a++)try{if(!1===r[a].call(o,e,n,t))return}catch(e){Tn(e,o,"errorCaptured hook")}}Tn(e,n,t)}finally{ke()}}function Sn(e,n,t,o,r){var a;try{(a=t?e.apply(n,t):e.call(n))&&!a._isVue&&m(a)&&!a._handled&&(a.catch((function(e){return jn(e,o,r+" (Promise/async)")})),a._handled=!0)}catch(e){jn(e,o,r)}return a}function Tn(e,n,t){if(V.errorHandler)try{return V.errorHandler.call(null,e,n,t)}catch(n){n!==e&&En(n,null,"config.errorHandler")}En(e,n,t)}function En(e,n,t){if(!J||"undefined"==typeof console)throw e;console.error(e)}var On,In=!1,An=[],$n=!1;function Dn(){$n=!1;var e=An.slice(0);An.length=0;for(var n=0;n<e.length;n++)e[n]()}if("undefined"!=typeof Promise&&ie(Promise)){var zn=Promise.resolve();On=function(){zn.then(Dn),Q&&setTimeout($)},In=!0}else if(Z||"undefined"==typeof MutationObserver||!ie(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())On="undefined"!=typeof setImmediate&&ie(setImmediate)?function(){setImmediate(Dn)}:function(){setTimeout(Dn,0)};else{var Mn=1,Pn=new MutationObserver(Dn),Hn=document.createTextNode(String(Mn));Pn.observe(Hn,{characterData:!0}),On=function(){Mn=(Mn+1)%2,Hn.data=String(Mn)},In=!0}function Ln(e,n){var t;if(An.push((function(){if(e)try{e.call(n)}catch(e){jn(e,n,"nextTick")}else t&&t(n)})),$n||($n=!0,On()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){t=e}))}function Bn(e){return function(n,t){if(void 0===t&&(t=le),t)return function(e,n,t){var o=e.$options;o[n]=jt(o[n],t)}(t,e,n)}}Bn("beforeMount"),Bn("mounted"),Bn("beforeUpdate"),Bn("updated"),Bn("beforeDestroy"),Bn("destroyed"),Bn("activated"),Bn("deactivated"),Bn("serverPrefetch"),Bn("renderTracked"),Bn("renderTriggered"),Bn("errorCaptured");var Un=new ce;function Vn(e){return function e(n,t){var o,a,s=r(n);if(!s&&!l(n)||n.__v_skip||Object.isFrozen(n)||n instanceof pe)return;if(n.__ob__){var i=n.__ob__.dep.id;if(t.has(i))return;t.add(i)}if(s)for(o=n.length;o--;)e(n[o],t);else if(He(n))e(n.value,t);else for(a=Object.keys(n),o=a.length;o--;)e(n[a[o]],t)}(e,Un),Un.clear(),e}var Fn,Nn=0,qn=function(){function e(e,n,t,o,r){var a,s;a=this,void 0===(s=Be&&!Be._vm?Be:e?e._scope:void 0)&&(s=Be),s&&s.active&&s.effects.push(a),(this.vm=e)&&r&&(e._watcher=this),o?(this.deep=!!o.deep,this.user=!!o.user,this.lazy=!!o.lazy,this.sync=!!o.sync,this.before=o.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++Nn,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ce,this.newDepIds=new ce,this.expression="",u(n)?this.getter=n:(this.getter=function(e){if(!W.test(e)){var n=e.split(".");return function(e){for(var t=0;t<n.length;t++){if(!e)return;e=e[n[t]]}return e}}}(n),this.getter||(this.getter=$)),this.value=this.lazy?void 0:this.get()}return e.prototype.get=function(){var e;ye(this);var n=this.vm;try{e=this.getter.call(n,n)}catch(e){if(!this.user)throw e;jn(e,n,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&Vn(e),ke(),this.cleanupDeps()}return e},e.prototype.addDep=function(e){var n=e.id;this.newDepIds.has(n)||(this.newDepIds.add(n),this.newDeps.push(e),this.depIds.has(n)||e.addSub(this))},e.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var n=this.deps[e];this.newDepIds.has(n.id)||n.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},e.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():pt(this)},e.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||l(e)||this.deep){var n=this.value;if(this.value=e,this.user){var t='callback for watcher "'.concat(this.expression,'"');Sn(this.cb,this.vm,[e,n],this.vm,t)}else this.cb.call(this.vm,e,n)}}},e.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},e.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},e.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&y(this.vm._scope.effects,this),this.active){for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},e}();function Wn(e,n){Fn.$on(e,n)}function Xn(e,n){Fn.$off(e,n)}function Jn(e,n){var t=Fn;return function o(){var r=n.apply(null,arguments);null!==r&&t.$off(e,o)}}function Gn(e,n,t){Fn=e,qe(n,t||{},Wn,Xn,Jn,e),Fn=void 0}var Zn=null;function Kn(e){var n=Zn;return Zn=e,function(){Zn=n}}function Yn(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Qn(e,n){if(n){if(e._directInactive=!1,Yn(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var t=0;t<e.$children.length;t++)Qn(e.$children[t]);et(e,"activated")}}function et(e,n,t,o){void 0===o&&(o=!0),ye();var r=le;o&&de(e);var a=e.$options[n],s="".concat(n," hook");if(a)for(var i=0,c=a.length;i<c;i++)Sn(a[i],e,t||null,e,s);e._hasHookEvent&&e.$emit("hook:"+n),o&&de(r),ke()}var nt=[],tt=[],ot={},rt=!1,at=!1,st=0;var it=0,ct=Date.now;if(J&&!Z){var ut=window.performance;ut&&"function"==typeof ut.now&&ct()>document.createEvent("Event").timeStamp&&(ct=function(){return ut.now()})}var lt=function(e,n){if(e.post){if(!n.post)return 1}else if(n.post)return-1;return e.id-n.id};function dt(){var e,n;for(it=ct(),at=!0,nt.sort(lt),st=0;st<nt.length;st++)(e=nt[st]).before&&e.before(),n=e.id,ot[n]=null,e.run();var t=tt.slice(),o=nt.slice();st=nt.length=tt.length=0,ot={},rt=at=!1,function(e){for(var n=0;n<e.length;n++)e[n]._inactive=!0,Qn(e[n],!0)}(t),function(e){var n=e.length;for(;n--;){var t=e[n],o=t.vm;o&&o._watcher===t&&o._isMounted&&!o._isDestroyed&&et(o,"updated")}}(o),function(){for(var e=0;e<xe.length;e++){var n=xe[e];n.subs=n.subs.filter((function(e){return e})),n._pending=!1}xe.length=0}(),se&&V.devtools&&se.emit("flush")}function pt(e){var n=e.id;if(null==ot[n]&&(e!==ge.target||!e.noRecurse)){if(ot[n]=!0,at){for(var t=nt.length-1;t>st&&nt[t].id>e.id;)t--;nt.splice(t+1,0,e)}else nt.push(e);rt||(rt=!0,Ln(dt))}}function ft(e,n){if(e){for(var t=Object.create(null),o=ue?Reflect.ownKeys(e):Object.keys(e),r=0;r<o.length;r++){var a=o[r];if("__ob__"!==a){var s=e[a].from;if(s in n._provided)t[a]=n._provided[s];else if("default"in e[a]){var i=e[a].default;t[a]=u(i)?i.call(n):i}else 0}}return t}}function ht(e,n,t,a,s){var c,u=this,l=s.options;_(a,"_uid")?(c=Object.create(a))._original=a:(c=a,a=a._original);var d=i(l._compiled),p=!d;this.data=e,this.props=n,this.children=t,this.parent=a,this.listeners=e.on||o,this.injections=ft(l.inject,a),this.slots=function(){return u.$slots||mn(a,e.scopedSlots,u.$slots=pn(t,a)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return mn(a,e.scopedSlots,this.slots())}}),d&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=mn(a,e.scopedSlots,this.$slots)),l._scopeId?this._c=function(e,n,t,o){var s=Rn(c,e,n,t,o,p);return s&&!r(s)&&(s.fnScopeId=l._scopeId,s.fnContext=a),s}:this._c=function(e,n,t,o){return Rn(c,e,n,t,o,p)}}function mt(e,n,t,o,r){var a=me(e);return a.fnContext=t,a.fnOptions=o,n.slot&&((a.data||(a.data={})).slot=n.slot),a}function vt(e,n){for(var t in n)e[R(t)]=n[t]}function xt(e){return e.name||e.__name||e._componentTag}dn(ht.prototype);var gt={init:function(e,n){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var t=e;gt.prepatch(t,t)}else{(e.componentInstance=function(e,n){var t={_isComponent:!0,_parentVnode:e,parent:n},o=e.data.inlineTemplate;s(o)&&(t.render=o.render,t.staticRenderFns=o.staticRenderFns);return new e.componentOptions.Ctor(t)}(e,Zn)).$mount(n?e.elm:void 0,n)}},prepatch:function(e,n){var t=n.componentOptions;!function(e,n,t,r,a){var s=r.data.scopedSlots,i=e.$scopedSlots,c=!!(s&&!s.$stable||i!==o&&!i.$stable||s&&e.$scopedSlots.$key!==s.$key||!s&&e.$scopedSlots.$key),u=!!(a||e.$options._renderChildren||c),l=e.$vnode;e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=a;var d=r.data.attrs||o;e._attrsProxy&&bn(e._attrsProxy,d,l.data&&l.data.attrs||o,e,"$attrs")&&(u=!0),e.$attrs=d,t=t||o;var p=e.$options._parentListeners;if(e._listenersProxy&&bn(e._listenersProxy,t,p||o,e,"$listeners"),e.$listeners=e.$options._parentListeners=t,Gn(e,t,p),n&&e.$options.props){Se(!1);for(var f=e._props,h=e.$options._propKeys||[],m=0;m<h.length;m++){var v=h[m],x=e.$options.props;f[v]=It(v,x,n,e)}Se(!0),e.$options.propsData=n}u&&(e.$slots=pn(a,r.context),e.$forceUpdate())}(n.componentInstance=e.componentInstance,t.propsData,t.listeners,n,t.children)},insert:function(e){var n,t=e.context,o=e.componentInstance;o._isMounted||(o._isMounted=!0,et(o,"mounted")),e.data.keepAlive&&(t._isMounted?((n=o)._inactive=!1,tt.push(n)):Qn(o,!0))},destroy:function(e){var n=e.componentInstance;n._isDestroyed||(e.data.keepAlive?function e(n,t){if(!(t&&(n._directInactive=!0,Yn(n))||n._inactive)){n._inactive=!0;for(var o=0;o<n.$children.length;o++)e(n.$children[o]);et(n,"deactivated")}}(n,!0):n.$destroy())}},bt=Object.keys(gt);function yt(e,n,t,c,u){if(!a(e)){var d=t.$options._base;if(l(e)&&(e=d.extend(e)),"function"==typeof e){var p;if(a(e.cid)&&void 0===(e=function(e,n){if(i(e.error)&&s(e.errorComp))return e.errorComp;if(s(e.resolved))return e.resolved;var t=_n;if(t&&s(e.owners)&&-1===e.owners.indexOf(t)&&e.owners.push(t),i(e.loading)&&s(e.loadingComp))return e.loadingComp;if(t&&!s(e.owners)){var o=e.owners=[t],r=!0,c=null,u=null;t.$on("hook:destroyed",(function(){return y(o,t)}));var d=function(e){for(var n=0,t=o.length;n<t;n++)o[n].$forceUpdate();e&&(o.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},p=H((function(t){e.resolved=wn(t,n),r?o.length=0:d(!0)})),f=H((function(n){s(e.errorComp)&&(e.error=!0,d(!0))})),h=e(p,f);return l(h)&&(m(h)?a(e.resolved)&&h.then(p,f):m(h.component)&&(h.component.then(p,f),s(h.error)&&(e.errorComp=wn(h.error,n)),s(h.loading)&&(e.loadingComp=wn(h.loading,n),0===h.delay?e.loading=!0:c=setTimeout((function(){c=null,a(e.resolved)&&a(e.error)&&(e.loading=!0,d(!1))}),h.delay||200)),s(h.timeout)&&(u=setTimeout((function(){u=null,a(e.resolved)&&f(null)}),h.timeout)))),r=!1,e.loading?e.loadingComp:e.resolved}}(p=e,d)))return function(e,n,t,o,r){var a=fe();return a.asyncFactory=e,a.asyncMeta={data:n,context:t,children:o,tag:r},a}(p,n,t,c,u);n=n||{},qt(e),s(n.model)&&function(e,n){var t=e.model&&e.model.prop||"value",o=e.model&&e.model.event||"input";(n.attrs||(n.attrs={}))[t]=n.model.value;var a=n.on||(n.on={}),i=a[o],c=n.model.callback;s(i)?(r(i)?-1===i.indexOf(c):i!==c)&&(a[o]=[c].concat(i)):a[o]=c}(e.options,n);var f=function(e,n,t){var o=n.options.props;if(!a(o)){var r={},i=e.attrs,c=e.props;if(s(i)||s(c))for(var u in o){var l=T(u);Xe(r,c,u,l,!0)||Xe(r,i,u,l,!1)}return r}}(n,e);if(i(e.options.functional))return function(e,n,t,a,i){var c=e.options,u={},l=c.props;if(s(l))for(var d in l)u[d]=It(d,l,n||o);else s(t.attrs)&&vt(u,t.attrs),s(t.props)&&vt(u,t.props);var p=new ht(t,u,i,a,e),f=c.render.call(null,p._c,p);if(f instanceof pe)return mt(f,t,p.parent,c,p);if(r(f)){for(var h=Je(f)||[],m=new Array(h.length),v=0;v<h.length;v++)m[v]=mt(h[v],t,p.parent,c,p);return m}}(e,f,n,t,c);var h=n.on;if(n.on=n.nativeOn,i(e.options.abstract)){var v=n.slot;n={},v&&(n.slot=v)}!function(e){for(var n=e.hook||(e.hook={}),t=0;t<bt.length;t++){var o=bt[t],r=n[o],a=gt[o];r===a||r&&r._merged||(n[o]=r?kt(a,r):a)}}(n);var x=xt(e.options)||u;return new pe("vue-component-".concat(e.cid).concat(x?"-".concat(x):""),n,void 0,void 0,void 0,t,{Ctor:e,propsData:f,listeners:h,tag:u,children:c},p)}}}function kt(e,n){var t=function(t,o){e(t,o),n(t,o)};return t._merged=!0,t}var _t=$,wt=V.optionMergeStrategies;function Ct(e,n,t){if(void 0===t&&(t=!0),!n)return e;for(var o,r,a,s=ue?Reflect.ownKeys(n):Object.keys(n),i=0;i<s.length;i++)"__ob__"!==(o=s[i])&&(r=e[o],a=n[o],t&&_(e,o)?r!==a&&p(r)&&p(a)&&Ct(r,a):Ae(e,o,a));return e}function Rt(e,n,t){return t?function(){var o=u(n)?n.call(t,t):n,r=u(e)?e.call(t,t):e;return o?Ct(o,r):r}:n?e?function(){return Ct(u(n)?n.call(this,this):n,u(e)?e.call(this,this):e)}:n:e}function jt(e,n){var t=n?e?e.concat(n):r(n)?n:[n]:e;return t?function(e){for(var n=[],t=0;t<e.length;t++)-1===n.indexOf(e[t])&&n.push(e[t]);return n}(t):t}function St(e,n,t,o){var r=Object.create(e||null);return n?I(r,n):r}wt.data=function(e,n,t){return t?Rt(e,n,t):n&&"function"!=typeof n?e:Rt(e,n)},U.forEach((function(e){wt[e]=jt})),B.forEach((function(e){wt[e+"s"]=St})),wt.watch=function(e,n,t,o){if(e===te&&(e=void 0),n===te&&(n=void 0),!n)return Object.create(e||null);if(!e)return n;var a={};for(var s in I(a,e),n){var i=a[s],c=n[s];i&&!r(i)&&(i=[i]),a[s]=i?i.concat(c):r(c)?c:[c]}return a},wt.props=wt.methods=wt.inject=wt.computed=function(e,n,t,o){if(!e)return n;var r=Object.create(null);return I(r,e),n&&I(r,n),r},wt.provide=function(e,n){return e?function(){var t=Object.create(null);return Ct(t,u(e)?e.call(this):e),n&&Ct(t,u(n)?n.call(this):n,!1),t}:n};var Tt=function(e,n){return void 0===n?e:n};function Et(e,n,t){if(u(n)&&(n=n.options),function(e,n){var t=e.props;if(t){var o,a,s={};if(r(t))for(o=t.length;o--;)"string"==typeof(a=t[o])&&(s[R(a)]={type:null});else if(p(t))for(var i in t)a=t[i],s[R(i)]=p(a)?a:{type:a};else 0;e.props=s}}(n),function(e,n){var t=e.inject;if(t){var o=e.inject={};if(r(t))for(var a=0;a<t.length;a++)o[t[a]]={from:t[a]};else if(p(t))for(var s in t){var i=t[s];o[s]=p(i)?I({from:s},i):{from:i}}else 0}}(n),function(e){var n=e.directives;if(n)for(var t in n){var o=n[t];u(o)&&(n[t]={bind:o,update:o})}}(n),!n._base&&(n.extends&&(e=Et(e,n.extends,t)),n.mixins))for(var o=0,a=n.mixins.length;o<a;o++)e=Et(e,n.mixins[o],t);var s,i={};for(s in e)c(s);for(s in n)_(e,s)||c(s);function c(o){var r=wt[o]||Tt;i[o]=r(e[o],n[o],t,o)}return i}function Ot(e,n,t,o){if("string"==typeof t){var r=e[n];if(_(r,t))return r[t];var a=R(t);if(_(r,a))return r[a];var s=j(a);return _(r,s)?r[s]:r[t]||r[a]||r[s]}}function It(e,n,t,o){var r=n[e],a=!_(t,e),s=t[e],i=zt(Boolean,r.type);if(i>-1)if(a&&!_(r,"default"))s=!1;else if(""===s||s===T(e)){var c=zt(String,r.type);(c<0||i<c)&&(s=!0)}if(void 0===s){s=function(e,n,t){if(!_(n,"default"))return;var o=n.default;0;if(e&&e.$options.propsData&&void 0===e.$options.propsData[t]&&void 0!==e._props[t])return e._props[t];return u(o)&&"Function"!==$t(n.type)?o.call(e):o}(o,r,e);var l=je;Se(!0),Oe(s),Se(l)}return s}var At=/^\s*function (\w+)/;function $t(e){var n=e&&e.toString().match(At);return n?n[1]:""}function Dt(e,n){return $t(e)===$t(n)}function zt(e,n){if(!r(n))return Dt(n,e)?0:-1;for(var t=0,o=n.length;t<o;t++)if(Dt(n[t],e))return t;return-1}var Mt={enumerable:!0,configurable:!0,get:$,set:$};function Pt(e,n,t){Mt.get=function(){return this[n][t]},Mt.set=function(e){this[n][t]=e},Object.defineProperty(e,t,Mt)}function Ht(e){var n=e.$options;if(n.props&&function(e,n){var t=e.$options.propsData||{},o=e._props=ze({}),r=e.$options._propKeys=[];e.$parent&&Se(!1);var a=function(a){r.push(a);var s=It(a,n,t,e);Ie(o,a,s),a in e||Pt(e,"_props",a)};for(var s in n)a(s);Se(!0)}(e,n.props),function(e){var n=e.$options,t=n.setup;if(t){var o=e._setupContext=gn(e);de(e),ye();var r=Sn(t,null,[e._props||ze({}),o],e,"setup");if(ke(),de(),u(r))n.render=r;else if(l(r))if(e._setupState=r,r.__sfc){var a=e._setupProxy={};for(var s in r)"__sfc"!==s&&Le(a,r,s)}else for(var s in r)N(s)||Le(e,r,s);else 0}}(e),n.methods&&function(e,n){e.$options.props;for(var t in n)e[t]="function"!=typeof n[t]?$:E(n[t],e)}(e,n.methods),n.data)!function(e){var n=e.$options.data;p(n=e._data=u(n)?function(e,n){ye();try{return e.call(n,n)}catch(e){return jn(e,n,"data()"),{}}finally{ke()}}(n,e):n||{})||(n={});var t=Object.keys(n),o=e.$options.props,r=(e.$options.methods,t.length);for(;r--;){var a=t[r];0,o&&_(o,a)||N(a)||Pt(e,"_data",a)}var s=Oe(n);s&&s.vmCount++}(e);else{var t=Oe(e._data={});t&&t.vmCount++}n.computed&&function(e,n){var t=e._computedWatchers=Object.create(null),o=ae();for(var r in n){var a=n[r],s=u(a)?a:a.get;0,o||(t[r]=new qn(e,s||$,$,Lt)),r in e||Bt(e,r,a)}}(e,n.computed),n.watch&&n.watch!==te&&function(e,n){for(var t in n){var o=n[t];if(r(o))for(var a=0;a<o.length;a++)Ft(e,t,o[a]);else Ft(e,t,o)}}(e,n.watch)}var Lt={lazy:!0};function Bt(e,n,t){var o=!ae();u(t)?(Mt.get=o?Ut(n):Vt(t),Mt.set=$):(Mt.get=t.get?o&&!1!==t.cache?Ut(n):Vt(t.get):$,Mt.set=t.set||$),Object.defineProperty(e,n,Mt)}function Ut(e){return function(){var n=this._computedWatchers&&this._computedWatchers[e];if(n)return n.dirty&&n.evaluate(),ge.target&&n.depend(),n.value}}function Vt(e){return function(){return e.call(this,this)}}function Ft(e,n,t,o){return p(t)&&(o=t,t=t.handler),"string"==typeof t&&(t=e[t]),e.$watch(n,t,o)}var Nt=0;function qt(e){var n=e.options;if(e.super){var t=qt(e.super);if(t!==e.superOptions){e.superOptions=t;var o=function(e){var n,t=e.options,o=e.sealedOptions;for(var r in t)t[r]!==o[r]&&(n||(n={}),n[r]=t[r]);return n}(e);o&&I(e.extendOptions,o),(n=e.options=Et(t,e.extendOptions)).name&&(n.components[n.name]=e)}}return n}function Wt(e){this._init(e)}function Xt(e){e.cid=0;var n=1;e.extend=function(e){e=e||{};var t=this,o=t.cid,r=e._Ctor||(e._Ctor={});if(r[o])return r[o];var a=xt(e)||xt(t.options);var s=function(e){this._init(e)};return(s.prototype=Object.create(t.prototype)).constructor=s,s.cid=n++,s.options=Et(t.options,e),s.super=t,s.options.props&&function(e){var n=e.options.props;for(var t in n)Pt(e.prototype,"_props",t)}(s),s.options.computed&&function(e){var n=e.options.computed;for(var t in n)Bt(e.prototype,t,n[t])}(s),s.extend=t.extend,s.mixin=t.mixin,s.use=t.use,B.forEach((function(e){s[e]=t[e]})),a&&(s.options.components[a]=s),s.superOptions=t.options,s.extendOptions=e,s.sealedOptions=I({},s.options),r[o]=s,s}}function Jt(e){return e&&(xt(e.Ctor.options)||e.tag)}function Gt(e,n){return r(e)?e.indexOf(n)>-1:"string"==typeof e?e.split(",").indexOf(n)>-1:!!f(e)&&e.test(n)}function Zt(e,n){var t=e.cache,o=e.keys,r=e._vnode;for(var a in t){var s=t[a];if(s){var i=s.name;i&&!n(i)&&Kt(t,a,o,r)}}}function Kt(e,n,t,o){var r=e[n];!r||o&&r.tag===o.tag||r.componentInstance.$destroy(),e[n]=null,y(t,n)}!function(e){e.prototype._init=function(e){var n=this;n._uid=Nt++,n._isVue=!0,n.__v_skip=!0,n._scope=new Ue(!0),n._scope._vm=!0,e&&e._isComponent?function(e,n){var t=e.$options=Object.create(e.constructor.options),o=n._parentVnode;t.parent=n.parent,t._parentVnode=o;var r=o.componentOptions;t.propsData=r.propsData,t._parentListeners=r.listeners,t._renderChildren=r.children,t._componentTag=r.tag,n.render&&(t.render=n.render,t.staticRenderFns=n.staticRenderFns)}(n,e):n.$options=Et(qt(n.constructor),e||{},n),n._renderProxy=n,n._self=n,function(e){var n=e.$options,t=n.parent;if(t&&!n.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(e)}e.$parent=t,e.$root=t?t.$root:e,e.$children=[],e.$refs={},e._provided=t?t._provided:Object.create(null),e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(n),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var n=e.$options._parentListeners;n&&Gn(e,n)}(n),function(e){e._vnode=null,e._staticTrees=null;var n=e.$options,t=e.$vnode=n._parentVnode,r=t&&t.context;e.$slots=pn(n._renderChildren,r),e.$scopedSlots=t?mn(e.$parent,t.data.scopedSlots,e.$slots):o,e._c=function(n,t,o,r){return Rn(e,n,t,o,r,!1)},e.$createElement=function(n,t,o,r){return Rn(e,n,t,o,r,!0)};var a=t&&t.data;Ie(e,"$attrs",a&&a.attrs||o,null,!0),Ie(e,"$listeners",n._parentListeners||o,null,!0)}(n),et(n,"beforeCreate",void 0,!1),function(e){var n=ft(e.$options.inject,e);n&&(Se(!1),Object.keys(n).forEach((function(t){Ie(e,t,n[t])})),Se(!0))}(n),Ht(n),function(e){var n=e.$options.provide;if(n){var t=u(n)?n.call(e):n;if(!l(t))return;for(var o=Ve(e),r=ue?Reflect.ownKeys(t):Object.keys(t),a=0;a<r.length;a++){var s=r[a];Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(t,s))}}}(n),et(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}(Wt),function(e){var n={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",n),Object.defineProperty(e.prototype,"$props",t),e.prototype.$set=Ae,e.prototype.$delete=$e,e.prototype.$watch=function(e,n,t){if(p(n))return Ft(this,e,n,t);(t=t||{}).user=!0;var o=new qn(this,e,n,t);if(t.immediate){var r='callback for immediate watcher "'.concat(o.expression,'"');ye(),Sn(n,this,[o.value],this,r),ke()}return function(){o.teardown()}}}(Wt),function(e){var n=/^hook:/;e.prototype.$on=function(e,t){var o=this;if(r(e))for(var a=0,s=e.length;a<s;a++)o.$on(e[a],t);else(o._events[e]||(o._events[e]=[])).push(t),n.test(e)&&(o._hasHookEvent=!0);return o},e.prototype.$once=function(e,n){var t=this;function o(){t.$off(e,o),n.apply(t,arguments)}return o.fn=n,t.$on(e,o),t},e.prototype.$off=function(e,n){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(r(e)){for(var o=0,a=e.length;o<a;o++)t.$off(e[o],n);return t}var s,i=t._events[e];if(!i)return t;if(!n)return t._events[e]=null,t;for(var c=i.length;c--;)if((s=i[c])===n||s.fn===n){i.splice(c,1);break}return t},e.prototype.$emit=function(e){var n=this,t=n._events[e];if(t){t=t.length>1?O(t):t;for(var o=O(arguments,1),r='event handler for "'.concat(e,'"'),a=0,s=t.length;a<s;a++)Sn(t[a],n,o,n,r)}return n}}(Wt),function(e){e.prototype._update=function(e,n){var t=this,o=t.$el,r=t._vnode,a=Kn(t);t._vnode=e,t.$el=r?t.__patch__(r,e):t.__patch__(t.$el,e,n,!1),a(),o&&(o.__vue__=null),t.$el&&(t.$el.__vue__=t);for(var s=t;s&&s.$vnode&&s.$parent&&s.$vnode===s.$parent._vnode;)s.$parent.$el=s.$el,s=s.$parent},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){et(e,"beforeDestroy"),e._isBeingDestroyed=!0;var n=e.$parent;!n||n._isBeingDestroyed||e.$options.abstract||y(n.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),et(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(Wt),function(e){dn(e.prototype),e.prototype.$nextTick=function(e){return Ln(e,this)},e.prototype._render=function(){var e,n=this,t=n.$options,o=t.render,a=t._parentVnode;a&&n._isMounted&&(n.$scopedSlots=mn(n.$parent,a.data.scopedSlots,n.$slots,n.$scopedSlots),n._slotsProxy&&kn(n._slotsProxy,n.$scopedSlots)),n.$vnode=a;try{de(n),_n=n,e=o.call(n._renderProxy,n.$createElement)}catch(t){jn(t,n,"render"),e=n._vnode}finally{_n=null,de()}return r(e)&&1===e.length&&(e=e[0]),e instanceof pe||(e=fe()),e.parent=a,e}}(Wt);var Yt=[String,RegExp,Array],Qt={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Yt,exclude:Yt,max:[String,Number]},methods:{cacheVNode:function(){var e=this.cache,n=this.keys,t=this.vnodeToCache,o=this.keyToCache;if(t){var r=t.tag,a=t.componentInstance,s=t.componentOptions;e[o]={name:Jt(s),tag:r,componentInstance:a},n.push(o),this.max&&n.length>parseInt(this.max)&&Kt(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Kt(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(n){Zt(e,(function(e){return Gt(n,e)}))})),this.$watch("exclude",(function(n){Zt(e,(function(e){return!Gt(n,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,n=Cn(e),t=n&&n.componentOptions;if(t){var o=Jt(t),r=this.include,a=this.exclude;if(r&&(!o||!Gt(r,o))||a&&o&&Gt(a,o))return n;var s=this.cache,i=this.keys,c=null==n.key?t.Ctor.cid+(t.tag?"::".concat(t.tag):""):n.key;s[c]?(n.componentInstance=s[c].componentInstance,y(i,c),i.push(c)):(this.vnodeToCache=n,this.keyToCache=c),n.data.keepAlive=!0}return n||e&&e[0]}}};!function(e){var n={get:function(){return V}};Object.defineProperty(e,"config",n),e.util={warn:_t,extend:I,mergeOptions:Et,defineReactive:Ie},e.set=Ae,e.delete=$e,e.nextTick=Ln,e.observable=function(e){return Oe(e),e},e.options=Object.create(null),B.forEach((function(n){e.options[n+"s"]=Object.create(null)})),e.options._base=e,I(e.options.components,Qt),function(e){e.use=function(e){var n=this._installedPlugins||(this._installedPlugins=[]);if(n.indexOf(e)>-1)return this;var t=O(arguments,1);return t.unshift(this),u(e.install)?e.install.apply(e,t):u(e)&&e.apply(null,t),n.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=Et(this.options,e),this}}(e),Xt(e),function(e){B.forEach((function(n){e[n]=function(e,t){return t?("component"===n&&p(t)&&(t.name=t.name||e,t=this.options._base.extend(t)),"directive"===n&&u(t)&&(t={bind:t,update:t}),this.options[n+"s"][e]=t,t):this.options[n+"s"][e]}}))}(e)}(Wt),Object.defineProperty(Wt.prototype,"$isServer",{get:ae}),Object.defineProperty(Wt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Wt,"FunctionalRenderContext",{value:ht}),Wt.version="2.7.14";var eo=g("style,class"),no=g("input,textarea,option,select,progress"),to=g("contenteditable,draggable,spellcheck"),oo=g("events,caret,typing,plaintext-only"),ro=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),ao="http://www.w3.org/1999/xlink",so=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},io=function(e){return so(e)?e.slice(6,e.length):""},co=function(e){return null==e||!1===e};function uo(e){for(var n=e.data,t=e,o=e;s(o.componentInstance);)(o=o.componentInstance._vnode)&&o.data&&(n=lo(o.data,n));for(;s(t=t.parent);)t&&t.data&&(n=lo(n,t.data));return function(e,n){if(s(e)||s(n))return po(e,fo(n));return""}(n.staticClass,n.class)}function lo(e,n){return{staticClass:po(e.staticClass,n.staticClass),class:s(e.class)?[e.class,n.class]:n.class}}function po(e,n){return e?n?e+" "+n:e:n||""}function fo(e){return Array.isArray(e)?function(e){for(var n,t="",o=0,r=e.length;o<r;o++)s(n=fo(e[o]))&&""!==n&&(t&&(t+=" "),t+=n);return t}(e):l(e)?function(e){var n="";for(var t in e)e[t]&&(n&&(n+=" "),n+=t);return n}(e):"string"==typeof e?e:""}var ho={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},mo=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),vo=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),xo=function(e){return mo(e)||vo(e)};var go=Object.create(null);var bo=g("text,number,password,search,email,tel,url");var yo=Object.freeze({__proto__:null,createElement:function(e,n){var t=document.createElement(e);return"select"!==e||n.data&&n.data.attrs&&void 0!==n.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(e,n){return document.createElementNS(ho[e],n)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,n,t){e.insertBefore(n,t)},removeChild:function(e,n){e.removeChild(n)},appendChild:function(e,n){e.appendChild(n)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,n){e.textContent=n},setStyleScope:function(e,n){e.setAttribute(n,"")}}),ko={create:function(e,n){_o(n)},update:function(e,n){e.data.ref!==n.data.ref&&(_o(e,!0),_o(n))},destroy:function(e){_o(e,!0)}};function _o(e,n){var t=e.data.ref;if(s(t)){var o=e.context,a=e.componentInstance||e.elm,i=n?null:a,c=n?void 0:a;if(u(t))Sn(t,o,[i],o,"template ref function");else{var l=e.data.refInFor,d="string"==typeof t||"number"==typeof t,p=He(t),f=o.$refs;if(d||p)if(l){var h=d?f[t]:t.value;n?r(h)&&y(h,a):r(h)?h.includes(a)||h.push(a):d?(f[t]=[a],wo(o,t,f[t])):t.value=[a]}else if(d){if(n&&f[t]!==a)return;f[t]=c,wo(o,t,i)}else if(p){if(n&&t.value!==a)return;t.value=i}else 0}}}function wo(e,n,t){var o=e._setupState;o&&_(o,n)&&(He(o[n])?o[n].value=t:o[n]=t)}var Co=new pe("",{},[]),Ro=["create","activate","update","remove","destroy"];function jo(e,n){return e.key===n.key&&e.asyncFactory===n.asyncFactory&&(e.tag===n.tag&&e.isComment===n.isComment&&s(e.data)===s(n.data)&&function(e,n){if("input"!==e.tag)return!0;var t,o=s(t=e.data)&&s(t=t.attrs)&&t.type,r=s(t=n.data)&&s(t=t.attrs)&&t.type;return o===r||bo(o)&&bo(r)}(e,n)||i(e.isAsyncPlaceholder)&&a(n.asyncFactory.error))}function So(e,n,t){var o,r,a={};for(o=n;o<=t;++o)s(r=e[o].key)&&(a[r]=o);return a}var To={create:Eo,update:Eo,destroy:function(e){Eo(e,Co)}};function Eo(e,n){(e.data.directives||n.data.directives)&&function(e,n){var t,o,r,a=e===Co,s=n===Co,i=Io(e.data.directives,e.context),c=Io(n.data.directives,n.context),u=[],l=[];for(t in c)o=i[t],r=c[t],o?(r.oldValue=o.value,r.oldArg=o.arg,$o(r,"update",n,e),r.def&&r.def.componentUpdated&&l.push(r)):($o(r,"bind",n,e),r.def&&r.def.inserted&&u.push(r));if(u.length){var d=function(){for(var t=0;t<u.length;t++)$o(u[t],"inserted",n,e)};a?We(n,"insert",d):d()}l.length&&We(n,"postpatch",(function(){for(var t=0;t<l.length;t++)$o(l[t],"componentUpdated",n,e)}));if(!a)for(t in i)c[t]||$o(i[t],"unbind",e,e,s)}(e,n)}var Oo=Object.create(null);function Io(e,n){var t,o,r=Object.create(null);if(!e)return r;for(t=0;t<e.length;t++){if((o=e[t]).modifiers||(o.modifiers=Oo),r[Ao(o)]=o,n._setupState&&n._setupState.__sfc){var a=o.def||Ot(n,"_setupState","v-"+o.name);o.def="function"==typeof a?{bind:a,update:a}:a}o.def=o.def||Ot(n.$options,"directives",o.name)}return r}function Ao(e){return e.rawName||"".concat(e.name,".").concat(Object.keys(e.modifiers||{}).join("."))}function $o(e,n,t,o,r){var a=e.def&&e.def[n];if(a)try{a(t.elm,e,t,o,r)}catch(o){jn(o,t.context,"directive ".concat(e.name," ").concat(n," hook"))}}var Do=[ko,To];function zo(e,n){var t=n.componentOptions;if(!(s(t)&&!1===t.Ctor.options.inheritAttrs||a(e.data.attrs)&&a(n.data.attrs))){var o,r,c=n.elm,u=e.data.attrs||{},l=n.data.attrs||{};for(o in(s(l.__ob__)||i(l._v_attr_proxy))&&(l=n.data.attrs=I({},l)),l)r=l[o],u[o]!==r&&Mo(c,o,r,n.data.pre);for(o in(Z||Y)&&l.value!==u.value&&Mo(c,"value",l.value),u)a(l[o])&&(so(o)?c.removeAttributeNS(ao,io(o)):to(o)||c.removeAttribute(o))}}function Mo(e,n,t,o){o||e.tagName.indexOf("-")>-1?Po(e,n,t):ro(n)?co(t)?e.removeAttribute(n):(t="allowfullscreen"===n&&"EMBED"===e.tagName?"true":n,e.setAttribute(n,t)):to(n)?e.setAttribute(n,function(e,n){return co(n)||"false"===n?"false":"contenteditable"===e&&oo(n)?n:"true"}(n,t)):so(n)?co(t)?e.removeAttributeNS(ao,io(n)):e.setAttributeNS(ao,n,t):Po(e,n,t)}function Po(e,n,t){if(co(t))e.removeAttribute(n);else{if(Z&&!K&&"TEXTAREA"===e.tagName&&"placeholder"===n&&""!==t&&!e.__ieph){var o=function(n){n.stopImmediatePropagation(),e.removeEventListener("input",o)};e.addEventListener("input",o),e.__ieph=!0}e.setAttribute(n,t)}}var Ho={create:zo,update:zo};function Lo(e,n){var t=n.elm,o=n.data,r=e.data;if(!(a(o.staticClass)&&a(o.class)&&(a(r)||a(r.staticClass)&&a(r.class)))){var i=uo(n),c=t._transitionClasses;s(c)&&(i=po(i,fo(c))),i!==t._prevClass&&(t.setAttribute("class",i),t._prevClass=i)}}var Bo,Uo={create:Lo,update:Lo};function Vo(e,n,t){var o=Bo;return function r(){var a=n.apply(null,arguments);null!==a&&qo(e,r,t,o)}}var Fo=In&&!(ne&&Number(ne[1])<=53);function No(e,n,t,o){if(Fo){var r=it,a=n;n=a._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return a.apply(this,arguments)}}Bo.addEventListener(e,n,oe?{capture:t,passive:o}:t)}function qo(e,n,t,o){(o||Bo).removeEventListener(e,n._wrapper||n,t)}function Wo(e,n){if(!a(e.data.on)||!a(n.data.on)){var t=n.data.on||{},o=e.data.on||{};Bo=n.elm||e.elm,function(e){if(s(e.__r)){var n=Z?"change":"input";e[n]=[].concat(e.__r,e[n]||[]),delete e.__r}s(e.__c)&&(e.change=[].concat(e.__c,e.change||[]),delete e.__c)}(t),qe(t,o,No,qo,Vo,n.context),Bo=void 0}}var Xo,Jo={create:Wo,update:Wo,destroy:function(e){return Wo(e,Co)}};function Go(e,n){if(!a(e.data.domProps)||!a(n.data.domProps)){var t,o,r=n.elm,c=e.data.domProps||{},u=n.data.domProps||{};for(t in(s(u.__ob__)||i(u._v_attr_proxy))&&(u=n.data.domProps=I({},u)),c)t in u||(r[t]="");for(t in u){if(o=u[t],"textContent"===t||"innerHTML"===t){if(n.children&&(n.children.length=0),o===c[t])continue;1===r.childNodes.length&&r.removeChild(r.childNodes[0])}if("value"===t&&"PROGRESS"!==r.tagName){r._value=o;var l=a(o)?"":String(o);Zo(r,l)&&(r.value=l)}else if("innerHTML"===t&&vo(r.tagName)&&a(r.innerHTML)){(Xo=Xo||document.createElement("div")).innerHTML="<svg>".concat(o,"</svg>");for(var d=Xo.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;d.firstChild;)r.appendChild(d.firstChild)}else if(o!==c[t])try{r[t]=o}catch(e){}}}}function Zo(e,n){return!e.composing&&("OPTION"===e.tagName||function(e,n){var t=!0;try{t=document.activeElement!==e}catch(e){}return t&&e.value!==n}(e,n)||function(e,n){var t=e.value,o=e._vModifiers;if(s(o)){if(o.number)return x(t)!==x(n);if(o.trim)return t.trim()!==n.trim()}return t!==n}(e,n))}var Ko={create:Go,update:Go},Yo=w((function(e){var n={},t=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var o=e.split(t);o.length>1&&(n[o[0].trim()]=o[1].trim())}})),n}));function Qo(e){var n=er(e.style);return e.staticStyle?I(e.staticStyle,n):n}function er(e){return Array.isArray(e)?A(e):"string"==typeof e?Yo(e):e}var nr,tr=/^--/,or=/\s*!important$/,rr=function(e,n,t){if(tr.test(n))e.style.setProperty(n,t);else if(or.test(t))e.style.setProperty(T(n),t.replace(or,""),"important");else{var o=sr(n);if(Array.isArray(t))for(var r=0,a=t.length;r<a;r++)e.style[o]=t[r];else e.style[o]=t}},ar=["Webkit","Moz","ms"],sr=w((function(e){if(nr=nr||document.createElement("div").style,"filter"!==(e=R(e))&&e in nr)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),t=0;t<ar.length;t++){var o=ar[t]+n;if(o in nr)return o}}));function ir(e,n){var t=n.data,o=e.data;if(!(a(t.staticStyle)&&a(t.style)&&a(o.staticStyle)&&a(o.style))){var r,i,c=n.elm,u=o.staticStyle,l=o.normalizedStyle||o.style||{},d=u||l,p=er(n.data.style)||{};n.data.normalizedStyle=s(p.__ob__)?I({},p):p;var f=function(e,n){var t,o={};if(n)for(var r=e;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(t=Qo(r.data))&&I(o,t);(t=Qo(e.data))&&I(o,t);for(var a=e;a=a.parent;)a.data&&(t=Qo(a.data))&&I(o,t);return o}(n,!0);for(i in d)a(f[i])&&rr(c,i,"");for(i in f)(r=f[i])!==d[i]&&rr(c,i,null==r?"":r)}}var cr={create:ir,update:ir},ur=/\s+/;function lr(e,n){if(n&&(n=n.trim()))if(e.classList)n.indexOf(" ")>-1?n.split(ur).forEach((function(n){return e.classList.add(n)})):e.classList.add(n);else{var t=" ".concat(e.getAttribute("class")||""," ");t.indexOf(" "+n+" ")<0&&e.setAttribute("class",(t+n).trim())}}function dr(e,n){if(n&&(n=n.trim()))if(e.classList)n.indexOf(" ")>-1?n.split(ur).forEach((function(n){return e.classList.remove(n)})):e.classList.remove(n),e.classList.length||e.removeAttribute("class");else{for(var t=" ".concat(e.getAttribute("class")||""," "),o=" "+n+" ";t.indexOf(o)>=0;)t=t.replace(o," ");(t=t.trim())?e.setAttribute("class",t):e.removeAttribute("class")}}function pr(e){if(e){if("object"==typeof e){var n={};return!1!==e.css&&I(n,fr(e.name||"v")),I(n,e),n}return"string"==typeof e?fr(e):void 0}}var fr=w((function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}})),hr=J&&!K,mr="transition",vr="transitionend",xr="animation",gr="animationend";hr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(mr="WebkitTransition",vr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(xr="WebkitAnimation",gr="webkitAnimationEnd"));var br=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function yr(e){br((function(){br(e)}))}function kr(e,n){var t=e._transitionClasses||(e._transitionClasses=[]);t.indexOf(n)<0&&(t.push(n),lr(e,n))}function _r(e,n){e._transitionClasses&&y(e._transitionClasses,n),dr(e,n)}function wr(e,n,t){var o=Rr(e,n),r=o.type,a=o.timeout,s=o.propCount;if(!r)return t();var i="transition"===r?vr:gr,c=0,u=function(){e.removeEventListener(i,l),t()},l=function(n){n.target===e&&++c>=s&&u()};setTimeout((function(){c<s&&u()}),a+1),e.addEventListener(i,l)}var Cr=/\b(transform|all)(,|$)/;function Rr(e,n){var t,o=window.getComputedStyle(e),r=(o[mr+"Delay"]||"").split(", "),a=(o[mr+"Duration"]||"").split(", "),s=jr(r,a),i=(o[xr+"Delay"]||"").split(", "),c=(o[xr+"Duration"]||"").split(", "),u=jr(i,c),l=0,d=0;return"transition"===n?s>0&&(t="transition",l=s,d=a.length):"animation"===n?u>0&&(t="animation",l=u,d=c.length):d=(t=(l=Math.max(s,u))>0?s>u?"transition":"animation":null)?"transition"===t?a.length:c.length:0,{type:t,timeout:l,propCount:d,hasTransform:"transition"===t&&Cr.test(o[mr+"Property"])}}function jr(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max.apply(null,n.map((function(n,t){return Sr(n)+Sr(e[t])})))}function Sr(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Tr(e,n){var t=e.elm;s(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var o=pr(e.data.transition);if(!a(o)&&!s(t._enterCb)&&1===t.nodeType){for(var r=o.css,i=o.type,c=o.enterClass,d=o.enterToClass,p=o.enterActiveClass,f=o.appearClass,h=o.appearToClass,m=o.appearActiveClass,v=o.beforeEnter,g=o.enter,b=o.afterEnter,y=o.enterCancelled,k=o.beforeAppear,_=o.appear,w=o.afterAppear,C=o.appearCancelled,R=o.duration,j=Zn,S=Zn.$vnode;S&&S.parent;)j=S.context,S=S.parent;var T=!j._isMounted||!e.isRootInsert;if(!T||_||""===_){var E=T&&f?f:c,O=T&&m?m:p,I=T&&h?h:d,A=T&&k||v,$=T&&u(_)?_:g,D=T&&w||b,z=T&&C||y,M=x(l(R)?R.enter:R);0;var P=!1!==r&&!K,L=Ir($),B=t._enterCb=H((function(){P&&(_r(t,I),_r(t,O)),B.cancelled?(P&&_r(t,E),z&&z(t)):D&&D(t),t._enterCb=null}));e.data.show||We(e,"insert",(function(){var n=t.parentNode,o=n&&n._pending&&n._pending[e.key];o&&o.tag===e.tag&&o.elm._leaveCb&&o.elm._leaveCb(),$&&$(t,B)})),A&&A(t),P&&(kr(t,E),kr(t,O),yr((function(){_r(t,E),B.cancelled||(kr(t,I),L||(Or(M)?setTimeout(B,M):wr(t,i,B)))}))),e.data.show&&(n&&n(),$&&$(t,B)),P||L||B()}}}function Er(e,n){var t=e.elm;s(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var o=pr(e.data.transition);if(a(o)||1!==t.nodeType)return n();if(!s(t._leaveCb)){var r=o.css,i=o.type,c=o.leaveClass,u=o.leaveToClass,d=o.leaveActiveClass,p=o.beforeLeave,f=o.leave,h=o.afterLeave,m=o.leaveCancelled,v=o.delayLeave,g=o.duration,b=!1!==r&&!K,y=Ir(f),k=x(l(g)?g.leave:g);0;var _=t._leaveCb=H((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[e.key]=null),b&&(_r(t,u),_r(t,d)),_.cancelled?(b&&_r(t,c),m&&m(t)):(n(),h&&h(t)),t._leaveCb=null}));v?v(w):w()}function w(){_.cancelled||(!e.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[e.key]=e),p&&p(t),b&&(kr(t,c),kr(t,d),yr((function(){_r(t,c),_.cancelled||(kr(t,u),y||(Or(k)?setTimeout(_,k):wr(t,i,_)))}))),f&&f(t,_),b||y||_())}}function Or(e){return"number"==typeof e&&!isNaN(e)}function Ir(e){if(a(e))return!1;var n=e.fns;return s(n)?Ir(Array.isArray(n)?n[0]:n):(e._length||e.length)>1}function Ar(e,n){!0!==n.data.show&&Tr(n)}var $r=function(e){var n,t,o={},u=e.modules,l=e.nodeOps;for(n=0;n<Ro.length;++n)for(o[Ro[n]]=[],t=0;t<u.length;++t)s(u[t][Ro[n]])&&o[Ro[n]].push(u[t][Ro[n]]);function d(e){var n=l.parentNode(e);s(n)&&l.removeChild(n,e)}function p(e,n,t,r,a,c,u){if(s(e.elm)&&s(c)&&(e=c[u]=me(e)),e.isRootInsert=!a,!function(e,n,t,r){var a=e.data;if(s(a)){var c=s(e.componentInstance)&&a.keepAlive;if(s(a=a.hook)&&s(a=a.init)&&a(e,!1),s(e.componentInstance))return f(e,n),h(t,e.elm,r),i(c)&&function(e,n,t,r){var a,i=e;for(;i.componentInstance;)if(i=i.componentInstance._vnode,s(a=i.data)&&s(a=a.transition)){for(a=0;a<o.activate.length;++a)o.activate[a](Co,i);n.push(i);break}h(t,e.elm,r)}(e,n,t,r),!0}}(e,n,t,r)){var d=e.data,p=e.children,v=e.tag;s(v)?(e.elm=e.ns?l.createElementNS(e.ns,v):l.createElement(v,e),b(e),m(e,p,n),s(d)&&x(e,n),h(t,e.elm,r)):i(e.isComment)?(e.elm=l.createComment(e.text),h(t,e.elm,r)):(e.elm=l.createTextNode(e.text),h(t,e.elm,r))}}function f(e,n){s(e.data.pendingInsert)&&(n.push.apply(n,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,v(e)?(x(e,n),b(e)):(_o(e),n.push(e))}function h(e,n,t){s(e)&&(s(t)?l.parentNode(t)===e&&l.insertBefore(e,n,t):l.appendChild(e,n))}function m(e,n,t){if(r(n)){0;for(var o=0;o<n.length;++o)p(n[o],t,e.elm,null,!0,n,o)}else c(e.text)&&l.appendChild(e.elm,l.createTextNode(String(e.text)))}function v(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return s(e.tag)}function x(e,t){for(var r=0;r<o.create.length;++r)o.create[r](Co,e);s(n=e.data.hook)&&(s(n.create)&&n.create(Co,e),s(n.insert)&&t.push(e))}function b(e){var n;if(s(n=e.fnScopeId))l.setStyleScope(e.elm,n);else for(var t=e;t;)s(n=t.context)&&s(n=n.$options._scopeId)&&l.setStyleScope(e.elm,n),t=t.parent;s(n=Zn)&&n!==e.context&&n!==e.fnContext&&s(n=n.$options._scopeId)&&l.setStyleScope(e.elm,n)}function y(e,n,t,o,r,a){for(;o<=r;++o)p(t[o],a,e,n,!1,t,o)}function k(e){var n,t,r=e.data;if(s(r))for(s(n=r.hook)&&s(n=n.destroy)&&n(e),n=0;n<o.destroy.length;++n)o.destroy[n](e);if(s(n=e.children))for(t=0;t<e.children.length;++t)k(e.children[t])}function _(e,n,t){for(;n<=t;++n){var o=e[n];s(o)&&(s(o.tag)?(w(o),k(o)):d(o.elm))}}function w(e,n){if(s(n)||s(e.data)){var t,r=o.remove.length+1;for(s(n)?n.listeners+=r:n=function(e,n){function t(){0==--t.listeners&&d(e)}return t.listeners=n,t}(e.elm,r),s(t=e.componentInstance)&&s(t=t._vnode)&&s(t.data)&&w(t,n),t=0;t<o.remove.length;++t)o.remove[t](e,n);s(t=e.data.hook)&&s(t=t.remove)?t(e,n):n()}else d(e.elm)}function C(e,n,t,o){for(var r=t;r<o;r++){var a=n[r];if(s(a)&&jo(e,a))return r}}function R(e,n,t,r,c,u){if(e!==n){s(n.elm)&&s(r)&&(n=r[c]=me(n));var d=n.elm=e.elm;if(i(e.isAsyncPlaceholder))s(n.asyncFactory.resolved)?T(e.elm,n,t):n.isAsyncPlaceholder=!0;else if(i(n.isStatic)&&i(e.isStatic)&&n.key===e.key&&(i(n.isCloned)||i(n.isOnce)))n.componentInstance=e.componentInstance;else{var f,h=n.data;s(h)&&s(f=h.hook)&&s(f=f.prepatch)&&f(e,n);var m=e.children,x=n.children;if(s(h)&&v(n)){for(f=0;f<o.update.length;++f)o.update[f](e,n);s(f=h.hook)&&s(f=f.update)&&f(e,n)}a(n.text)?s(m)&&s(x)?m!==x&&function(e,n,t,o,r){var i,c,u,d=0,f=0,h=n.length-1,m=n[0],v=n[h],x=t.length-1,g=t[0],b=t[x],k=!r;for(0;d<=h&&f<=x;)a(m)?m=n[++d]:a(v)?v=n[--h]:jo(m,g)?(R(m,g,o,t,f),m=n[++d],g=t[++f]):jo(v,b)?(R(v,b,o,t,x),v=n[--h],b=t[--x]):jo(m,b)?(R(m,b,o,t,x),k&&l.insertBefore(e,m.elm,l.nextSibling(v.elm)),m=n[++d],b=t[--x]):jo(v,g)?(R(v,g,o,t,f),k&&l.insertBefore(e,v.elm,m.elm),v=n[--h],g=t[++f]):(a(i)&&(i=So(n,d,h)),a(c=s(g.key)?i[g.key]:C(g,n,d,h))?p(g,o,e,m.elm,!1,t,f):jo(u=n[c],g)?(R(u,g,o,t,f),n[c]=void 0,k&&l.insertBefore(e,u.elm,m.elm)):p(g,o,e,m.elm,!1,t,f),g=t[++f]);d>h?y(e,a(t[x+1])?null:t[x+1].elm,t,f,x,o):f>x&&_(n,d,h)}(d,m,x,t,u):s(x)?(s(e.text)&&l.setTextContent(d,""),y(d,null,x,0,x.length-1,t)):s(m)?_(m,0,m.length-1):s(e.text)&&l.setTextContent(d,""):e.text!==n.text&&l.setTextContent(d,n.text),s(h)&&s(f=h.hook)&&s(f=f.postpatch)&&f(e,n)}}}function j(e,n,t){if(i(t)&&s(e.parent))e.parent.data.pendingInsert=n;else for(var o=0;o<n.length;++o)n[o].data.hook.insert(n[o])}var S=g("attrs,class,staticClass,staticStyle,key");function T(e,n,t,o){var r,a=n.tag,c=n.data,u=n.children;if(o=o||c&&c.pre,n.elm=e,i(n.isComment)&&s(n.asyncFactory))return n.isAsyncPlaceholder=!0,!0;if(s(c)&&(s(r=c.hook)&&s(r=r.init)&&r(n,!0),s(r=n.componentInstance)))return f(n,t),!0;if(s(a)){if(s(u))if(e.hasChildNodes())if(s(r=c)&&s(r=r.domProps)&&s(r=r.innerHTML)){if(r!==e.innerHTML)return!1}else{for(var l=!0,d=e.firstChild,p=0;p<u.length;p++){if(!d||!T(d,u[p],t,o)){l=!1;break}d=d.nextSibling}if(!l||d)return!1}else m(n,u,t);if(s(c)){var h=!1;for(var v in c)if(!S(v)){h=!0,x(n,t);break}!h&&c.class&&Vn(c.class)}}else e.data!==n.text&&(e.data=n.text);return!0}return function(e,n,t,r){if(!a(n)){var c,u=!1,d=[];if(a(e))u=!0,p(n,d);else{var f=s(e.nodeType);if(!f&&jo(e,n))R(e,n,d,null,null,r);else{if(f){if(1===e.nodeType&&e.hasAttribute("data-server-rendered")&&(e.removeAttribute("data-server-rendered"),t=!0),i(t)&&T(e,n,d))return j(n,d,!0),e;c=e,e=new pe(l.tagName(c).toLowerCase(),{},[],void 0,c)}var h=e.elm,m=l.parentNode(h);if(p(n,d,h._leaveCb?null:m,l.nextSibling(h)),s(n.parent))for(var x=n.parent,g=v(n);x;){for(var b=0;b<o.destroy.length;++b)o.destroy[b](x);if(x.elm=n.elm,g){for(var y=0;y<o.create.length;++y)o.create[y](Co,x);var w=x.data.hook.insert;if(w.merged)for(var C=1;C<w.fns.length;C++)w.fns[C]()}else _o(x);x=x.parent}s(m)?_([e],0,0):s(e.tag)&&k(e)}}return j(n,d,u),n.elm}s(e)&&k(e)}}({nodeOps:yo,modules:[Ho,Uo,Jo,Ko,cr,J?{create:Ar,activate:Ar,remove:function(e,n){!0!==e.data.show?Er(e,n):n()}}:{}].concat(Do)});K&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&Ur(e,"input")}));var Dr={inserted:function(e,n,t,o){"select"===t.tag?(o.elm&&!o.elm._vOptions?We(t,"postpatch",(function(){Dr.componentUpdated(e,n,t)})):zr(e,n,t.context),e._vOptions=[].map.call(e.options,Hr)):("textarea"===t.tag||bo(e.type))&&(e._vModifiers=n.modifiers,n.modifiers.lazy||(e.addEventListener("compositionstart",Lr),e.addEventListener("compositionend",Br),e.addEventListener("change",Br),K&&(e.vmodel=!0)))},componentUpdated:function(e,n,t){if("select"===t.tag){zr(e,n,t.context);var o=e._vOptions,r=e._vOptions=[].map.call(e.options,Hr);if(r.some((function(e,n){return!M(e,o[n])})))(e.multiple?n.value.some((function(e){return Pr(e,r)})):n.value!==n.oldValue&&Pr(n.value,r))&&Ur(e,"change")}}};function zr(e,n,t){Mr(e,n,t),(Z||Y)&&setTimeout((function(){Mr(e,n,t)}),0)}function Mr(e,n,t){var o=n.value,r=e.multiple;if(!r||Array.isArray(o)){for(var a,s,i=0,c=e.options.length;i<c;i++)if(s=e.options[i],r)a=P(o,Hr(s))>-1,s.selected!==a&&(s.selected=a);else if(M(Hr(s),o))return void(e.selectedIndex!==i&&(e.selectedIndex=i));r||(e.selectedIndex=-1)}}function Pr(e,n){return n.every((function(n){return!M(n,e)}))}function Hr(e){return"_value"in e?e._value:e.value}function Lr(e){e.target.composing=!0}function Br(e){e.target.composing&&(e.target.composing=!1,Ur(e.target,"input"))}function Ur(e,n){var t=document.createEvent("HTMLEvents");t.initEvent(n,!0,!0),e.dispatchEvent(t)}function Vr(e){return!e.componentInstance||e.data&&e.data.transition?e:Vr(e.componentInstance._vnode)}var Fr={model:Dr,show:{bind:function(e,n,t){var o=n.value,r=(t=Vr(t)).data&&t.data.transition,a=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;o&&r?(t.data.show=!0,Tr(t,(function(){e.style.display=a}))):e.style.display=o?a:"none"},update:function(e,n,t){var o=n.value;!o!=!n.oldValue&&((t=Vr(t)).data&&t.data.transition?(t.data.show=!0,o?Tr(t,(function(){e.style.display=e.__vOriginalDisplay})):Er(t,(function(){e.style.display="none"}))):e.style.display=o?e.__vOriginalDisplay:"none")},unbind:function(e,n,t,o,r){r||(e.style.display=e.__vOriginalDisplay)}}},Nr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function qr(e){var n=e&&e.componentOptions;return n&&n.Ctor.options.abstract?qr(Cn(n.children)):e}function Wr(e){var n={},t=e.$options;for(var o in t.propsData)n[o]=e[o];var r=t._parentListeners;for(var o in r)n[R(o)]=r[o];return n}function Xr(e,n){if(/\d-keep-alive$/.test(n.tag))return e("keep-alive",{props:n.componentOptions.propsData})}var Jr=function(e){return e.tag||hn(e)},Gr=function(e){return"show"===e.name},Zr={name:"transition",props:Nr,abstract:!0,render:function(e){var n=this,t=this.$slots.default;if(t&&(t=t.filter(Jr)).length){0;var o=this.mode;0;var r=t[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return r;var a=qr(r);if(!a)return r;if(this._leaving)return Xr(e,r);var s="__transition-".concat(this._uid,"-");a.key=null==a.key?a.isComment?s+"comment":s+a.tag:c(a.key)?0===String(a.key).indexOf(s)?a.key:s+a.key:a.key;var i=(a.data||(a.data={})).transition=Wr(this),u=this._vnode,l=qr(u);if(a.data.directives&&a.data.directives.some(Gr)&&(a.data.show=!0),l&&l.data&&!function(e,n){return n.key===e.key&&n.tag===e.tag}(a,l)&&!hn(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var d=l.data.transition=I({},i);if("out-in"===o)return this._leaving=!0,We(d,"afterLeave",(function(){n._leaving=!1,n.$forceUpdate()})),Xr(e,r);if("in-out"===o){if(hn(a))return u;var p,f=function(){p()};We(i,"afterEnter",f),We(i,"enterCancelled",f),We(d,"delayLeave",(function(e){p=e}))}}return r}}},Kr=I({tag:String,moveClass:String},Nr);function Yr(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Qr(e){e.data.newPos=e.elm.getBoundingClientRect()}function ea(e){var n=e.data.pos,t=e.data.newPos,o=n.left-t.left,r=n.top-t.top;if(o||r){e.data.moved=!0;var a=e.elm.style;a.transform=a.WebkitTransform="translate(".concat(o,"px,").concat(r,"px)"),a.transitionDuration="0s"}}delete Kr.mode;var na={Transition:Zr,TransitionGroup:{props:Kr,beforeMount:function(){var e=this,n=this._update;this._update=function(t,o){var r=Kn(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),n.call(e,t,o)}},render:function(e){for(var n=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),o=this.prevChildren=this.children,r=this.$slots.default||[],a=this.children=[],s=Wr(this),i=0;i<r.length;i++){if((l=r[i]).tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))a.push(l),t[l.key]=l,(l.data||(l.data={})).transition=s;else;}if(o){var c=[],u=[];for(i=0;i<o.length;i++){var l;(l=o[i]).data.transition=s,l.data.pos=l.elm.getBoundingClientRect(),t[l.key]?c.push(l):u.push(l)}this.kept=e(n,null,c),this.removed=u}return e(n,null,a)},updated:function(){var e=this.prevChildren,n=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,n)&&(e.forEach(Yr),e.forEach(Qr),e.forEach(ea),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var t=e.elm,o=t.style;kr(t,n),o.transform=o.WebkitTransform=o.transitionDuration="",t.addEventListener(vr,t._moveCb=function e(o){o&&o.target!==t||o&&!/transform$/.test(o.propertyName)||(t.removeEventListener(vr,e),t._moveCb=null,_r(t,n))})}})))},methods:{hasMove:function(e,n){if(!hr)return!1;if(this._hasMove)return this._hasMove;var t=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){dr(t,e)})),lr(t,n),t.style.display="none",this.$el.appendChild(t);var o=Rr(t);return this.$el.removeChild(t),this._hasMove=o.hasTransform}}}};function ta(e,n){for(var t in n)e[t]=n[t];return e}Wt.config.mustUseProp=function(e,n,t){return"value"===t&&no(e)&&"button"!==n||"selected"===t&&"option"===e||"checked"===t&&"input"===e||"muted"===t&&"video"===e},Wt.config.isReservedTag=xo,Wt.config.isReservedAttr=eo,Wt.config.getTagNamespace=function(e){return vo(e)?"svg":"math"===e?"math":void 0},Wt.config.isUnknownElement=function(e){if(!J)return!0;if(xo(e))return!1;if(e=e.toLowerCase(),null!=go[e])return go[e];var n=document.createElement(e);return e.indexOf("-")>-1?go[e]=n.constructor===window.HTMLUnknownElement||n.constructor===window.HTMLElement:go[e]=/HTMLUnknownElement/.test(n.toString())},I(Wt.options.directives,Fr),I(Wt.options.components,na),Wt.prototype.__patch__=J?$r:$,Wt.prototype.$mount=function(e,n){return function(e,n,t){var o;e.$el=n,e.$options.render||(e.$options.render=fe),et(e,"beforeMount"),o=function(){e._update(e._render(),t)},new qn(e,o,$,{before:function(){e._isMounted&&!e._isDestroyed&&et(e,"beforeUpdate")}},!0),t=!1;var r=e._preWatchers;if(r)for(var a=0;a<r.length;a++)r[a].run();return null==e.$vnode&&(e._isMounted=!0,et(e,"mounted")),e}(this,e=e&&J?function(e){if("string"==typeof e){var n=document.querySelector(e);return n||document.createElement("div")}return e}(e):void 0,n)},J&&setTimeout((function(){V.devtools&&se&&se.emit("init",Wt)}),0);var oa=/[!'()*]/g,ra=function(e){return"%"+e.charCodeAt(0).toString(16)},aa=/%2C/g,sa=function(e){return encodeURIComponent(e).replace(oa,ra).replace(aa,",")};function ia(e){try{return decodeURIComponent(e)}catch(e){0}return e}var ca=function(e){return null==e||"object"==typeof e?e:String(e)};function ua(e){var n={};return(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),o=ia(t.shift()),r=t.length>0?ia(t.join("=")):null;void 0===n[o]?n[o]=r:Array.isArray(n[o])?n[o].push(r):n[o]=[n[o],r]})),n):n}function la(e){var n=e?Object.keys(e).map((function(n){var t=e[n];if(void 0===t)return"";if(null===t)return sa(n);if(Array.isArray(t)){var o=[];return t.forEach((function(e){void 0!==e&&(null===e?o.push(sa(n)):o.push(sa(n)+"="+sa(e)))})),o.join("&")}return sa(n)+"="+sa(t)})).filter((function(e){return e.length>0})).join("&"):null;return n?"?"+n:""}var da=/\/?$/;function pa(e,n,t,o){var r=o&&o.options.stringifyQuery,a=n.query||{};try{a=fa(a)}catch(e){}var s={name:n.name||e&&e.name,meta:e&&e.meta||{},path:n.path||"/",hash:n.hash||"",query:a,params:n.params||{},fullPath:va(n,r),matched:e?ma(e):[]};return t&&(s.redirectedFrom=va(t,r)),Object.freeze(s)}function fa(e){if(Array.isArray(e))return e.map(fa);if(e&&"object"==typeof e){var n={};for(var t in e)n[t]=fa(e[t]);return n}return e}var ha=pa(null,{path:"/"});function ma(e){for(var n=[];e;)n.unshift(e),e=e.parent;return n}function va(e,n){var t=e.path,o=e.query;void 0===o&&(o={});var r=e.hash;return void 0===r&&(r=""),(t||"/")+(n||la)(o)+r}function xa(e,n,t){return n===ha?e===n:!!n&&(e.path&&n.path?e.path.replace(da,"")===n.path.replace(da,"")&&(t||e.hash===n.hash&&ba(e.query,n.query)):!(!e.name||!n.name)&&(e.name===n.name&&(t||e.hash===n.hash&&ba(e.query,n.query)&&ba(e.params,n.params))))}function ba(e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),!e||!n)return e===n;var t=Object.keys(e).sort(),o=Object.keys(n).sort();return t.length===o.length&&t.every((function(t,r){var a=e[t];if(o[r]!==t)return!1;var s=n[t];return null==a||null==s?a===s:"object"==typeof a&&"object"==typeof s?ba(a,s):String(a)===String(s)}))}function ya(e){for(var n=0;n<e.matched.length;n++){var t=e.matched[n];for(var o in t.instances){var r=t.instances[o],a=t.enteredCbs[o];if(r&&a){delete t.enteredCbs[o];for(var s=0;s<a.length;s++)r._isBeingDestroyed||a[s](r)}}}}var ka={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,n){var t=n.props,o=n.children,r=n.parent,a=n.data;a.routerView=!0;for(var s=r.$createElement,i=t.name,c=r.$route,u=r._routerViewCache||(r._routerViewCache={}),l=0,d=!1;r&&r._routerRoot!==r;){var p=r.$vnode?r.$vnode.data:{};p.routerView&&l++,p.keepAlive&&r._directInactive&&r._inactive&&(d=!0),r=r.$parent}if(a.routerViewDepth=l,d){var f=u[i],h=f&&f.component;return h?(f.configProps&&_a(h,a,f.route,f.configProps),s(h,a,o)):s()}var m=c.matched[l],v=m&&m.components[i];if(!m||!v)return u[i]=null,s();u[i]={component:v},a.registerRouteInstance=function(e,n){var t=m.instances[i];(n&&t!==e||!n&&t===e)&&(m.instances[i]=n)},(a.hook||(a.hook={})).prepatch=function(e,n){m.instances[i]=n.componentInstance},a.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==m.instances[i]&&(m.instances[i]=e.componentInstance),ya(c)};var x=m.props&&m.props[i];return x&&(ta(u[i],{route:c,configProps:x}),_a(v,a,c,x)),s(v,a,o)}};function _a(e,n,t,o){var r=n.props=function(e,n){switch(typeof n){case"undefined":return;case"object":return n;case"function":return n(e);case"boolean":return n?e.params:void 0;default:0}}(t,o);if(r){r=n.props=ta({},r);var a=n.attrs=n.attrs||{};for(var s in r)e.props&&s in e.props||(a[s]=r[s],delete r[s])}}function wa(e,n,t){var o=e.charAt(0);if("/"===o)return e;if("?"===o||"#"===o)return n+e;var r=n.split("/");t&&r[r.length-1]||r.pop();for(var a=e.replace(/^\//,"").split("/"),s=0;s<a.length;s++){var i=a[s];".."===i?r.pop():"."!==i&&r.push(i)}return""!==r[0]&&r.unshift(""),r.join("/")}function Ca(e){return e.replace(/\/(?:\s*\/)+/g,"/")}var Ra=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},ja=Ba,Sa=Aa,Ta=function(e,n){return Da(Aa(e,n),n)},Ea=Da,Oa=La,Ia=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Aa(e,n){for(var t,o=[],r=0,a=0,s="",i=n&&n.delimiter||"/";null!=(t=Ia.exec(e));){var c=t[0],u=t[1],l=t.index;if(s+=e.slice(a,l),a=l+c.length,u)s+=u[1];else{var d=e[a],p=t[2],f=t[3],h=t[4],m=t[5],v=t[6],x=t[7];s&&(o.push(s),s="");var g=null!=p&&null!=d&&d!==p,b="+"===v||"*"===v,y="?"===v||"*"===v,k=t[2]||i,_=h||m;o.push({name:f||r++,prefix:p||"",delimiter:k,optional:y,repeat:b,partial:g,asterisk:!!x,pattern:_?Ma(_):x?".*":"[^"+za(k)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&o.push(s),o}function $a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function Da(e,n){for(var t=new Array(e.length),o=0;o<e.length;o++)"object"==typeof e[o]&&(t[o]=new RegExp("^(?:"+e[o].pattern+")$",Ha(n)));return function(n,o){for(var r="",a=n||{},s=(o||{}).pretty?$a:encodeURIComponent,i=0;i<e.length;i++){var c=e[i];if("string"!=typeof c){var u,l=a[c.name];if(null==l){if(c.optional){c.partial&&(r+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(Ra(l)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<l.length;d++){if(u=s(l[d]),!t[i].test(u))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(u)+"`");r+=(0===d?c.prefix:c.delimiter)+u}}else{if(u=c.asterisk?encodeURI(l).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(l),!t[i].test(u))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+u+'"');r+=c.prefix+u}}else r+=c}return r}}function za(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Ma(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function Pa(e,n){return e.keys=n,e}function Ha(e){return e&&e.sensitive?"":"i"}function La(e,n,t){Ra(n)||(t=n||t,n=[]);for(var o=(t=t||{}).strict,r=!1!==t.end,a="",s=0;s<e.length;s++){var i=e[s];if("string"==typeof i)a+=za(i);else{var c=za(i.prefix),u="(?:"+i.pattern+")";n.push(i),i.repeat&&(u+="(?:"+c+u+")*"),a+=u=i.optional?i.partial?c+"("+u+")?":"(?:"+c+"("+u+"))?":c+"("+u+")"}}var l=za(t.delimiter||"/"),d=a.slice(-l.length)===l;return o||(a=(d?a.slice(0,-l.length):a)+"(?:"+l+"(?=$))?"),a+=r?"$":o&&d?"":"(?="+l+"|$)",Pa(new RegExp("^"+a,Ha(t)),n)}function Ba(e,n,t){return Ra(n)||(t=n||t,n=[]),t=t||{},e instanceof RegExp?function(e,n){var t=e.source.match(/\((?!\?)/g);if(t)for(var o=0;o<t.length;o++)n.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Pa(e,n)}(e,n):Ra(e)?function(e,n,t){for(var o=[],r=0;r<e.length;r++)o.push(Ba(e[r],n,t).source);return Pa(new RegExp("(?:"+o.join("|")+")",Ha(t)),n)}(e,n,t):function(e,n,t){return La(Aa(e,t),n,t)}(e,n,t)}ja.parse=Sa,ja.compile=Ta,ja.tokensToFunction=Ea,ja.tokensToRegExp=Oa;var Ua=Object.create(null);function Va(e,n,t){n=n||{};try{var o=Ua[e]||(Ua[e]=ja.compile(e));return"string"==typeof n.pathMatch&&(n[0]=n.pathMatch),o(n,{pretty:!0})}catch(e){return""}finally{delete n[0]}}function Fa(e,n,t,o){var r="string"==typeof e?{path:e}:e;if(r._normalized)return r;if(r.name){var a=(r=ta({},e)).params;return a&&"object"==typeof a&&(r.params=ta({},a)),r}if(!r.path&&r.params&&n){(r=ta({},r))._normalized=!0;var s=ta(ta({},n.params),r.params);if(n.name)r.name=n.name,r.params=s;else if(n.matched.length){var i=n.matched[n.matched.length-1].path;r.path=Va(i,s,n.path)}else 0;return r}var c=function(e){var n="",t="",o=e.indexOf("#");o>=0&&(n=e.slice(o),e=e.slice(0,o));var r=e.indexOf("?");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{path:e,query:t,hash:n}}(r.path||""),u=n&&n.path||"/",l=c.path?wa(c.path,u,t||r.append):u,d=function(e,n,t){void 0===n&&(n={});var o,r=t||ua;try{o=r(e||"")}catch(e){o={}}for(var a in n){var s=n[a];o[a]=Array.isArray(s)?s.map(ca):ca(s)}return o}(c.query,r.query,o&&o.options.parseQuery),p=r.hash||c.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:l,query:d,hash:p}}var Na,qa=function(){},Wa={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(e){var n=this,t=this.$router,o=this.$route,r=t.resolve(this.to,o,this.append),a=r.location,s=r.route,i=r.href,c={},u=t.options.linkActiveClass,l=t.options.linkExactActiveClass,d=null==u?"router-link-active":u,p=null==l?"router-link-exact-active":l,f=null==this.activeClass?d:this.activeClass,h=null==this.exactActiveClass?p:this.exactActiveClass,m=s.redirectedFrom?pa(null,Fa(s.redirectedFrom),null,t):s;c[h]=xa(o,m,this.exactPath),c[f]=this.exact||this.exactPath?c[h]:function(e,n){return 0===e.path.replace(da,"/").indexOf(n.path.replace(da,"/"))&&(!n.hash||e.hash===n.hash)&&function(e,n){for(var t in n)if(!(t in e))return!1;return!0}(e.query,n.query)}(o,m);var v=c[h]?this.ariaCurrentValue:null,x=function(e){Xa(e)&&(n.replace?t.replace(a,qa):t.push(a,qa))},g={click:Xa};Array.isArray(this.event)?this.event.forEach((function(e){g[e]=x})):g[this.event]=x;var b={class:c},y=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:i,route:s,navigate:x,isActive:c[f],isExactActive:c[h]});if(y){if(1===y.length)return y[0];if(y.length>1||!y.length)return 0===y.length?e():e("span",{},y)}if("a"===this.tag)b.on=g,b.attrs={href:i,"aria-current":v};else{var k=function e(n){var t;if(n)for(var o=0;o<n.length;o++){if("a"===(t=n[o]).tag)return t;if(t.children&&(t=e(t.children)))return t}}(this.$slots.default);if(k){k.isStatic=!1;var _=k.data=ta({},k.data);for(var w in _.on=_.on||{},_.on){var C=_.on[w];w in g&&(_.on[w]=Array.isArray(C)?C:[C])}for(var R in g)R in _.on?_.on[R].push(g[R]):_.on[R]=x;var j=k.data.attrs=ta({},k.data.attrs);j.href=i,j["aria-current"]=v}else b.on=g}return e(this.tag,b,this.$slots.default)}};function Xa(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var n=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return e.preventDefault&&e.preventDefault(),!0}}var Ja="undefined"!=typeof window;function Ga(e,n,t,o,r){var a=n||[],s=t||Object.create(null),i=o||Object.create(null);e.forEach((function(e){!function e(n,t,o,r,a,s){var i=r.path,c=r.name;0;var u=r.pathToRegexpOptions||{},l=function(e,n,t){t||(e=e.replace(/\/$/,""));if("/"===e[0])return e;if(null==n)return e;return Ca(n.path+"/"+e)}(i,a,u.strict);"boolean"==typeof r.caseSensitive&&(u.sensitive=r.caseSensitive);var d={path:l,regex:Za(l,u),components:r.components||{default:r.component},alias:r.alias?"string"==typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:c,parent:a,matchAs:s,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};r.children&&r.children.forEach((function(r){var a=s?Ca(s+"/"+r.path):void 0;e(n,t,o,r,d,a)}));t[d.path]||(n.push(d.path),t[d.path]=d);if(void 0!==r.alias)for(var p=Array.isArray(r.alias)?r.alias:[r.alias],f=0;f<p.length;++f){0;var h={path:p[f],children:r.children};e(n,t,o,h,a,d.path||"/")}c&&(o[c]||(o[c]=d))}(a,s,i,e,r)}));for(var c=0,u=a.length;c<u;c++)"*"===a[c]&&(a.push(a.splice(c,1)[0]),u--,c--);return{pathList:a,pathMap:s,nameMap:i}}function Za(e,n){return ja(e,[],n)}function Ka(e,n){var t=Ga(e),o=t.pathList,r=t.pathMap,a=t.nameMap;function s(e,t,s){var i=Fa(e,t,!1,n),u=i.name;if(u){var l=a[u];if(!l)return c(null,i);var d=l.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!=typeof i.params&&(i.params={}),t&&"object"==typeof t.params)for(var p in t.params)!(p in i.params)&&d.indexOf(p)>-1&&(i.params[p]=t.params[p]);return i.path=Va(l.path,i.params),c(l,i,s)}if(i.path){i.params={};for(var f=0;f<o.length;f++){var h=o[f],m=r[h];if(Ya(m.regex,i.path,i.params))return c(m,i,s)}}return c(null,i)}function i(e,t){var o=e.redirect,r="function"==typeof o?o(pa(e,t,null,n)):o;if("string"==typeof r&&(r={path:r}),!r||"object"!=typeof r)return c(null,t);var i=r,u=i.name,l=i.path,d=t.query,p=t.hash,f=t.params;if(d=i.hasOwnProperty("query")?i.query:d,p=i.hasOwnProperty("hash")?i.hash:p,f=i.hasOwnProperty("params")?i.params:f,u){a[u];return s({_normalized:!0,name:u,query:d,hash:p,params:f},void 0,t)}if(l){var h=function(e,n){return wa(e,n.parent?n.parent.path:"/",!0)}(l,e);return s({_normalized:!0,path:Va(h,f),query:d,hash:p},void 0,t)}return c(null,t)}function c(e,t,o){return e&&e.redirect?i(e,o||t):e&&e.matchAs?function(e,n,t){var o=s({_normalized:!0,path:Va(t,n.params)});if(o){var r=o.matched,a=r[r.length-1];return n.params=o.params,c(a,n)}return c(null,n)}(0,t,e.matchAs):pa(e,t,o,n)}return{match:s,addRoute:function(e,n){var t="object"!=typeof e?a[e]:void 0;Ga([n||e],o,r,a,t),t&&t.alias.length&&Ga(t.alias.map((function(e){return{path:e,children:[n]}})),o,r,a,t)},getRoutes:function(){return o.map((function(e){return r[e]}))},addRoutes:function(e){Ga(e,o,r,a)}}}function Ya(e,n,t){var o=n.match(e);if(!o)return!1;if(!t)return!0;for(var r=1,a=o.length;r<a;++r){var s=e.keys[r-1];s&&(t[s.name||"pathMatch"]="string"==typeof o[r]?ia(o[r]):o[r])}return!0}var Qa=Ja&&window.performance&&window.performance.now?window.performance:Date;function es(){return Qa.now().toFixed(3)}var ns=es();function ts(){return ns}function os(e){return ns=e}var rs=Object.create(null);function as(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,n=window.location.href.replace(e,""),t=ta({},window.history.state);return t.key=ts(),window.history.replaceState(t,"",n),window.addEventListener("popstate",cs),function(){window.removeEventListener("popstate",cs)}}function ss(e,n,t,o){if(e.app){var r=e.options.scrollBehavior;r&&e.app.$nextTick((function(){var a=function(){var e=ts();if(e)return rs[e]}(),s=r.call(e,n,t,o?a:null);s&&("function"==typeof s.then?s.then((function(e){fs(e,a)})).catch((function(e){0})):fs(s,a))}))}}function is(){var e=ts();e&&(rs[e]={x:window.pageXOffset,y:window.pageYOffset})}function cs(e){is(),e.state&&e.state.key&&os(e.state.key)}function us(e){return ds(e.x)||ds(e.y)}function ls(e){return{x:ds(e.x)?e.x:window.pageXOffset,y:ds(e.y)?e.y:window.pageYOffset}}function ds(e){return"number"==typeof e}var ps=/^#\d/;function fs(e,n){var t,o="object"==typeof e;if(o&&"string"==typeof e.selector){var r=ps.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(r){var a=e.offset&&"object"==typeof e.offset?e.offset:{};n=function(e,n){var t=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{x:o.left-t.left-n.x,y:o.top-t.top-n.y}}(r,a={x:ds((t=a).x)?t.x:0,y:ds(t.y)?t.y:0})}else us(e)&&(n=ls(e))}else o&&us(e)&&(n=ls(e));n&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:n.x,top:n.y,behavior:e.behavior}):window.scrollTo(n.x,n.y))}var hs,ms=Ja&&((-1===(hs=window.navigator.userAgent).indexOf("Android 2.")&&-1===hs.indexOf("Android 4.0")||-1===hs.indexOf("Mobile Safari")||-1!==hs.indexOf("Chrome")||-1!==hs.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function vs(e,n){is();var t=window.history;try{if(n){var o=ta({},t.state);o.key=ts(),t.replaceState(o,"",e)}else t.pushState({key:os(es())},"",e)}catch(t){window.location[n?"replace":"assign"](e)}}function xs(e){vs(e,!0)}var gs={redirected:2,aborted:4,cancelled:8,duplicated:16};function bs(e,n){return ks(e,n,gs.redirected,'Redirected when going from "'+e.fullPath+'" to "'+function(e){if("string"==typeof e)return e;if("path"in e)return e.path;var n={};return _s.forEach((function(t){t in e&&(n[t]=e[t])})),JSON.stringify(n,null,2)}(n)+'" via a navigation guard.')}function ys(e,n){return ks(e,n,gs.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+n.fullPath+'" with a new navigation.')}function ks(e,n,t,o){var r=new Error(o);return r._isRouter=!0,r.from=e,r.to=n,r.type=t,r}var _s=["params","query","hash"];function ws(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function Cs(e,n){return ws(e)&&e._isRouter&&(null==n||e.type===n)}function Rs(e,n,t){var o=function(r){r>=e.length?t():e[r]?n(e[r],(function(){o(r+1)})):o(r+1)};o(0)}function js(e){return function(n,t,o){var r=!1,a=0,s=null;Ss(e,(function(e,n,t,i){if("function"==typeof e&&void 0===e.cid){r=!0,a++;var c,u=Os((function(n){var r;((r=n).__esModule||Es&&"Module"===r[Symbol.toStringTag])&&(n=n.default),e.resolved="function"==typeof n?n:Na.extend(n),t.components[i]=n,--a<=0&&o()})),l=Os((function(e){var n="Failed to resolve async component "+i+": "+e;s||(s=ws(e)?e:new Error(n),o(s))}));try{c=e(u,l)}catch(e){l(e)}if(c)if("function"==typeof c.then)c.then(u,l);else{var d=c.component;d&&"function"==typeof d.then&&d.then(u,l)}}})),r||o()}}function Ss(e,n){return Ts(e.map((function(e){return Object.keys(e.components).map((function(t){return n(e.components[t],e.instances[t],e,t)}))})))}function Ts(e){return Array.prototype.concat.apply([],e)}var Es="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Os(e){var n=!1;return function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];if(!n)return n=!0,e.apply(this,t)}}var Is=function(e,n){this.router=e,this.base=function(e){if(!e)if(Ja){var n=document.querySelector("base");e=(e=n&&n.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else e="/";"/"!==e.charAt(0)&&(e="/"+e);return e.replace(/\/$/,"")}(n),this.current=ha,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function As(e,n,t,o){var r=Ss(e,(function(e,o,r,a){var s=function(e,n){"function"!=typeof e&&(e=Na.extend(e));return e.options[n]}(e,n);if(s)return Array.isArray(s)?s.map((function(e){return t(e,o,r,a)})):t(s,o,r,a)}));return Ts(o?r.reverse():r)}function $s(e,n){if(n)return function(){return e.apply(n,arguments)}}Is.prototype.listen=function(e){this.cb=e},Is.prototype.onReady=function(e,n){this.ready?e():(this.readyCbs.push(e),n&&this.readyErrorCbs.push(n))},Is.prototype.onError=function(e){this.errorCbs.push(e)},Is.prototype.transitionTo=function(e,n,t){var o,r=this;try{o=this.router.match(e,this.current)}catch(e){throw this.errorCbs.forEach((function(n){n(e)})),e}var a=this.current;this.confirmTransition(o,(function(){r.updateRoute(o),n&&n(o),r.ensureURL(),r.router.afterHooks.forEach((function(e){e&&e(o,a)})),r.ready||(r.ready=!0,r.readyCbs.forEach((function(e){e(o)})))}),(function(e){t&&t(e),e&&!r.ready&&(Cs(e,gs.redirected)&&a===ha||(r.ready=!0,r.readyErrorCbs.forEach((function(n){n(e)}))))}))},Is.prototype.confirmTransition=function(e,n,t){var o=this,r=this.current;this.pending=e;var a,s,i=function(e){!Cs(e)&&ws(e)&&(o.errorCbs.length?o.errorCbs.forEach((function(n){n(e)})):console.error(e)),t&&t(e)},c=e.matched.length-1,u=r.matched.length-1;if(xa(e,r)&&c===u&&e.matched[c]===r.matched[u])return this.ensureURL(),e.hash&&ss(this.router,r,e,!1),i(((s=ks(a=r,e,gs.duplicated,'Avoided redundant navigation to current location: "'+a.fullPath+'".')).name="NavigationDuplicated",s));var l=function(e,n){var t,o=Math.max(e.length,n.length);for(t=0;t<o&&e[t]===n[t];t++);return{updated:n.slice(0,t),activated:n.slice(t),deactivated:e.slice(t)}}(this.current.matched,e.matched),d=l.updated,p=l.deactivated,f=l.activated,h=[].concat(function(e){return As(e,"beforeRouteLeave",$s,!0)}(p),this.router.beforeHooks,function(e){return As(e,"beforeRouteUpdate",$s)}(d),f.map((function(e){return e.beforeEnter})),js(f)),m=function(n,t){if(o.pending!==e)return i(ys(r,e));try{n(e,r,(function(n){!1===n?(o.ensureURL(!0),i(function(e,n){return ks(e,n,gs.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+n.fullPath+'" via a navigation guard.')}(r,e))):ws(n)?(o.ensureURL(!0),i(n)):"string"==typeof n||"object"==typeof n&&("string"==typeof n.path||"string"==typeof n.name)?(i(bs(r,e)),"object"==typeof n&&n.replace?o.replace(n):o.push(n)):t(n)}))}catch(e){i(e)}};Rs(h,m,(function(){Rs(function(e){return As(e,"beforeRouteEnter",(function(e,n,t,o){return function(e,n,t){return function(o,r,a){return e(o,r,(function(e){"function"==typeof e&&(n.enteredCbs[t]||(n.enteredCbs[t]=[]),n.enteredCbs[t].push(e)),a(e)}))}}(e,t,o)}))}(f).concat(o.router.resolveHooks),m,(function(){if(o.pending!==e)return i(ys(r,e));o.pending=null,n(e),o.router.app&&o.router.app.$nextTick((function(){ya(e)}))}))}))},Is.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)},Is.prototype.setupListeners=function(){},Is.prototype.teardown=function(){this.listeners.forEach((function(e){e()})),this.listeners=[],this.current=ha,this.pending=null};var Ds=function(e){function n(n,t){e.call(this,n,t),this._startLocation=zs(this.base)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var n=this.router,t=n.options.scrollBehavior,o=ms&&t;o&&this.listeners.push(as());var r=function(){var t=e.current,r=zs(e.base);e.current===ha&&r===e._startLocation||e.transitionTo(r,(function(e){o&&ss(n,e,t,!0)}))};window.addEventListener("popstate",r),this.listeners.push((function(){window.removeEventListener("popstate",r)}))}},n.prototype.go=function(e){window.history.go(e)},n.prototype.push=function(e,n,t){var o=this,r=this.current;this.transitionTo(e,(function(e){vs(Ca(o.base+e.fullPath)),ss(o.router,e,r,!1),n&&n(e)}),t)},n.prototype.replace=function(e,n,t){var o=this,r=this.current;this.transitionTo(e,(function(e){xs(Ca(o.base+e.fullPath)),ss(o.router,e,r,!1),n&&n(e)}),t)},n.prototype.ensureURL=function(e){if(zs(this.base)!==this.current.fullPath){var n=Ca(this.base+this.current.fullPath);e?vs(n):xs(n)}},n.prototype.getCurrentLocation=function(){return zs(this.base)},n}(Is);function zs(e){var n=window.location.pathname,t=n.toLowerCase(),o=e.toLowerCase();return!e||t!==o&&0!==t.indexOf(Ca(o+"/"))||(n=n.slice(e.length)),(n||"/")+window.location.search+window.location.hash}var Ms=function(e){function n(n,t,o){e.call(this,n,t),o&&function(e){var n=zs(e);if(!/^\/#/.test(n))return window.location.replace(Ca(e+"/#"+n)),!0}(this.base)||Ps()}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var n=this.router.options.scrollBehavior,t=ms&&n;t&&this.listeners.push(as());var o=function(){var n=e.current;Ps()&&e.transitionTo(Hs(),(function(o){t&&ss(e.router,o,n,!0),ms||Us(o.fullPath)}))},r=ms?"popstate":"hashchange";window.addEventListener(r,o),this.listeners.push((function(){window.removeEventListener(r,o)}))}},n.prototype.push=function(e,n,t){var o=this,r=this.current;this.transitionTo(e,(function(e){Bs(e.fullPath),ss(o.router,e,r,!1),n&&n(e)}),t)},n.prototype.replace=function(e,n,t){var o=this,r=this.current;this.transitionTo(e,(function(e){Us(e.fullPath),ss(o.router,e,r,!1),n&&n(e)}),t)},n.prototype.go=function(e){window.history.go(e)},n.prototype.ensureURL=function(e){var n=this.current.fullPath;Hs()!==n&&(e?Bs(n):Us(n))},n.prototype.getCurrentLocation=function(){return Hs()},n}(Is);function Ps(){var e=Hs();return"/"===e.charAt(0)||(Us("/"+e),!1)}function Hs(){var e=window.location.href,n=e.indexOf("#");return n<0?"":e=e.slice(n+1)}function Ls(e){var n=window.location.href,t=n.indexOf("#");return(t>=0?n.slice(0,t):n)+"#"+e}function Bs(e){ms?vs(Ls(e)):window.location.hash=e}function Us(e){ms?xs(Ls(e)):window.location.replace(Ls(e))}var Vs=function(e){function n(n,t){e.call(this,n,t),this.stack=[],this.index=-1}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.push=function(e,n,t){var o=this;this.transitionTo(e,(function(e){o.stack=o.stack.slice(0,o.index+1).concat(e),o.index++,n&&n(e)}),t)},n.prototype.replace=function(e,n,t){var o=this;this.transitionTo(e,(function(e){o.stack=o.stack.slice(0,o.index).concat(e),n&&n(e)}),t)},n.prototype.go=function(e){var n=this,t=this.index+e;if(!(t<0||t>=this.stack.length)){var o=this.stack[t];this.confirmTransition(o,(function(){var e=n.current;n.index=t,n.updateRoute(o),n.router.afterHooks.forEach((function(n){n&&n(o,e)}))}),(function(e){Cs(e,gs.duplicated)&&(n.index=t)}))}},n.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},n.prototype.ensureURL=function(){},n}(Is),Fs=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Ka(e.routes||[],this);var n=e.mode||"hash";switch(this.fallback="history"===n&&!ms&&!1!==e.fallback,this.fallback&&(n="hash"),Ja||(n="abstract"),this.mode=n,n){case"history":this.history=new Ds(this,e.base);break;case"hash":this.history=new Ms(this,e.base,this.fallback);break;case"abstract":this.history=new Vs(this,e.base);break;default:0}},Ns={currentRoute:{configurable:!0}};Fs.prototype.match=function(e,n,t){return this.matcher.match(e,n,t)},Ns.currentRoute.get=function(){return this.history&&this.history.current},Fs.prototype.init=function(e){var n=this;if(this.apps.push(e),e.$once("hook:destroyed",(function(){var t=n.apps.indexOf(e);t>-1&&n.apps.splice(t,1),n.app===e&&(n.app=n.apps[0]||null),n.app||n.history.teardown()})),!this.app){this.app=e;var t=this.history;if(t instanceof Ds||t instanceof Ms){var o=function(e){t.setupListeners(),function(e){var o=t.current,r=n.options.scrollBehavior;ms&&r&&"fullPath"in e&&ss(n,e,o,!1)}(e)};t.transitionTo(t.getCurrentLocation(),o,o)}t.listen((function(e){n.apps.forEach((function(n){n._route=e}))}))}},Fs.prototype.beforeEach=function(e){return Ws(this.beforeHooks,e)},Fs.prototype.beforeResolve=function(e){return Ws(this.resolveHooks,e)},Fs.prototype.afterEach=function(e){return Ws(this.afterHooks,e)},Fs.prototype.onReady=function(e,n){this.history.onReady(e,n)},Fs.prototype.onError=function(e){this.history.onError(e)},Fs.prototype.push=function(e,n,t){var o=this;if(!n&&!t&&"undefined"!=typeof Promise)return new Promise((function(n,t){o.history.push(e,n,t)}));this.history.push(e,n,t)},Fs.prototype.replace=function(e,n,t){var o=this;if(!n&&!t&&"undefined"!=typeof Promise)return new Promise((function(n,t){o.history.replace(e,n,t)}));this.history.replace(e,n,t)},Fs.prototype.go=function(e){this.history.go(e)},Fs.prototype.back=function(){this.go(-1)},Fs.prototype.forward=function(){this.go(1)},Fs.prototype.getMatchedComponents=function(e){var n=e?e.matched?e:this.resolve(e).route:this.currentRoute;return n?[].concat.apply([],n.matched.map((function(e){return Object.keys(e.components).map((function(n){return e.components[n]}))}))):[]},Fs.prototype.resolve=function(e,n,t){var o=Fa(e,n=n||this.history.current,t,this),r=this.match(o,n),a=r.redirectedFrom||r.fullPath;return{location:o,route:r,href:function(e,n,t){var o="hash"===t?"#"+n:n;return e?Ca(e+"/"+o):o}(this.history.base,a,this.mode),normalizedTo:o,resolved:r}},Fs.prototype.getRoutes=function(){return this.matcher.getRoutes()},Fs.prototype.addRoute=function(e,n){this.matcher.addRoute(e,n),this.history.current!==ha&&this.history.transitionTo(this.history.getCurrentLocation())},Fs.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==ha&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Fs.prototype,Ns);var qs=Fs;function Ws(e,n){return e.push(n),function(){var t=e.indexOf(n);t>-1&&e.splice(t,1)}}Fs.install=function e(n){if(!e.installed||Na!==n){e.installed=!0,Na=n;var t=function(e){return void 0!==e},o=function(e,n){var o=e.$options._parentVnode;t(o)&&t(o=o.data)&&t(o=o.registerRouteInstance)&&o(e,n)};n.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),n.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,o(this,this)},destroyed:function(){o(this)}}),Object.defineProperty(n.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(n.prototype,"$route",{get:function(){return this._routerRoot._route}}),n.component("RouterView",ka),n.component("RouterLink",Wa);var r=n.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}},Fs.version="3.6.5",Fs.isNavigationFailure=Cs,Fs.NavigationFailureType=gs,Fs.START_LOCATION=ha,Ja&&window.Vue&&window.Vue.use(Fs);t(98);t(13),t(130);var Xs={NotFound:()=>Promise.all([t.e(0),t.e(4)]).then(t.bind(null,318)),Layout:()=>Promise.all([t.e(0),t.e(2)]).then(t.bind(null,317))},Js={"v-0984cce1":()=>t.e(5).then(t.bind(null,319)),"v-3fc9d1f0":()=>t.e(6).then(t.bind(null,320)),"v-72b8f81b":()=>t.e(7).then(t.bind(null,321)),"v-48fa0d46":()=>t.e(8).then(t.bind(null,322)),"v-cf1e7c3c":()=>t.e(9).then(t.bind(null,323)),"v-203b00fc":()=>t.e(10).then(t.bind(null,324)),"v-a25d69dc":()=>t.e(11).then(t.bind(null,325)),"v-56ff8d3c":()=>t.e(12).then(t.bind(null,326)),"v-71a2faae":()=>t.e(13).then(t.bind(null,327)),"v-7c321b48":()=>t.e(14).then(t.bind(null,328)),"v-79108ef8":()=>t.e(15).then(t.bind(null,329)),"v-f8c0a0dc":()=>t.e(16).then(t.bind(null,330)),"v-349dd31c":()=>t.e(17).then(t.bind(null,331)),"v-748e7cb2":()=>t.e(18).then(t.bind(null,332)),"v-0e390e5c":()=>t.e(19).then(t.bind(null,333)),"v-866ffc9c":()=>t.e(20).then(t.bind(null,334)),"v-3b9dbf9c":()=>t.e(21).then(t.bind(null,335)),"v-1afb1872":()=>t.e(22).then(t.bind(null,336)),"v-3a895b40":()=>t.e(23).then(t.bind(null,337)),"v-4bd231aa":()=>t.e(24).then(t.bind(null,338)),"v-6b0a6271":()=>t.e(25).then(t.bind(null,339)),"v-782f6ddc":()=>t.e(26).then(t.bind(null,340)),"v-513c8141":()=>t.e(27).then(t.bind(null,341)),"v-5d36b894":()=>t.e(28).then(t.bind(null,342)),"v-53104ef6":()=>t.e(29).then(t.bind(null,343)),"v-a113e2c4":()=>t.e(30).then(t.bind(null,344))};function Gs(e){const n=Object.create(null);return function(t){return n[t]||(n[t]=e(t))}}const Zs=/-(\w)/g,Ks=Gs(e=>e.replace(Zs,(e,n)=>n?n.toUpperCase():"")),Ys=/\B([A-Z])/g,Qs=Gs(e=>e.replace(Ys,"-$1").toLowerCase()),ei=Gs(e=>e.charAt(0).toUpperCase()+e.slice(1));function ni(e,n){if(!n)return;if(e(n))return e(n);return n.includes("-")?e(ei(Ks(n))):e(ei(n))||e(Qs(n))}const ti=Object.assign({},Xs,Js),oi=e=>ti[e],ri=e=>Js[e],ai=e=>Xs[e],si=e=>Wt.component(e);function ii(e){return ni(ri,e)}function ci(e){return ni(ai,e)}function ui(e){return ni(oi,e)}function li(e){return ni(si,e)}function di(...e){return Promise.all(e.filter(e=>e).map(async e=>{if(!li(e)&&ui(e)){const n=await ui(e)();Wt.component(e,n.default)}}))}function pi(e,n){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[e]=n)}var fi=t(92),hi=t.n(fi),mi=t(93),vi=t.n(mi),xi={created(){if(this.siteMeta=this.$site.headTags.filter(([e])=>"meta"===e).map(([e,n])=>n),this.$ssrContext){const n=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(e=n)?e.map(e=>{let n="<meta";return Object.keys(e).forEach(t=>{n+=` ${t}="${vi()(e[t])}"`}),n+">"}).join("\n    "):"",this.$ssrContext.canonicalLink=bi(this.$canonicalUrl)}var e},mounted(){this.currentMetaTags=[...document.querySelectorAll("meta")],this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta(){document.title=this.$title,document.documentElement.lang=this.$lang;const e=this.getMergedMetaTags();this.currentMetaTags=yi(e,this.currentMetaTags)},getMergedMetaTags(){const e=this.$page.frontmatter.meta||[];return hi()([{name:"description",content:this.$description}],e,this.siteMeta,ki)},updateCanonicalLink(){gi(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",bi(this.$canonicalUrl))}},watch:{$page(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy(){yi(null,this.currentMetaTags),gi()}};function gi(){const e=document.querySelector("link[rel='canonical']");e&&e.remove()}function bi(e=""){return e?`<link href="${e}" rel="canonical" />`:""}function yi(e,n){if(n&&[...n].filter(e=>e.parentNode===document.head).forEach(e=>document.head.removeChild(e)),e)return e.map(e=>{const n=document.createElement("meta");return Object.keys(e).forEach(t=>{n.setAttribute(t,e[t])}),document.head.appendChild(n),n})}function ki(e){for(const n of["name","property","itemprop"])if(e.hasOwnProperty(n))return e[n]+n;return JSON.stringify(e)}var _i=t(48),wi={mounted(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(_i)()((function(){this.setActiveHash()}),300),setActiveHash(){const e=[].slice.call(document.querySelectorAll(".sidebar-link")),n=[].slice.call(document.querySelectorAll(".header-anchor")).filter(n=>e.some(e=>e.hash===n.hash)),t=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),o=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),r=window.innerHeight+t;for(let e=0;e<n.length;e++){const a=n[e],s=n[e+1],i=0===e&&0===t||t>=a.parentElement.offsetTop+10&&(!s||t<s.parentElement.offsetTop-10),c=decodeURIComponent(this.$route.hash);if(i&&c!==decodeURIComponent(a.hash)){const t=a;if(r===o)for(let t=e+1;t<n.length;t++)if(c===decodeURIComponent(n[t].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(t.hash),()=>{this.$nextTick(()=>{this.$vuepress.$set("disableScrollBehavior",!1)})})}}}},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)}},Ci=t(24),Ri=t.n(Ci),ji={mounted(){Ri.a.configure({showSpinner:!1}),this.$router.beforeEach((e,n,t)=>{e.path===n.path||Wt.component(e.name)||Ri.a.start(),t()}),this.$router.afterEach(()=>{Ri.a.done(),this.isSidebarOpen=!1})}};t(239),t(240);class Si{constructor(){this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}show({text:e="",duration:n=3e3}){let t=document.createElement("div");t.className="message move-in",t.innerHTML=`\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">${e}</div>\n    `,this.containerEl.appendChild(t),n>0&&setTimeout(()=>{this.close(t)},n)}close(e){e.className=e.className.replace("move-in",""),e.className+="move-out",e.addEventListener("animationend",()=>{e.remove()})}}var Ti={mounted(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy(){setTimeout(()=>{(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach(e=>{document.querySelectorAll(e).forEach(this.generateCopyButton)})},1e3)},generateCopyButton(e){if(e.classList.contains("codecopy-enabled"))return;const n=document.createElement("i");n.className="code-copy",n.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',n.title="Copy to clipboard",n.addEventListener("click",()=>{this.copyToClipboard(e.innerText)}),e.appendChild(n),e.classList.add("codecopy-enabled")},copyToClipboard(e){const n=document.createElement("textarea");n.value=e,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n);const t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);n.select(),document.execCommand("copy");(new Si).show({text:"å¤å¶æå",duration:1e3}),document.body.removeChild(n),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}};!function(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}("@media (max-width: 1000px) {\n  .vuepress-plugin-demo-block__h_code {\n    display: none;\n  }\n  .vuepress-plugin-demo-block__app {\n    margin-left: auto !important;\n    margin-right: auto !important;\n  }\n}\n.vuepress-plugin-demo-block__wrapper {\n  margin-top: 10px;\n  border: 1px solid #ebebeb;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display {\n  height: 400px;\n  display: flex;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__app {\n  width: 300px;\n  border: 1px solid #ebebeb;\n  box-shadow: 1px 1px 3px #ebebeb;\n  margin-right: 5px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code {\n  flex: 1;\n  overflow: auto;\n  height: 100%;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code > pre {\n  overflow: visible;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  max-height: 400px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper div {\n  box-sizing: border-box;\n}\n.vuepress-plugin-demo-block__wrapper:hover {\n  box-shadow: 0 0 11px rgba(33, 33, 33, 0.2);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code {\n  overflow: hidden;\n  height: 0;\n  padding: 0 !important;\n  background-color: #282c34;\n  border-radius: 0 !important;\n  transition: height 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code pre {\n  margin: 0 !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  padding: 20px;\n  border-bottom: 1px solid #ebebeb;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer {\n  position: relative;\n  text-align: center;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__codepen {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__expand::before {\n  border-top: none;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #ccc;\n  border-left: 6px solid transparent;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__codepen,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand span,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand::before {\n  border-top-color: #3eaf7c !important;\n  border-bottom-color: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover svg {\n  fill: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand-text {\n  transition: all 0.5s;\n  opacity: 0;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:nth-last-child(2) {\n  right: 50px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:last-child {\n  right: 10px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button {\n  border-color: transparent;\n  background-color: transparent;\n  font-size: 14px;\n  color: #3eaf7c;\n  cursor: pointer;\n  outline: none;\n  margin: 0;\n  width: 46px;\n  position: relative;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::before {\n  content: attr(data-tip);\n  white-space: nowrap;\n  position: absolute;\n  top: -30px;\n  left: 50%;\n  color: #eee;\n  line-height: 1;\n  z-index: 1000;\n  border-radius: 4px;\n  padding: 6px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::after {\n  content: '' !important;\n  display: block;\n  position: absolute;\n  left: 50%;\n  top: -5px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  border: 5px solid transparent;\n  border-top-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button svg {\n  width: 34px;\n  height: 20px;\n  fill: #ccc;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__codepen {\n  position: absolute;\n  top: 10px;\n  transition: all 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand {\n  position: relative;\n  width: 100px;\n  height: 40px;\n  margin: 0;\n  color: #3eaf7c;\n  font-size: 14px;\n  background-color: transparent;\n  border-color: transparent;\n  outline: none;\n  transition: all 0.5s;\n  cursor: pointer;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-top: 6px solid #ccc;\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n");var Ei={jsLib:[],cssLib:[],jsfiddle:!0,codepen:!0,codepenLayout:"left",codepenJsProcessor:"babel",codepenEditors:"101",horizontal:!1,vue:"https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js",react:"https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js",reactDOM:"https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"},Oi={},Ii=function(e){return'<div id="app">\n'.concat(e,"\n</div>")},Ai=function(e){return window.$VUEPRESS_DEMO_BLOCK&&void 0!==window.$VUEPRESS_DEMO_BLOCK[e]?window.$VUEPRESS_DEMO_BLOCK[e]:Ei[e]},$i=function e(n,t,o){var r=document.createElement(n);return t&&Object.keys(t).forEach((function(e){if(e.indexOf("data"))r[e]=t[e];else{var n=e.replace("data","");r.dataset[n]=t[e]}})),o&&o.forEach((function(n){var t=n.tag,o=n.attrs,a=n.children;r.appendChild(e(t,o,a))})),r},Di=function(e,n,t){var o,r=(o=e.querySelectorAll(".".concat(n)),Array.prototype.slice.call(o));return 1!==r.length||t?r:r[0]},zi=function(e,n){var t,o,r=e.match(/<style>([\s\S]+)<\/style>/),a=e.match(/<template>([\s\S]+)<\/template>/),s=e.match(/<script>([\s\S]+)<\/script>/),i={css:r&&r[1].replace(/^\n|\n$/g,""),html:a&&a[1].replace(/^\n|\n$/g,""),js:s&&s[1].replace(/^\n|\n$/g,""),jsLib:n.jsLib||[],cssLib:n.cssLib||[]};i.htmlTpl=Ii(i.html),i.jsTpl=(t=i.js,o=t.replace(/export\s+default\s*?\{\n*/,"").replace(/\n*\}\s*$/,"").trim(),"new Vue({\n  el: '#app',\n  ".concat(o,"\n})")),i.script=function(e,n){var t=e.split(/export\s+default/),o="(function() {".concat(t[0]," ; return ").concat(t[1],"})()"),r=window.Babel?window.Babel.transform(o,{presets:["es2015"]}).code:o,a=[eval][0](r);return a.template=n,a}(i.js,i.html);var c=Ai("vue");return i.jsLib.unshift(c),i},Mi=function(e,n){var t,o=e.match(/<style>([\s\S]+)<\/style>/),r=e.match(/<html>([\s\S]+)<\/html>/),a=e.match(/<script>([\s\S]+)<\/script>/),s={css:o&&o[1].replace(/^\n|\n$/g,""),html:r&&r[1].replace(/^\n|\n$/g,""),js:a&&a[1].replace(/^\n|\n$/g,""),jsLib:n.jsLib||[],cssLib:n.cssLib||[]};return s.htmlTpl=s.html,s.jsTpl=s.js,s.script=(t=s.js,window.Babel?window.Babel.transform(t,{presets:["es2015"]}).code:t),s},Pi=function(e){return e=e.replace("export default ","").replace(/App\.__style__(\s*)=(\s*)`([\s\S]*)?`/,""),e+='ReactDOM.render(React.createElement(App), document.getElementById("app"))'};function Hi(){var e=Di(document,"vuepress-plugin-demo-block__wrapper",!0);e.length?e.forEach((function(e){if("true"!==e.dataset.created){e.style.display="block";var n=Di(e,"vuepress-plugin-demo-block__code"),t=Di(e,"vuepress-plugin-demo-block__display"),o=Di(e,"vuepress-plugin-demo-block__footer"),r=Di(t,"vuepress-plugin-demo-block__app"),a=decodeURIComponent(e.dataset.code),s=decodeURIComponent(e.dataset.config),i=decodeURIComponent(e.dataset.type);s=s?JSON.parse(s):{};var c=n.querySelector("div").clientHeight,u="react"===i?function(e,n){var t=(0,window.Babel.transform)(e,{presets:["es2015","react"]}).code,o="(function(exports){var module={};module.exports=exports;".concat(t,";return module.exports.__esModule?module.exports.default:module.exports;})({})"),r=new Function("return ".concat(o))(),a={js:r,css:r.__style__||"",jsLib:n.jsLib||[],cssLib:n.cssLib||[],jsTpl:Pi(e),htmlTpl:Ii("")},s=Ai("react"),i=Ai("reactDOM");return a.jsLib.unshift(s,i),a}(a,s):"vanilla"===i?Mi(a,s):zi(a,s),l=$i("button",{className:"".concat("vuepress-plugin-demo-block__expand")});if(o.appendChild(l),l.addEventListener("click",Li.bind(null,l,c,n,o)),Ai("jsfiddle")&&o.appendChild(function(e){var n=e.css,t=e.htmlTpl,o=e.jsTpl,r=e.jsLib,a=e.cssLib,s=r.concat(a).concat(Ai("cssLib")).concat(Ai("jsLib")).join(",");return $i("form",{className:"vuepress-plugin-demo-block__jsfiddle",target:"_blank",action:"https://jsfiddle.net/api/post/library/pure/",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"css",value:n}},{tag:"input",attrs:{type:"hidden",name:"html",value:t}},{tag:"input",attrs:{type:"hidden",name:"js",value:o}},{tag:"input",attrs:{type:"hidden",name:"panel_js",value:3}},{tag:"input",attrs:{type:"hidden",name:"wrap",value:1}},{tag:"input",attrs:{type:"hidden",name:"resources",value:s}},{tag:"button",attrs:{type:"submit",className:"vuepress-plugin-demo-block__button",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088289967" class="icon" style="" viewBox="0 0 1170 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1952" xmlns:xlink="http://www.w3.org/1999/xlink" width="228.515625" height="200"><defs><style type="text/css"></style></defs><path d="M1028.571429 441.142857q63.428571 26.285714 102.571428 83.142857T1170.285714 650.857143q0 93.714286-67.428571 160.285714T940 877.714286q-2.285714 0-6.571429-0.285715t-6-0.285714H232q-97.142857-5.714286-164.571429-71.714286T0 645.142857q0-62.857143 31.428571-116t84-84q-6.857143-22.285714-6.857142-46.857143 0-65.714286 46.857142-112t113.714286-46.285714q54.285714 0 98.285714 33.142857 42.857143-88 127.142858-141.714286t186.571428-53.714285q94.857143 0 174.857143 46T982.571429 248.571429t46.571428 172q0 3.428571-0.285714 10.285714t-0.285714 10.285714zM267.428571 593.142857q0 69.714286 48 110.285714t118.857143 40.571429q78.285714 0 137.142857-56.571429-9.142857-11.428571-27.142857-32.285714T519.428571 626.285714q-38.285714 37.142857-82.285714 37.142857-31.428571 0-53.428571-19.142857T361.714286 594.285714q0-30.285714 22-49.714285t52.285714-19.428572q25.142857 0 48.285714 12t41.714286 31.428572 37.142857 42.857142 39.428572 46.857143 44 42.857143 55.428571 31.428572 69.428571 12q69.142857 0 116.857143-40.857143T936 594.857143q0-69.142857-48-109.714286t-118.285714-40.571428q-81.714286 0-137.714286 55.428571l53.142857 61.714286q37.714286-36.571429 81.142857-36.571429 29.714286 0 52.571429 18.857143t22.857143 48q0 32.571429-21.142857 52.285714t-53.714286 19.714286q-24.571429 0-47.142857-12t-41.142857-31.428571-37.428572-42.857143-39.714286-46.857143-44.285714-42.857143-55.142857-31.428571T434.285714 444.571429q-69.714286 0-118.285714 40.285714T267.428571 593.142857z" p-id="1953"></path></svg>',datatip:"JSFiddle"}}])}(u)),Ai("codepen")&&o.appendChild(function(e){var n=e.css,t=e.htmlTpl,o=e.jsTpl,r=e.jsLib,a=e.cssLib,s=JSON.stringify({css:n,html:t,js:o,js_external:r.concat(Ai("jsLib")).join(";"),css_external:a.concat(Ai("cssLib")).join(";"),layout:Ai("codepenLayout"),js_pre_processor:Ai("codepenJsProcessor"),editors:Ai("codepenEditors")});return $i("form",{className:"vuepress-plugin-demo-block__codepen",target:"_blank",action:"https://codepen.io/pen/define",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"data",value:s}},{tag:"button",attrs:{type:"submit",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088271207" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1737" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M123.428571 668l344.571429 229.714286v-205.142857L277.142857 565.142857z m-35.428571-82.285714l110.285714-73.714286-110.285714-73.714286v147.428572z m468 312l344.571429-229.714286-153.714286-102.857143-190.857143 127.428572v205.142857z m-44-281.714286l155.428571-104-155.428571-104-155.428571 104zM277.142857 458.857143l190.857143-127.428572V126.285714L123.428571 356z m548.571429 53.142857l110.285714 73.714286V438.285714z m-78.857143-53.142857l153.714286-102.857143-344.571429-229.714286v205.142857z m277.142857-102.857143v312q0 23.428571-19.428571 36.571429l-468 312q-12 7.428571-24.571429 7.428571t-24.571429-7.428571L19.428571 704.571429q-19.428571-13.142857-19.428571-36.571429V356q0-23.428571 19.428571-36.571429L487.428571 7.428571q12-7.428571 24.571429-7.428571t24.571429 7.428571l468 312q19.428571 13.142857 19.428571 36.571429z" p-id="1738"></path></svg>',className:"vuepress-plugin-demo-block__button",datatip:"Codepen"}}])}(u)),void 0!==s.horizontal?s.horizontal:Ai("horizontal")){e.classList.add("vuepress-plugin-demo-block__horizontal");var d=n.firstChild.cloneNode(!0);d.classList.add("vuepress-plugin-demo-block__h_code"),t.appendChild(d)}if(u.css&&function(e){if(!Oi[e]){var n=$i("style",{innerHTML:e});document.body.appendChild(n),Oi[e]=!0}}(u.css),"react"===i)ReactDOM.render(React.createElement(u.js),r);else if("vue"===i){var p=(new(Vue.extend(u.script))).$mount();r.appendChild(p.$el)}else"vanilla"===i&&(r.innerHTML=u.html,new Function("return (function(){".concat(u.script,"})()"))());e.dataset.created="true"}})):setTimeout((function(e){Hi()}),300)}function Li(e,n,t,o){var r="1"!==e.dataset.isExpand;t.style.height=r?"".concat(n,"px"):0,r?o.classList.add("vuepress-plugin-demo-block__show-link"):o.classList.remove("vuepress-plugin-demo-block__show-link"),e.dataset.isExpand=r?"1":"0"}var Bi={mounted:function(){window.$VUEPRESS_DEMO_BLOCK={jsfiddle:!1,codepen:!0,horizontal:!1},Hi()},updated:function(){Hi()}},Ui="auto",Vi="zoom-in",Fi="zoom-out",Ni="grab",qi="move";function Wi(e,n,t){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r={passive:!1};o?e.addEventListener(n,t,r):e.removeEventListener(n,t,r)}function Xi(e,n){if(e){var t=new Image;t.onload=function(){n&&n(t)},t.src=e}}function Ji(e){return e.dataset.original?e.dataset.original:"A"===e.parentNode.tagName?e.parentNode.getAttribute("href"):null}function Gi(e,n,t){!function(e){var n=Zi,t=Ki;if(e.transition){var o=e.transition;delete e.transition,e[n]=o}if(e.transform){var r=e.transform;delete e.transform,e[t]=r}}(n);var o=e.style,r={};for(var a in n)t&&(r[a]=o[a]||""),o[a]=n[a];return r}var Zi="transition",Ki="transform",Yi="transform",Qi="transitionend";var ec=function(){},nc={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:ec,onClose:ec,onGrab:ec,onMove:ec,onRelease:ec,onBeforeOpen:ec,onBeforeClose:ec,onBeforeGrab:ec,onBeforeRelease:ec,onImageLoading:ec,onImageLoaded:ec},tc={init:function(e){var n,t;n=this,t=e,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((function(e){n[e]=n[e].bind(t)}))},click:function(e){if(e.preventDefault(),rc(e))return window.open(this.target.srcOriginal||e.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(e.currentTarget)},scroll:function(){var e=document.documentElement||document.body.parentNode||document.body,n=window.pageXOffset||e.scrollLeft,t=window.pageYOffset||e.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:n,y:t});var o=this.lastScrollPosition.x-n,r=this.lastScrollPosition.y-t,a=this.options.scrollThreshold;(Math.abs(r)>=a||Math.abs(o)>=a)&&(this.lastScrollPosition=null,this.close())},keydown:function(e){(function(e){return"Escape"===(e.key||e.code)||27===e.keyCode})(e)&&(this.released?this.close():this.release(this.close))},mousedown:function(e){if(oc(e)&&!rc(e)){e.preventDefault();var n=e.clientX,t=e.clientY;this.pressTimer=setTimeout(function(){this.grab(n,t)}.bind(this),200)}},mousemove:function(e){this.released||this.move(e.clientX,e.clientY)},mouseup:function(e){oc(e)&&!rc(e)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(e){e.preventDefault();var n=e.touches[0],t=n.clientX,o=n.clientY;this.pressTimer=setTimeout(function(){this.grab(t,o)}.bind(this),200)},touchmove:function(e){if(!this.released){var n=e.touches[0],t=n.clientX,o=n.clientY;this.move(t,o)}},touchend:function(e){(function(e){e.targetTouches.length})(e)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function oc(e){return 0===e.button}function rc(e){return e.metaKey||e.ctrlKey}var ac={init:function(e){this.el=document.createElement("div"),this.instance=e,this.parent=document.body,Gi(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(e.options),Wi(this.el,"click",e.handler.clickOverlay.bind(e))},updateStyle:function(e){Gi(this.el,{zIndex:e.zIndex,backgroundColor:e.bgColor,transition:"opacity\n        "+e.transitionDuration+"s\n        "+e.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),cc=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},uc={init:function(e,n){this.el=e,this.instance=n,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=Ji(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var e=this.instance.options,n=e.zIndex,t=e.enableGrab,o=e.transitionDuration,r=e.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:n+1,cursor:t?Ni:Fi,transition:Yi+"\n        "+o+"s\n        "+r,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=Gi(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,Gi(this.el,{transform:"none"})},grab:function(e,n,t){var o=lc(),r=o.x-e,a=o.y-n;Gi(this.el,{cursor:qi,transform:"translate3d(\n        "+(this.translate.x+r)+"px, "+(this.translate.y+a)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(e,n,t){var o=lc(),r=o.x-e,a=o.y-n;Gi(this.el,{transition:Yi,transform:"translate3d(\n        "+(this.translate.x+r)+"px, "+(this.translate.y+a)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){Gi(this.el,this.styleClose)},restoreOpenStyle:function(){Gi(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var e=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var n=this.el.cloneNode(!1);n.setAttribute("src",this.srcOriginal),n.style.position="fixed",n.style.visibility="hidden",e.appendChild(n),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),e.removeChild(n)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var e=lc(),n=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:e.x-n,y:e.y-t}},calculateScale:function(){var e=this.el.dataset,n=e.zoomingHeight,t=e.zoomingWidth,o=this.instance.options,r=o.customSize,a=o.scaleBase;if(!r&&n&&t)return{x:t/this.rect.width,y:n/this.rect.height};if(r&&"object"===(void 0===r?"undefined":sc(r)))return{x:r.width/this.rect.width,y:r.height/this.rect.height};var s=this.rect.width/2,i=this.rect.height/2,c=lc(),u={x:c.x-s,y:c.y-i},l=u.x/s,d=u.y/i,p=a+Math.min(l,d);if(r&&"string"==typeof r){var f=t||this.el.naturalWidth,h=n||this.el.naturalHeight,m=parseFloat(r)*f/(100*this.rect.width),v=parseFloat(r)*h/(100*this.rect.height);if(p>m||p>v)return{x:m,y:v}}return{x:p,y:p}}};function lc(){var e=document.documentElement;return{x:Math.min(e.clientWidth,window.innerWidth)/2,y:Math.min(e.clientHeight,window.innerHeight)/2}}function dc(e,n,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(o){Wi(e,o,n[o],t)}))}var pc=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=Object.create(uc),this.overlay=Object.create(ac),this.handler=Object.create(tc),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=cc({},nc,n),this.overlay.init(this),this.handler.init(this)}return ic(e,[{key:"listen",value:function(e){if("string"==typeof e)for(var n=document.querySelectorAll(e),t=n.length;t--;)this.listen(n[t]);else"IMG"===e.tagName&&(e.style.cursor=Vi,Wi(e,"click",this.handler.click),this.options.preloadImage&&Xi(Ji(e)));return this}},{key:"config",value:function(e){return e?(cc(this.options,e),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var o="string"==typeof e?document.querySelector(e):e;if("IMG"===o.tagName){if(this.options.onBeforeOpen(o),this.target.init(o,this),!this.options.preloadImage){var r=this.target.srcOriginal;null!=r&&(this.options.onImageLoading(o),Xi(r,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),Wi(document,"scroll",this.handler.scroll),Wi(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&Wi(window,"resize",this.handler.resizeWindow);var a=function e(){Wi(o,Qi,e,!1),n.lock=!1,n.target.upgradeSource(),n.options.enableGrab&&dc(document,n.handler,!0),t(o)};return Wi(o,Qi,a),this}}}},{key:"close",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=Ui,this.overlay.fadeOut(),this.target.zoomOut(),Wi(document,"scroll",this.handler.scroll,!1),Wi(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&Wi(window,"resize",this.handler.resizeWindow,!1);var o=function o(){Wi(t,Qi,o,!1),e.shown=!1,e.lock=!1,e.target.downgradeSource(),e.options.enableGrab&&dc(document,e.handler,!1),e.target.restoreCloseStyle(),e.overlay.remove(),n(t)};return Wi(t,Qi,o),this}}},{key:"grab",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var r=this.target.el;this.options.onBeforeGrab(r),this.released=!1,this.target.grab(e,n,t);var a=function e(){Wi(r,Qi,e,!1),o(r)};return Wi(r,Qi,a),this}}},{key:"move",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=qi,this.target.move(e,n,t);var r=this.target.el,a=function e(){Wi(r,Qi,e,!1),o(r)};return Wi(r,Qi,a),this}}},{key:"release",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=Ui,this.target.restoreOpenStyle();var o=function o(){Wi(t,Qi,o,!1),e.lock=!1,e.released=!0,n(t)};return Wi(t,Qi,o),this}}}]),e}();const fc=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),hc=Number("500");class mc{constructor(){this.instance=new pc(fc)}update(e=".theme-vdoing-content img:not(.no-zoom)"){"undefined"!=typeof window&&this.instance.listen(e)}updateDelay(e=".theme-vdoing-content img:not(.no-zoom)",n=hc){setTimeout(()=>this.update(e),n)}}var vc=[xi,wi,ji,Ti,Bi,{watch:{"$page.path"(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted(){this.$vuepress.zooming=new mc,this.$vuepress.zooming.updateDelay()}}],xc={name:"GlobalLayout",computed:{layout(){const e=this.getLayout();return pi("layout",e),Wt.component(e)}},methods:{getLayout(){if(this.$page.path){const e=this.$page.frontmatter.layout;return e&&(this.$vuepress.getLayoutAsyncComponent(e)||this.$vuepress.getVueComponent(e))?e:"Layout"}return"NotFound"}}},gc=t(7),bc=Object(gc.a)(xc,(function(){return(0,this._self._c)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(e,n,t){switch(n){case"components":e[n]||(e[n]={}),Object.assign(e[n],t);break;case"mixins":e[n]||(e[n]=[]),e[n].push(...t);break;default:throw new Error("Unknown option name.")}}(bc,"mixins",vc);const yc=[{name:"v-0984cce1",path:"/pages/9088dd/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-0984cce1").then(t)}},{path:"/pages/9088dd/index.html",redirect:"/pages/9088dd/"},{path:"/01.rust/01.tauri/01.è§£å³ Rust Tauri 1.0 æå»ºæ¶ä¸è½½ WiXå¤±è´¥.html",redirect:"/pages/9088dd/"},{name:"v-3fc9d1f0",path:"/pages/b63bcd/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-3fc9d1f0").then(t)}},{path:"/pages/b63bcd/index.html",redirect:"/pages/b63bcd/"},{path:"/02.go/01.å¼åç¯å¢/01.Go éç½® VS code å¯å¨.html",redirect:"/pages/b63bcd/"},{name:"v-72b8f81b",path:"/pages/8ce629/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-72b8f81b").then(t)}},{path:"/pages/8ce629/index.html",redirect:"/pages/8ce629/"},{path:"/02.go/01.å¼åç¯å¢/02.windowsç³»ç»ä¸­VS codeæªè¯å«nodejs cmdletéè¯¯.html",redirect:"/pages/8ce629/"},{name:"v-48fa0d46",path:"/pages/dfd26d/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-48fa0d46").then(t)}},{path:"/pages/dfd26d/index.html",redirect:"/pages/dfd26d/"},{path:"/03.react/01.React Hook ç®ä».html",redirect:"/pages/dfd26d/"},{name:"v-cf1e7c3c",path:"/pages/b364c0/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-cf1e7c3c").then(t)}},{path:"/pages/b364c0/index.html",redirect:"/pages/b364c0/"},{path:"/03.react/02.useStateåºç¡ç¨æ³.html",redirect:"/pages/b364c0/"},{name:"v-203b00fc",path:"/pages/0e215c/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-203b00fc").then(t)}},{path:"/pages/0e215c/index.html",redirect:"/pages/0e215c/"},{path:"/03.react/03.useStateé«çº§ç¨æ³.html",redirect:"/pages/0e215c/"},{name:"v-a25d69dc",path:"/pages/16dc88/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-a25d69dc").then(t)}},{path:"/pages/16dc88/index.html",redirect:"/pages/16dc88/"},{path:"/03.react/04.useEffectåºç¡ç¨æ³.html",redirect:"/pages/16dc88/"},{name:"v-56ff8d3c",path:"/pages/b9c039/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-56ff8d3c").then(t)}},{path:"/pages/b9c039/index.html",redirect:"/pages/b9c039/"},{path:"/03.react/05.useEffecté«çº§ç¨æ³.html",redirect:"/pages/b9c039/"},{name:"v-71a2faae",path:"/pages/fd14d7/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-71a2faae").then(t)}},{path:"/pages/fd14d7/index.html",redirect:"/pages/fd14d7/"},{path:"/03.react/06.useContextåºç¡ç¨æ³.html",redirect:"/pages/fd14d7/"},{name:"v-7c321b48",path:"/pages/15da39/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-7c321b48").then(t)}},{path:"/pages/15da39/index.html",redirect:"/pages/15da39/"},{path:"/03.react/07.useContexté«çº§ç¨æ³.html",redirect:"/pages/15da39/"},{name:"v-79108ef8",path:"/pages/ab6774/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-79108ef8").then(t)}},{path:"/pages/ab6774/index.html",redirect:"/pages/ab6774/"},{path:"/03.react/08.useReduceråºç¡ç¨æ³.html",redirect:"/pages/ab6774/"},{name:"v-f8c0a0dc",path:"/pages/fd7fdb/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-f8c0a0dc").then(t)}},{path:"/pages/fd7fdb/index.html",redirect:"/pages/fd7fdb/"},{path:"/03.react/09.useReduceré«çº§ç¨æ³.html",redirect:"/pages/fd7fdb/"},{name:"v-349dd31c",path:"/pages/9d19f1/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-349dd31c").then(t)}},{path:"/pages/9d19f1/index.html",redirect:"/pages/9d19f1/"},{path:"/03.react/10.useCallbackåºç¡ç¨æ³.html",redirect:"/pages/9d19f1/"},{name:"v-748e7cb2",path:"/pages/8b008f/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-748e7cb2").then(t)}},{path:"/pages/8b008f/index.html",redirect:"/pages/8b008f/"},{path:"/03.react/11.useMemoåºç¡ç¨æ³.html",redirect:"/pages/8b008f/"},{name:"v-0e390e5c",path:"/pages/4c9695/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-0e390e5c").then(t)}},{path:"/pages/4c9695/index.html",redirect:"/pages/4c9695/"},{path:"/03.react/12.useRefåºç¡ç¨æ³.html",redirect:"/pages/4c9695/"},{name:"v-866ffc9c",path:"/pages/ede426/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-866ffc9c").then(t)}},{path:"/pages/ede426/index.html",redirect:"/pages/ede426/"},{path:"/03.react/13.useImperativeHandleåºç¡ç¨æ³.html",redirect:"/pages/ede426/"},{name:"v-3b9dbf9c",path:"/pages/1b392f/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-3b9dbf9c").then(t)}},{path:"/pages/1b392f/index.html",redirect:"/pages/1b392f/"},{path:"/03.react/14.useLayoutEffectåºç¡ç¨æ³.html",redirect:"/pages/1b392f/"},{name:"v-1afb1872",path:"/pages/e1ebef/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-1afb1872").then(t)}},{path:"/pages/e1ebef/index.html",redirect:"/pages/e1ebef/"},{path:"/03.react/15.useDebugValueåºç¡ç¨æ³.html",redirect:"/pages/e1ebef/"},{name:"v-3a895b40",path:"/pages/c38877/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-3a895b40").then(t)}},{path:"/pages/c38877/index.html",redirect:"/pages/c38877/"},{path:"/03.react/16.èªå®ä¹hook.html",redirect:"/pages/c38877/"},{name:"v-4bd231aa",path:"/pages/621c1c/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-4bd231aa").then(t)}},{path:"/pages/621c1c/index.html",redirect:"/pages/621c1c/"},{path:"/03.react/17.React Hook æ»ç».html",redirect:"/pages/621c1c/"},{name:"v-6b0a6271",path:"/pages/a44117/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-6b0a6271").then(t)}},{path:"/pages/a44117/index.html",redirect:"/pages/a44117/"},{path:"/03.react/18.ç¤ºä¾ï¼Reactä½¿ç¨Echartsæç¨å°çhooks.html",redirect:"/pages/a44117/"},{name:"v-782f6ddc",path:"/pages/74a184/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-782f6ddc").then(t)}},{path:"/pages/74a184/index.html",redirect:"/pages/74a184/"},{path:"/03.react/19.useTransitionåºç¡ç¨æ³.html",redirect:"/pages/74a184/"},{name:"v-513c8141",path:"/pages/0116b5/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-513c8141").then(t)}},{path:"/pages/0116b5/index.html",redirect:"/pages/0116b5/"},{path:"/03.react/20.Reactåºç¡ç¥è¯.html",redirect:"/pages/0116b5/"},{name:"v-5d36b894",path:"/pages/89216e/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-5d36b894").then(t)}},{path:"/pages/89216e/index.html",redirect:"/pages/89216e/"},{path:"/03.react/21.Reactæ©å±éè¯».html",redirect:"/pages/89216e/"},{name:"v-53104ef6",path:"/blog/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-53104ef6").then(t)}},{path:"/blog/index.html",redirect:"/blog/"},{path:"/@pages/archivesPage.html",redirect:"/blog/"},{name:"v-a113e2c4",path:"/",component:bc,beforeEnter:(e,n,t)=>{di("Layout","v-a113e2c4").then(t)}},{path:"/index.html",redirect:"/"},{path:"*",component:bc}],kc={title:"Allen",description:"rust",base:"/",headTags:[["link",{rel:"icon",href:"/img/favicon.ico"}],["meta",{name:"keywords",content:"allen,,blog,vdoing"}],["meta",{name:"theme-color",content:"#11a8cd"}]],pages:[{title:"è§£å³ Rust Tauri 1.0 æå»ºæ¶ä¸è½½ WiXå¤±è´¥",frontmatter:{title:"è§£å³ Rust Tauri 1.0 æå»ºæ¶ä¸è½½ WiXå¤±è´¥",date:"2023-05-15T09:31:28.000Z",permalink:"/pages/9088dd/"},regularPath:"/01.rust/01.tauri/01.%E8%A7%A3%E5%86%B3%20Rust%20Tauri%201.0%20%E6%9E%84%E5%BB%BA%E6%97%B6%E4%B8%8B%E8%BD%BD%20WiX%E5%A4%B1%E8%B4%A5.html",relativePath:"01.rust/01.tauri/01.è§£å³ Rust Tauri 1.0 æå»ºæ¶ä¸è½½ WiXå¤±è´¥.md",key:"v-0984cce1",path:"/pages/9088dd/",headersStr:null,content:'Windows çå®è£å¨ WiX çä¸è½½å¤±è´¥ä¸ï¼\n\n\n\nå¤å±çä»£çå¯¹å½ä»¤è¡åä¸çæï¼æå¥½çæ¹å¼æ¯æè¿ä¸ª WiX åå¨æµè§å¨ä¸è½½å®ï¼ç¶åæ¾å¨ Tauri éè¦çå°æ¹ï¼è®©å®ç´æ¥ä½¿ç¨ï¼é¿ååå¨å½ä»¤è¡éä¸è½½ã\n\nTauri çå¤æ­ä»£ç å¨è¿éï¼https://github.com/tauri-apps/tauri/blob/dev/tooling/bundler/src/bundle/windows/msi.rs#L29\n\n/// Runs all of the commands to build the MSI installer.\n/// Returns a vector of PathBuf that shows where the MSI was created.\npub fn bundle_project(settings: &Settings, updater: bool) -> crate::Result<Vec<PathBuf>> {\n  let mut wix_path = dirs_next::cache_dir().unwrap();\n  wix_path.push("tauri/WixTools");\n\n  if !wix_path.exists() {\n    wix::get_and_extract_wix(&wix_path)?;\n  } else if WIX_REQUIRED_FILES\n    .iter()\n    .any(|p| !wix_path.join(p).exists())\n  {\n    warn!("WixTools directory is missing some files. Recreating it.");\n    std::fs::remove_dir_all(&wix_path)?;\n    wix::get_and_extract_wix(&wix_path)?;\n  }\n\n  wix::build_wix_app_installer(settings, &wix_path, updater)\n}\n\n\ndirs_next::cache_dir() çç»æå¦ä¸ï¼\n\nPLATFORM   VALUE                             EXAMPLE\nLinux      $XDG_CACHE_HOME or $HOME/.cache   /home/alice/.cache\nmacOS      $HOME/Library/Caches              /Users/Alice/Library/Caches\nWindows    {FOLDERID_LocalAppData}           C:\\Users\\Alice\\AppData\\Local\n\næä»¥ç´æ¥æ Wix ä¸è½½å®åï¼å¨ C:\\Users\\xxxxxxxx\\AppData\\Loca ä¸­ï¼åå»º tauri/WixTools æä»¶å¤¹ï¼ç¶åæåå®¹è§£åå°éé¢å°±å¯ä»¥äºã\n\næ­£å¸¸æå»ºå®æï¼\n\n',normalizedContent:'windows çå®è£å¨ wix çä¸è½½å¤±è´¥ä¸ï¼\n\n\n\nå¤å±çä»£çå¯¹å½ä»¤è¡åä¸çæï¼æå¥½çæ¹å¼æ¯æè¿ä¸ª wix åå¨æµè§å¨ä¸è½½å®ï¼ç¶åæ¾å¨ tauri éè¦çå°æ¹ï¼è®©å®ç´æ¥ä½¿ç¨ï¼é¿ååå¨å½ä»¤è¡éä¸è½½ã\n\ntauri çå¤æ­ä»£ç å¨è¿éï¼https://github.com/tauri-apps/tauri/blob/dev/tooling/bundler/src/bundle/windows/msi.rs#l29\n\n/// runs all of the commands to build the msi installer.\n/// returns a vector of pathbuf that shows where the msi was created.\npub fn bundle_project(settings: &settings, updater: bool) -> crate::result<vec<pathbuf>> {\n  let mut wix_path = dirs_next::cache_dir().unwrap();\n  wix_path.push("tauri/wixtools");\n\n  if !wix_path.exists() {\n    wix::get_and_extract_wix(&wix_path)?;\n  } else if wix_required_files\n    .iter()\n    .any(|p| !wix_path.join(p).exists())\n  {\n    warn!("wixtools directory is missing some files. recreating it.");\n    std::fs::remove_dir_all(&wix_path)?;\n    wix::get_and_extract_wix(&wix_path)?;\n  }\n\n  wix::build_wix_app_installer(settings, &wix_path, updater)\n}\n\n\ndirs_next::cache_dir() çç»æå¦ä¸ï¼\n\nplatform   value                             example\nlinux      $xdg_cache_home or $home/.cache   /home/alice/.cache\nmacos      $home/library/caches              /users/alice/library/caches\nwindows    {folderid_localappdata}           c:\\users\\alice\\appdata\\local\n\næä»¥ç´æ¥æ wix ä¸è½½å®åï¼å¨ c:\\users\\xxxxxxxx\\appdata\\loca ä¸­ï¼åå»º tauri/wixtools æä»¶å¤¹ï¼ç¶åæåå®¹è§£åå°éé¢å°±å¯ä»¥äºã\n\næ­£å¸¸æå»ºå®æï¼\n\n',charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"Go éç½® VS code å¯å¨",frontmatter:{title:"Go éç½® VS code å¯å¨",date:"2023-05-15T20:29:27.000Z",permalink:"/pages/b63bcd/"},regularPath:"/02.go/01.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/01.Go%20%E9%85%8D%E7%BD%AE%20VS%20code%20%E5%90%AF%E5%8A%A8.html",relativePath:"02.go/01.å¼åç¯å¢/01.Go éç½® VS code å¯å¨.md",key:"v-3fc9d1f0",path:"/pages/b63bcd/",headers:[{level:2,title:"1ãå®è£goæä»¶",slug:"_1ãå®è£goæä»¶",normalizedTitle:"1ãå®è£goæä»¶",charIndex:110},{level:2,title:"2ãå®è£debugæä»¶",slug:"_2ãå®è£debugæä»¶",normalizedTitle:"2ãå®è£debugæä»¶",charIndex:125},{level:2,title:"3ãéç½®å¯å¨æä»¶",slug:"_3ãéç½®å¯å¨æä»¶",normalizedTitle:"3ãéç½®å¯å¨æä»¶",charIndex:339}],headersStr:"1ãå®è£goæä»¶ 2ãå®è£debugæä»¶ 3ãéç½®å¯å¨æä»¶",content:'æè¿ç¬èå¨å­¦ä¹ gokinsè¿ç¨ä¸­ï¼æå¼å§çæ¶åï¼ä½¿ç¨golandç¼è¯è¿è¡ï¼ä½æ¯åé¢ç±äºåè´¹è¯ç¨å¤©æ°ç¨å®å°±æ æ³ä½¿ç¨äºï¼ç»è¿æ¯è¾ï¼è¿æ¯å³å®ä½¿ç¨VS codeè¿è¡ï¼ä½æ¯VS codeé»è®¤æ¯ä¸æ¯æè¿è¡ï¼éè¦èªå·±æå¨éç½®\n\n\n# 1ãå®è£goæä»¶\n\n\n\n\n# 2ãå®è£debugæä»¶\n\n * è¾å¥å¿«æ·é®Ctrl + Shift + Pæå¼å½ä»¤å¿«æ·è¾å¥æ¡ï¼è¾å¥go install,éæ©ä¸å¾çéé¡¹\n\n\n\n * ç¶åä¸ä¸ä¸ªéæ©æ¡éæ©dlv çdebugç»ä»¶ï¼è¿è¾¹å»ºè®®å¨éï¼é¿ååé¢ä½¿ç¨å°å¯¹åºçå·¥å·åè¦åè£ä¸éï¼ï¼ç¹å»OKå°±å¯ä»¥å¼å§å®è£äºï¼å®è£è¿ç¨ä¸­ç±äºæ¯ä¸è½½å½å¤èµæºï¼ä¼æ¯è¾æ¢åå¤±è´¥ï¼å»ºè®®å¤è¯å æ¬¡ï¼å¦æå®å¨ä¸è¡çè¯ï¼å°±ä½¿ç¨æå¨å®è£çæ¹å¼ï¼å®è£æ¹å¼è¯·åèdlvçgithubåºæå\n\n\n\n\n# 3ãéç½®å¯å¨æä»¶\n\nctrl+shift+p è¾å¥ Debug: Open launch.json æå¼ launch.json æä»¶ï¼å¦æç¬¬ä¸æ¬¡æå¼,ä¼æ°å»ºä¸ä¸ªéç½®æä»¶ï¼é»è®¤éç½®åå®¹å¦ä¸ï¼\n\n{\n    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    "version": "0.2.0",\n    "configurations": [\n\n\t\t{\n            "name": "Launch",\n            "type": "go",\n            "request": "launch",\n            "mode": "auto",\n            "program": "${fileDirname}",\n            "env": {},\n            "args": []\n        }\n\t]\n}\n\n\nå¸¸ç¨çå±æ§å¦ä¸æç¤ºï¼\n\nå±æ§           ä»ç»\nname         è°è¯çé¢ä¸æéæ©é¡¹çåç§°\ntype         è®¾ç½®ä¸ºgoæ éæ¹å¨ï¼æ¯ vs code ç¨äºè®¡ç®è°è¯ä»£ç éè¦ç¨åªä¸ªæ©å±\nmode         å¯ä»¥è®¾ç½®ä¸º auto, debug, remote, test, exec ä¸­çä¸ä¸ª\nprogram      è°è¯ç¨åºçè·¯å¾ï¼ç»å¯¹è·¯å¾ï¼\nenv          è°è¯æ¶ä½¿ç¨çç¯å¢åéãä¾å¦:{ "ENVNAME": "ENVVALUE" }\nenvFile      åå«ç¯å¢åéæä»¶çç»å¯¹è·¯å¾ï¼å¨ env ä¸­è®¾ç½®çå±æ§ä¼è¦ç envFile ä¸­çéç½®\nargs         ä¼ ç»æ­£å¨è°è¯ç¨åºå½ä»¤è¡åæ°æ°ç»\nshowLog      å¸å°å¼ï¼æ¯å¦å°è°è¯ä¿¡æ¯è¾åº\nlogOutput    éç½®è°è¯è¾åºçç»ä»¶ï¼debugger, gdbwire, lldbout, debuglineerr,\n             rpcï¼,ä½¿ç¨,åéï¼ showLog è®¾ç½®ä¸º true æ¶ï¼æ­¤é¡¹éç½®çæ\nbuildFlags   æå»º go ç¨åºæ¶ä¼ ç» go ç¼è¯å¨çæ å¿ï¼å¦æéè¦ä½¿ç¨æå»ºæ è®°ï¼e.g. go build\n             -tags=whatever_tagï¼å¨åæ° buildFlags éåå¥ -tags=whatever_tag"\n             å³å¯ï¼æ¯æå¤æ ç­¾ï¼ä½¿ç¨åå¼å·å°æ ç­¾åå´,ä¾å¦ï¼ "-tags=\'first_tag second_tag\n             third_tag\'"\nremotePath   è¿ç¨è°è¯ç¨åºçç»å¯¹è·¯å¾ï¼å½ mode è®¾ç½®ä¸º remote æ¶ææ\n\nå¶ä¸­å¯¹åºçå¸¸ç¨VS codeå¸¸ç¨å¬ç¨åéå¦ä¸æç¤ºï¼\n\nå±æ§                   ä»ç»\n${workspaceFolder}   è°è¯ VS Code æå¼å·¥ä½ç©ºé´çæ ¹ç®å½ä¸çæææä»¶\n${file}              è°è¯å½åæä»¶\n${fileDirname        } è°è¯å½åæä»¶æå¨ç®å½ä¸çæææä»¶\n\n> å·ä½çå¶ä»éç½®ï¼è¯·åèVS code çå®æ¹ææ¡£',normalizedContent:'æè¿ç¬èå¨å­¦ä¹ gokinsè¿ç¨ä¸­ï¼æå¼å§çæ¶åï¼ä½¿ç¨golandç¼è¯è¿è¡ï¼ä½æ¯åé¢ç±äºåè´¹è¯ç¨å¤©æ°ç¨å®å°±æ æ³ä½¿ç¨äºï¼ç»è¿æ¯è¾ï¼è¿æ¯å³å®ä½¿ç¨vs codeè¿è¡ï¼ä½æ¯vs codeé»è®¤æ¯ä¸æ¯æè¿è¡ï¼éè¦èªå·±æå¨éç½®\n\n\n# 1ãå®è£goæä»¶\n\n\n\n\n# 2ãå®è£debugæä»¶\n\n * è¾å¥å¿«æ·é®ctrl + shift + pæå¼å½ä»¤å¿«æ·è¾å¥æ¡ï¼è¾å¥go install,éæ©ä¸å¾çéé¡¹\n\n\n\n * ç¶åä¸ä¸ä¸ªéæ©æ¡éæ©dlv çdebugç»ä»¶ï¼è¿è¾¹å»ºè®®å¨éï¼é¿ååé¢ä½¿ç¨å°å¯¹åºçå·¥å·åè¦åè£ä¸éï¼ï¼ç¹å»okå°±å¯ä»¥å¼å§å®è£äºï¼å®è£è¿ç¨ä¸­ç±äºæ¯ä¸è½½å½å¤èµæºï¼ä¼æ¯è¾æ¢åå¤±è´¥ï¼å»ºè®®å¤è¯å æ¬¡ï¼å¦æå®å¨ä¸è¡çè¯ï¼å°±ä½¿ç¨æå¨å®è£çæ¹å¼ï¼å®è£æ¹å¼è¯·åèdlvçgithubåºæå\n\n\n\n\n# 3ãéç½®å¯å¨æä»¶\n\nctrl+shift+p è¾å¥ debug: open launch.json æå¼ launch.json æä»¶ï¼å¦æç¬¬ä¸æ¬¡æå¼,ä¼æ°å»ºä¸ä¸ªéç½®æä»¶ï¼é»è®¤éç½®åå®¹å¦ä¸ï¼\n\n{\n    // use intellisense to learn about possible attributes.\n    // hover to view descriptions of existing attributes.\n    // for more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    "version": "0.2.0",\n    "configurations": [\n\n\t\t{\n            "name": "launch",\n            "type": "go",\n            "request": "launch",\n            "mode": "auto",\n            "program": "${filedirname}",\n            "env": {},\n            "args": []\n        }\n\t]\n}\n\n\nå¸¸ç¨çå±æ§å¦ä¸æç¤ºï¼\n\nå±æ§           ä»ç»\nname         è°è¯çé¢ä¸æéæ©é¡¹çåç§°\ntype         è®¾ç½®ä¸ºgoæ éæ¹å¨ï¼æ¯ vs code ç¨äºè®¡ç®è°è¯ä»£ç éè¦ç¨åªä¸ªæ©å±\nmode         å¯ä»¥è®¾ç½®ä¸º auto, debug, remote, test, exec ä¸­çä¸ä¸ª\nprogram      è°è¯ç¨åºçè·¯å¾ï¼ç»å¯¹è·¯å¾ï¼\nenv          è°è¯æ¶ä½¿ç¨çç¯å¢åéãä¾å¦:{ "envname": "envvalue" }\nenvfile      åå«ç¯å¢åéæä»¶çç»å¯¹è·¯å¾ï¼å¨ env ä¸­è®¾ç½®çå±æ§ä¼è¦ç envfile ä¸­çéç½®\nargs         ä¼ ç»æ­£å¨è°è¯ç¨åºå½ä»¤è¡åæ°æ°ç»\nshowlog      å¸å°å¼ï¼æ¯å¦å°è°è¯ä¿¡æ¯è¾åº\nlogoutput    éç½®è°è¯è¾åºçç»ä»¶ï¼debugger, gdbwire, lldbout, debuglineerr,\n             rpcï¼,ä½¿ç¨,åéï¼ showlog è®¾ç½®ä¸º true æ¶ï¼æ­¤é¡¹éç½®çæ\nbuildflags   æå»º go ç¨åºæ¶ä¼ ç» go ç¼è¯å¨çæ å¿ï¼å¦æéè¦ä½¿ç¨æå»ºæ è®°ï¼e.g. go build\n             -tags=whatever_tagï¼å¨åæ° buildflags éåå¥ -tags=whatever_tag"\n             å³å¯ï¼æ¯æå¤æ ç­¾ï¼ä½¿ç¨åå¼å·å°æ ç­¾åå´,ä¾å¦ï¼ "-tags=\'first_tag second_tag\n             third_tag\'"\nremotepath   è¿ç¨è°è¯ç¨åºçç»å¯¹è·¯å¾ï¼å½ mode è®¾ç½®ä¸º remote æ¶ææ\n\nå¶ä¸­å¯¹åºçå¸¸ç¨vs codeå¸¸ç¨å¬ç¨åéå¦ä¸æç¤ºï¼\n\nå±æ§                   ä»ç»\n${workspacefolder}   è°è¯ vs code æå¼å·¥ä½ç©ºé´çæ ¹ç®å½ä¸çæææä»¶\n${file}              è°è¯å½åæä»¶\n${filedirname        } è°è¯å½åæä»¶æå¨ç®å½ä¸çæææä»¶\n\n> å·ä½çå¶ä»éç½®ï¼è¯·åèvs code çå®æ¹ææ¡£',charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"windowsç³»ç»ä¸­VS codeæªè¯å«nodejs cmdletéè¯¯",frontmatter:{title:"windowsç³»ç»ä¸­VS codeæªè¯å«nodejs cmdletéè¯¯",date:"2023-05-16T09:05:52.000Z",permalink:"/pages/8ce629/"},regularPath:"/02.go/01.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/02.windows%E7%B3%BB%E7%BB%9F%E4%B8%ADVS%20code%E6%9C%AA%E8%AF%86%E5%88%ABnodejs%20cmdlet%E9%94%99%E8%AF%AF.html",relativePath:"02.go/01.å¼åç¯å¢/02.windowsç³»ç»ä¸­VS codeæªè¯å«nodejs cmdletéè¯¯.md",key:"v-72b8f81b",path:"/pages/8ce629/",headersStr:null,content:"# æ¥é\n\næè¿ç¬èå¨windowsä½¿ç¨VS codeå¼åçæ¶åï¼éå°ä¸ä¸ªå¥æªçé®é¢ï¼å¨è°è¯ä»£ç çè¿ç¨ä¸­ï¼åç°éè¿ä»£ç æ§è¡VS codeçå½ä»¤å½ä»¤ç»ç«¯æ¶ï¼å§ç»æ æ³æ­£å¸¸è¿è¡ï¼ä¸ç´æ¥cmdletéè¯¯ï¼ä½æ¯éè¿èªå·±æå¨æå¼å½ä»¤ç»ç«¯æ§è¡å½ä»¤å´ä¸åæ­£å¸¸ãéè¯¯å¦ä¸å¾æç¤ºï¼\n\n\n# å¤ç\n\nç»è¿æ¥è¯¢èµæåç°ï¼æ¯ç±äºwindowsæéé®é¢ï¼å¯¼è´å¯¹åºçèæ¬æ§è¡å¨ä»£ç æå¼çç»ç«¯æ²¡ææéï¼ç´æ¥å°±æ¥éäºï¼æå¼å§ç±äºç¼ç é®é¢çä¸å°å¯¹åºçéè¯¯ä¿¡æ¯ï¼ä¸ç´æ¥è¯¢åç§èµæãä»£ç æ­ç¹ï¼é½æ²¡æåç°é®é¢ï¼æåéåºVS codeï¼éæ°ä»¥ç®¡çåæéæå¼VS codeåæ§è¡ç¨åºå°±è§£å³äºã",normalizedContent:"# æ¥é\n\næè¿ç¬èå¨windowsä½¿ç¨vs codeå¼åçæ¶åï¼éå°ä¸ä¸ªå¥æªçé®é¢ï¼å¨è°è¯ä»£ç çè¿ç¨ä¸­ï¼åç°éè¿ä»£ç æ§è¡vs codeçå½ä»¤å½ä»¤ç»ç«¯æ¶ï¼å§ç»æ æ³æ­£å¸¸è¿è¡ï¼ä¸ç´æ¥cmdletéè¯¯ï¼ä½æ¯éè¿èªå·±æå¨æå¼å½ä»¤ç»ç«¯æ§è¡å½ä»¤å´ä¸åæ­£å¸¸ãéè¯¯å¦ä¸å¾æç¤ºï¼\n\n\n# å¤ç\n\nç»è¿æ¥è¯¢èµæåç°ï¼æ¯ç±äºwindowsæéé®é¢ï¼å¯¼è´å¯¹åºçèæ¬æ§è¡å¨ä»£ç æå¼çç»ç«¯æ²¡ææéï¼ç´æ¥å°±æ¥éäºï¼æå¼å§ç±äºç¼ç é®é¢çä¸å°å¯¹åºçéè¯¯ä¿¡æ¯ï¼ä¸ç´æ¥è¯¢åç§èµæãä»£ç æ­ç¹ï¼é½æ²¡æåç°é®é¢ï¼æåéåºvs codeï¼éæ°ä»¥ç®¡çåæéæå¼vs codeåæ§è¡ç¨åºå°±è§£å³äºã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"01 React Hook ç®ä»",frontmatter:{title:"01 React Hook ç®ä»",date:"2023-09-06T14:32:10.000Z",permalink:"/pages/dfd26d/"},regularPath:"/03.react/01.React%20Hook%20%E7%AE%80%E4%BB%8B.html",relativePath:"03.react/01.React Hook ç®ä».md",key:"v-48fa0d46",path:"/pages/dfd26d/",headers:[{level:2,title:"å­¦ä¹ åæ",slug:"å­¦ä¹ åæ",normalizedTitle:"å­¦ä¹ åæ",charIndex:85},{level:2,title:"ä»ä¹æ¯Hooksï¼",slug:"ä»ä¹æ¯hooks",normalizedTitle:"ä»ä¹æ¯hooksï¼",charIndex:331},{level:5,title:"ç¹å«æéï¼å¨Reactå®ç½ä¸­ä½¿ç¨çæ¯Hookï¼èå¨æäºæç¨ä¸­ä½¿ç¨çæ¯Hooksãå¨æ¬æç¨ä¸­HookåHooksæ¯åä¸ä¸ªææï¼ä¸è¦çº ç»ä»ä¹æ¶åç¨åæ°ä»ä¹æ¶åæ¯å¤æ°ã",slug:"ç¹å«æé-å¨reactå®ç½ä¸­ä½¿ç¨çæ¯hook-èå¨æäºæç¨ä¸­ä½¿ç¨çæ¯hooksãå¨æ¬æç¨ä¸­hookåhooksæ¯åä¸ä¸ªææ-ä¸è¦çº ç»ä»ä¹æ¶åç¨åæ°ä»ä¹æ¶åæ¯å¤æ°ã",normalizedTitle:"ç¹å«æéï¼å¨reactå®ç½ä¸­ä½¿ç¨çæ¯hookï¼èå¨æäºæç¨ä¸­ä½¿ç¨çæ¯hooksãå¨æ¬æç¨ä¸­hookåhooksæ¯åä¸ä¸ªææï¼ä¸è¦çº ç»ä»ä¹æ¶åç¨åæ°ä»ä¹æ¶åæ¯å¤æ°ã",charIndex:620},{level:5,title:"è¯·æ³¨æï¼",slug:"è¯·æ³¨æ",normalizedTitle:"è¯·æ³¨æï¼",charIndex:705},{level:2,title:"ä¸ºä»ä¹è¦ç¨Hooksï¼",slug:"ä¸ºä»ä¹è¦ç¨hooks",normalizedTitle:"ä¸ºä»ä¹è¦ç¨hooksï¼",charIndex:1030},{level:5,title:"ç¼ºç¹ä¸ï¼å¤æä¸ä¸å®¹æçè§£çâthisâ",slug:"ç¼ºç¹ä¸-å¤æä¸ä¸å®¹æçè§£ç-this",normalizedTitle:"ç¼ºç¹ä¸ï¼å¤æä¸ä¸å®¹æçè§£çâthisâ",charIndex:1060},{level:5,title:"ç¼ºç¹äºï¼ç»ä»¶æ°æ®ç¶æé»è¾ä¸è½éç¨ãç»ä»¶ä¹é´ä¼ å¼è¿ç¨å¤æ",slug:"ç¼ºç¹äº-ç»ä»¶æ°æ®ç¶æé»è¾ä¸è½éç¨ãç»ä»¶ä¹é´ä¼ å¼è¿ç¨å¤æ",normalizedTitle:"ç¼ºç¹äºï¼ç»ä»¶æ°æ®ç¶æé»è¾ä¸è½éç¨ãç»ä»¶ä¹é´ä¼ å¼è¿ç¨å¤æ",charIndex:1193},{level:5,title:"ç¼ºç¹ä¸ï¼å¤æåºæ¯ä¸ä»£ç é¾ä»¥ç»ç»å¨ä¸èµ·",slug:"ç¼ºç¹ä¸-å¤æåºæ¯ä¸ä»£ç é¾ä»¥ç»ç»å¨ä¸èµ·",normalizedTitle:"ç¼ºç¹ä¸ï¼å¤æåºæ¯ä¸ä»£ç é¾ä»¥ç»ç»å¨ä¸èµ·",charIndex:1558},{level:5,title:"Hooksæ¯å¦ä½è§£å³ä¸è¿°ç±»ç»ä»¶çç¼ºç¹ï¼",slug:"hooksæ¯å¦ä½è§£å³ä¸è¿°ç±»ç»ä»¶çç¼ºç¹",normalizedTitle:"hooksæ¯å¦ä½è§£å³ä¸è¿°ç±»ç»ä»¶çç¼ºç¹ï¼",charIndex:2118},{level:5,title:"æä¸ºå³é®çæ¯ï¼hookè¿è½å®ç°ä¸äºç±»ç»ä»¶æ ¹æ¬ä¸è½å®ç°çåè½ï¼æ¯å¦å¨å±å±äº«æ°æ®ï¼ä»£æ¿Reduxã",slug:"æä¸ºå³é®çæ¯-hookè¿è½å®ç°ä¸äºç±»ç»ä»¶æ ¹æ¬ä¸è½å®ç°çåè½-æ¯å¦å¨å±å±äº«æ°æ®-ä»£æ¿reduxã",normalizedTitle:"æä¸ºå³é®çæ¯ï¼hookè¿è½å®ç°ä¸äºç±»ç»ä»¶æ ¹æ¬ä¸è½å®ç°çåè½ï¼æ¯å¦å¨å±å±äº«æ°æ®ï¼ä»£æ¿reduxã",charIndex:2677},{level:5,title:"ä½ åªéè®°ä½ä¸ä¸ªç»è®ºï¼å¿æç±»ç»ä»¶ï¼ä½¿ç¨Hookè¿è¡å½æ°ç»ä»¶å¼åï¼å°æ¯ä¸ä¸ªææºéæ©ã",slug:"ä½ åªéè®°ä½ä¸ä¸ªç»è®º-å¿æç±»ç»ä»¶-ä½¿ç¨hookè¿è¡å½æ°ç»ä»¶å¼å-å°æ¯ä¸ä¸ªææºéæ©ã",normalizedTitle:"ä½ åªéè®°ä½ä¸ä¸ªç»è®ºï¼å¿æç±»ç»ä»¶ï¼ä½¿ç¨hookè¿è¡å½æ°ç»ä»¶å¼åï¼å°æ¯ä¸ä¸ªææºéæ©ã",charIndex:2803},{level:2,title:"Reactçå½å¨æå½æ°",slug:"reactçå½å¨æå½æ°",normalizedTitle:"reactçå½å¨æå½æ°",charIndex:420},{level:2,title:"æ¬èå°ç»",slug:"æ¬èå°ç»",normalizedTitle:"æ¬èå°ç»",charIndex:4273}],headersStr:"å­¦ä¹ åæ ä»ä¹æ¯Hooksï¼ ç¹å«æéï¼å¨Reactå®ç½ä¸­ä½¿ç¨çæ¯Hookï¼èå¨æäºæç¨ä¸­ä½¿ç¨çæ¯Hooksãå¨æ¬æç¨ä¸­HookåHooksæ¯åä¸ä¸ªææï¼ä¸è¦çº ç»ä»ä¹æ¶åç¨åæ°ä»ä¹æ¶åæ¯å¤æ°ã è¯·æ³¨æï¼ ä¸ºä»ä¹è¦ç¨Hooksï¼ ç¼ºç¹ä¸ï¼å¤æä¸ä¸å®¹æçè§£çâthisâ ç¼ºç¹äºï¼ç»ä»¶æ°æ®ç¶æé»è¾ä¸è½éç¨ãç»ä»¶ä¹é´ä¼ å¼è¿ç¨å¤æ ç¼ºç¹ä¸ï¼å¤æåºæ¯ä¸ä»£ç é¾ä»¥ç»ç»å¨ä¸èµ· Hooksæ¯å¦ä½è§£å³ä¸è¿°ç±»ç»ä»¶çç¼ºç¹ï¼ æä¸ºå³é®çæ¯ï¼hookè¿è½å®ç°ä¸äºç±»ç»ä»¶æ ¹æ¬ä¸è½å®ç°çåè½ï¼æ¯å¦å¨å±å±äº«æ°æ®ï¼ä»£æ¿Reduxã ä½ åªéè®°ä½ä¸ä¸ªç»è®ºï¼å¿æç±»ç»ä»¶ï¼ä½¿ç¨Hookè¿è¡å½æ°ç»ä»¶å¼åï¼å°æ¯ä¸ä¸ªææºéæ©ã Reactçå½å¨æå½æ° æ¬èå°ç»",content:'# 01 React Hook ç®ä»\n\né¦åï¼æ¬¢è¿ä½ æ¥å­¦ä¹ React Hookï¼éè¿æ¬æç¨ä½ ä¼äºè§£å°React Hookå·¥ä½åçä»¥åæä»¬æ¨èä½¿ç¨Hookççç±ã\n\n\n# å­¦ä¹ åæ\n\nå¨å­¦ä¹ æ¬è¯¾ç¨ä¹åï¼éè¦ä½ å¯¹ä»¥ä¸ç¥è¯ç¹æåºç¡çäºè§£ï¼\n1ãReactåºç¡åçï¼\n2ãå½æ°ç»ä»¶(Functional components)åç±»ç»ä»¶(class components)ï¼å±æ§ä¼ å(props)ï¼èªå®ä¹åé¨æ°æ®(state)ï¼çå½å¨æå½æ°ç­ï¼\n3ãä½¿ç¨è°·æ­æµè§å¨ä¸å®è£äºâReact Developer Toolsâè°è¯å·¥å·ã\n\næ¬ç³»åæç« éåæä¸å®Reactå¼ååºç¡çäººï¼è¥æ¯Reactæ°æï¼å»ºè®®åä»éè¯»Reactå®æ¹ä¸­æææ¡£å­¦èµ·ã\n\næ¥ä¸æ¥æ­£å¼å¼å§æ¬æç¨ã\n\n\n# ä»ä¹æ¯Hooksï¼\n\nHookæ¯React 16.8çæ¬ä¸­æ°å¢çä¸ä¸ªæ°ç¹æ§ï¼ä¸°å¯æ©å±äºåæå½æ°ç»ä»¶çåè½ï¼è®©å½æ°ç»ä»¶æ¥æäºåç±»ç»ä»¶ä¸æ ·çç¸ä¼¼ç¹æ§ã\n\nå¨ä¹åçæ¬ä¸­å½æ°ç»ä»¶ä¸è½ä½¿ç¨Reactçå½å¨æå½æ°ï¼Hookæ¬èº«åè¯æææ¯âé©å­âï¼ä½ç¨å°±æ¯âå¾ä½æäºçå½å¨æå½æ°ææäºæ°æ®ç¶æï¼å¹¶è¿è¡æäºå³èè§¦åè°ç¨âã\n\nä¸åçHook(é©å­)æä¸åçä½ç¨ï¼å¯ä»¥å¾ä½ä¸åçâç¹âï¼æ¯å¦âå¾ä½ç»ä»¶æ´æ°å®æå¯¹åºççå½å¨æå½æ°âãâå¾ä½æpropså¼çååâç­ã\n\næ­£å ä¸ºReactæå¤ä¸ªåç½®Hookï¼æä»¥æ¬å°èçæ é¢ææ¯âä»ä¹æ¯Hooksï¼âï¼æ²¡éï¼ç¨å°äºHookçå¤æ°åè¯Hooksã\n\n# ç¹å«æéï¼å¨Reactå®ç½ä¸­ä½¿ç¨çæ¯Hookï¼èå¨æäºæç¨ä¸­ä½¿ç¨çæ¯Hooksãå¨æ¬æç¨ä¸­HookåHooksæ¯åä¸ä¸ªææï¼ä¸è¦çº ç»ä»ä¹æ¶åç¨åæ°ä»ä¹æ¶åæ¯å¤æ°ã\n\n# è¯·æ³¨æï¼\n\n1ãå°½ç®¡å½æ°ç»ä»¶æ¥æäºç±»ç»ä»¶å¤å¤§å¤æ°çç¸ä¼¼ç¹æ§ï¼ä½æä¸ç¹é¤å¤ï¼å½æ°ç»ä»¶ä¸­æ²¡æç±»ç»ä»¶ä¸­âèªå®ä¹stateâçç¹æ§ï¼å æ­¤ä½ æ æ³å¨å½æ°ç»ä»¶ä¸­ä½¿ç¨âthis.state.xxâè¿æ ·çä»£ç ã\n\næ²¡æä¸ä»£è¡¨åè½çç¼ºå¤±ï¼æ°æ°ç¸åï¼å ä¸ºå½ä½ ååäºè§£Hooksä¹åï¼ä½ ä¼åç°å½æ°ç»ä»¶åé¨èªå®ä¹æ°æ®ç¶æåè½è¿è¿è¶åºç±»ç»ä»¶ã\n\n2ãHooksåªè½è¿è¡å¨å½æ°ç»ä»¶ä¸­ï¼ä¸è½è¿è¡å¨ç±»ç»ä»¶ä¸­ã\nè¡¥åï¼åç¡®æ¥è¯´ï¼Hooksåªè½è¿è¡å¨å½æ°ç»ä»¶çâåé¨é¡¶å±ä¸­âï¼ä¸è½è¿è¡å¨if/forç­å¶ä»å½æ°çä»£ç ä½åï¼ä¸åè®¸è¢«if/forç­åè£¹ä½ã\n\n3ãHookså½æ°å¿é¡»ä¸ºçº¯å½æ°ï¼æè°çº¯å½æ°å°±æ¯å½æ°åé¨ä¸è½ä¿®æ¹å¯è½å½±åæ§è¡ç»æçä»»æåæ°ï¼ç¡®ä¿æ¯æ¬¡æ§è¡çä»£ç ç»æé½æ¯ä¸æ ·çã\n\n\n# ä¸ºä»ä¹è¦ç¨Hooksï¼\n\nåè¯´ä¸ä¸ç±»ç»ä»¶çä¸äºç¼ºç¹ï¼\n\n# ç¼ºç¹ä¸ï¼å¤æä¸ä¸å®¹æçè§£çâthisâ\n\nä¾å¦äºä»¶ç»å®å¤çå½æ°ï¼é½éè¦bind(this)æå¯ä»¥æ­£ç¡®æ§è¡ã\nä¾å¦æ³è·åæäºèªå®ä¹å±æ§ï¼é½éè¦ä½¿ç¨this.state.xxæthis.props.xxã\n\nè¿æ ·é æä»£ç ä¸å¤ç²¾ç®ï¼å¹¶ä¸æäºæ¶åç­æ´æ°ä¸è½æ­£å¸¸è¿è¡ã\n\n# ç¼ºç¹äºï¼ç»ä»¶æ°æ®ç¶æé»è¾ä¸è½éç¨ãç»ä»¶ä¹é´ä¼ å¼è¿ç¨å¤æ\n\nâç»ä»¶æ°æ®ç¶æé»è¾ä¸è½éç¨âï¼è¯¦ç»è§£éå¦ä¸ï¼\nâç»ä»¶æ°æ®ç¶æâæ¯ç±ï¼å®ä¹æ°æ®ãé»è®¤èµå¼ãè·åæ°æ®ãä¿®æ¹æ°æ®ãæ°æ®é»è¾å ä¸ªç¯èææã ç±äºç±»ç»ä»¶ä¸­çç»ä»¶æ°æ®ç¶æstateå¿é¡»åå¨è¯¥ç»ä»¶æé å½æ°åé¨ï¼æ æ³å°stateæ½ç¦»åºç»ä»¶ï¼å æ­¤å«çç»ä»¶å¦ææç±»ä¼¼stateé»è¾ï¼ä¹å¿é¡»åé¨èªå·±å®ç°ä¸æ¬¡ï¼æä»¥æå¾åºâç»ä»¶æ°æ®ç¶æé»è¾ä¸è½éç¨âçç»è®ºã\n\nâç»ä»¶ä¹é´ä¼ å¼è¿ç¨å¤æâï¼è¯¦ç»è§£éå¦ä¸ï¼\nReactæ¬èº«ä¸ºååæ°æ®æµï¼å³ç¶ç»ä»¶å¯ä»¥ä¼ å¼ç»å­ç»ä»¶ï¼ä½å­ç»ä»¶ä¸åè®¸ç´æ¥ä¿®æ¹ç¶ç»ä»¶ä¸­çæ°æ®ç¶æã\n\nå­ç»ä»¶ä¸ºäºè¾¾å°ä¿®æ¹ç¶ç»ä»¶ä¸­çæ°æ®ç¶æï¼éå¸¸éç¨âé«é¶ç»ä»¶(HOC)âæâç¶ç»ä»¶æ´é²ä¿®æ¹å½æ°ç»å­ç»ä»¶(render props)âè¿2ç§æ¹å¼ã è¿2ç§æ¹å¼é½ä¼è®©ç»ä»¶åå¾å¤æä¸éä½å¯å¤ç¨æ§ã\n\n# ç¼ºç¹ä¸ï¼å¤æåºæ¯ä¸ä»£ç é¾ä»¥ç»ç»å¨ä¸èµ·\n\nå¤æåºæ¯ä¸ï¼æ¯å¦æ°æ®è·å(data fetching)åäºä»¶è®¢é(event listeners)ï¼ç¸å³ä»£ç é¾ä»¥ç»ç»å¨ä¸èµ·ã\n\nâç¸å³ä»£ç é¾ä»¥ç»ç»å¨ä¸èµ·âï¼è¯¦ç»è§£éå¦ä¸ï¼\n\nç¬¬1ä¸ªâé¾ä»¥ç»ç»âçåå ï¼æ°æ®è·ååäºä»¶è®¢éè¢«åæ£å¨ä¸åçå½å¨æå½æ°ä¸­ã\n\nä¾å¦æ°æ®è·åï¼ç»ä»¶ç¬¬ä¸æ¬¡è¢«æè½½(componentDidMount)ãç»ä»¶æ¯æ¬¡æ´æ°å®æ¯(componentDidUpdate)\nä¾å¦äºä»¶çå¬ï¼ç»ä»¶ç¬¬ä¸æ¬¡è¢«æè½½(componentDidMount)ãç»ä»¶å³å°è¢«å¸è½½(componentWillUnmount)\n\nç¬¬2ä¸ªâé¾ä»¥ç»ç»âçåå ï¼åé¨stateæ°æ®åªè½æ¯æ´ä½ï¼æ æ³è¢«æåæ´ç»è´\n\nç±»ç»ä»¶ä¸­ææåé¨æ°æ®é½è¢«å¨å­å¨this.stateä¸­ï¼ä¾å¦æä¸ªç»ä»¶å®ä¹æ2ä¸ªåé¨æ°æ® name,ageï¼é£ä¹æ°¸è¿é½æ¯this.state.nameãthis.state.ageã nameåageæ°¸è¿é½åªæ¯this.stateä¸­çä¸ä¸ªå±æ§ï¼æ æ³åå°å°nameåageæåæç¬ç«å¯¹è±¡ä¸ªä½ã\n\nææåé¨æ°æ®é½å¨å­å¨this.stateä¸­ï¼å½åé¨æ°æ®å¤ææ¶ï¼å¿å¿å¢å ç»´æ¤this.stateçé¾åº¦åå¤ææ§ã\n\nâå¤æåºæ¯ä¸ä»£ç é¾ä»¥ç»ç»å¨ä¸èµ·âä¼é æå¦å¤ä¸ä¸ªå»¶ä¼¸æ§é®é¢ï¼å å¤§äºä»£ç èªå¨æµè¯é¾åº¦ã\n\n# Hooksæ¯å¦ä½è§£å³ä¸è¿°ç±»ç»ä»¶çç¼ºç¹ï¼\n\nå¦æä½ ç°å¨è¿«åæ³ç¥éç­æ¡ï¼ææ³å¯¹ä½ è¯´ï¼æ­åä½ ï¼æ¬¢è¿è¿å¥Hooksçä¸çã\n\nç±»ç»ä»¶ç¼ºç¹ä¸ï¼å¤æä¸ä¸å®¹æçè§£çâthisâ\nHooksè§£å³æ¹å¼ï¼å½æ°ç»ä»¶åæ®éJSå½æ°éå¸¸ç¸ä¼¼ï¼å¨æ®éJSå½æ°ä¸­å®ä¹çåéãæ¹æ³é½å¯ä»¥ä¸ä½¿ç¨âthis.âï¼èç´æ¥ä½¿ç¨è¯¥åéæå½æ°ï¼å æ­¤ä½ ä¸åéè¦å»å³å¿âthisâäºã\n\nç±»ç»ä»¶ç¼ºç¹äºï¼ç»ä»¶æ°æ®ç¶æé»è¾ä¸è½éç¨\nHooksè§£å³æ¹å¼ï¼\néè¿èªå®ä¹Hookï¼å¯ä»¥æ°æ®ç¶æé»è¾ä»ç»ä»¶ä¸­æ½ç¦»åºå»ï¼è¿æ ·åä¸ä¸ªHookå¯ä»¥è¢«å¤ä¸ªç»ä»¶ä½¿ç¨ï¼è§£å³ç»ä»¶æ°æ®ç¶æé»è¾å¹¶ä¸è½éç¨çé®é¢ã\n\nç±»ç»ä»¶ç¼ºç¹äºï¼ç»ä»¶ä¹é´ä¼ å¼è¿ç¨å¤æãç¼ºç¹ä¸ï¼å¤æåºæ¯ä¸ä»£ç é¾ä»¥ç»ç»å¨ä¸èµ·\nHooksè§£å³æ¹å¼ï¼\néè¿Reactåç½®çuseState()å½æ°ï¼å¯ä»¥å°ä¸åæ°æ®åå«ä»"this.state"ä¸­ç¬ç«æååºå»ãéä½æ°æ®å¤æåº¦åå¯ç»´æ¤æ§ï¼åæ¶è§£å³ç±»ç»ä»¶ç¼ºç¹ä¸ä¸­âåé¨stateæ°æ®åªè½æ¯æ´ä½ï¼æ æ³è¢«æåæ´ç»âçé®é¢ã\n\néè¿Reactåç½®çuseEffect()å½æ°ï¼å°componentDidMountãcomponentDidUpdateãcomponentWillUncount 3ä¸ªçå½å¨æå½æ°éè¿Hook(é©å­)å³èæ1ä¸ªå¤çå½æ°ï¼è§£å³äºä»¶è®¢éåæ£å¨å¤ä¸ªçå½å¨æå½æ°çé®é¢ã\n\n# æä¸ºå³é®çæ¯ï¼hookè¿è½å®ç°ä¸äºç±»ç»ä»¶æ ¹æ¬ä¸è½å®ç°çåè½ï¼æ¯å¦å¨å±å±äº«æ°æ®ï¼ä»£æ¿Reduxã\n\nå¦æéè¯»è¿ä¸é¢æå­ï¼ä½ ä¾ç¶ä¸å¤´é¾æ°´ï¼ä¸è¦çæ¥ï¼ä½ ç°å¨åªéè¦å¯¹Hooksæä¸ä¸ªå¤§ä½äºè§£å³å¯ã\néçåé¢çæ·±å¥å­¦ä¹ ï¼ä½ å°éä¸ªææ¡Hooksçå³é®ç¨æ³ã\n\n# ä½ åªéè®°ä½ä¸ä¸ªç»è®ºï¼å¿æç±»ç»ä»¶ï¼ä½¿ç¨Hookè¿è¡å½æ°ç»ä»¶å¼åï¼å°æ¯ä¸ä¸ªææºéæ©ã\n\n\n> ä»¥ä¸åå®¹æ´æ°äº 2021.01.10\n\nä¸é¢è®²è§£ä¸ä¸ React ççå½å¨æå½æ°ï¼é¢å¯¹å¦æ­¤å¤æççå½å¨æå½æ°ï¼æ¯æ²¡æå¿è¦è¿äºäºè§£åç ç©¶çï¼ç®åæ¥è¯´ï¼ä¸è¬åªéå­¦ä¹ ä½¿ç¨ useEffect è¿ä¸ª hook å³å¯ã\n\nuseEffect è¿ä¸ª hook ä¼å¨ç¨åè®²è§£ã\n\n\n# Reactçå½å¨æå½æ°\n\nReact ä¸æ¬¡ç¶ææ´æ°ï¼ä¸å±åä¸º 2 ä¸ªé¶æ®µã4 ä¸ªçå½å¨æã\n\n2 ä¸ªé¶æ®µï¼\n\n 1. renderé¶æ®µï¼åå«Diffç®æ³ï¼è®¡ç®åºç¶æåå\n 2. commitæ¸²æé¶æ®µï¼ReactDomæ¸²æå¨ï¼å°ç¶æååæ¸²æå¨è§å¾ä¸­\n\n4ä¸ªçå½å¨æï¼\n\n 1. Mount(ç¬¬ä¸æ¬¡æè½½)\n 2. Update(æ´æ°)\n 3. Unmount(å¸è½½)\n 4. Error(å­é¡¹åçéè¯¯)\n\nçå½å¨æå½æ°                      æå±é¶æ®µ       æå±çå½å¨æ\nconstructor                 Renderé¶æ®µ   Mount\ncomponentWillReceiveProps   Renderé¶æ®µ   Update\ngetDerivedStateFromProps    Renderé¶æ®µ   å¹¶å­äºMounãUpdate\ngetDerivedStateFromError    Renderé¶æ®µ   Error\nshouldComponentUpdate       Renderé¶æ®µ   Update\ncomponentWillMount          Renderé¶æ®µ   Mount\ncomponentWillUpdate         Renderé¶æ®µ   Update\nrender                      Renderé¶æ®µ   å¹¶å­äºMountãUpdate\ncomponentDidMount           Commité¶æ®µ   Mount\ngetSnapshotBeforeUpdate     Commité¶æ®µ   Update\ncomponentDidUpdate          Commité¶æ®µ   Update\ncomponentWillUnmount        Commité¶æ®µ   Unmount\ncomponentDidCatch           Commité¶æ®µ   Error\n\næ³¨æäºæï¼\n\ncomponentWillReceivePropsãcomponentWillMountãcomponentWillUpdate è¿ 3 ä¸ªçå½å¨æå½æ°æ­£å¨éæ­¥è¢« React å®æ¹æ¾å¼ä½¿ç¨ï¼ä¸æ¨èç»§ç»­ä½¿ç¨è¿ 3 ä¸ªçå½å¨æå½æ°ã\n\nä¸ä¹å¯¹åºçæ¯ getDerivedStateFromPropsãgetDerivedStateFromError è¿ 2 ä¸ªè¿æ¯è¢«æ¨èä½¿ç¨çã\n\nå³äºåä¸ªçå½å¨æå½æ°è¯¦ç»ä»ç»ï¼å¯ä»¥åè React å®æ¹ææ¡£ï¼ https://zh-hans.reactjs.org/docs/react-component.html#commonly-used-lifecycle-methods\n\nè¡¥åè¯´æï¼\n\nç®åå¹¶ä¸æ¯ææççå½å¨æå½æ°é½å¯¹åºæ hook å½æ°ã\n\nåæ¬¡éå¤ä¸éï¼è¿äºçå½å¨æå½æ°ä½ åªéå¤§è´äºè§£ï¼åå­¦èåªéå­¦ä¼ useEffect è¿ä¸ª hook å³å¯ã\n\n> ä»¥ä¸åå®¹æ´æ°äº 2021.01.10\n\n\n# æ¬èå°ç»\n\n1ãHookæ¯React 16.8åä»¥ä¸çæ¬ææ¥æçç¹æ§ã\n2ãHookåªæ¯Reactâå¢å âçæ¦å¿µåä¸äºAPIï¼å¯¹åæReactä½ç³»å¹¶æ²¡æä»»ä½ç ´åã\n3ãHookæå¾å¤ä¼å¿ï¼æ¯å¦ä¸éè¦ä½¿ç¨âthisâãæ°æ®ç¶æç»è´æåãæ°æ®ç¶æé»è¾æ½ç¦»åºç»ä»¶ãä»£ç ç»ç»æ´å èªç±çµæ´»ç­ã\n4ãHookåªè½ç¨äºå½æ°ç»ä»¶ï¼ä¸è½ç¨äºç±»ç»ä»¶ä¸­ã\n5ãHookè½å¥½ï¼ä½Reactä¾ç¶ä¿çå¯¹ç±»ç»ä»¶çæ¯æï¼å¦æä½ å°±æ¯ä¸åæ¬¢Hookï¼æ´ååäºç»§ç»­ä½¿ç¨ç±»ç»ä»¶ï¼é£ä¹ä¹æ¯å¯ä»¥çï¼åªæ¯ä½ éè¦ç»§ç»­é¢å¯¹ç±»ç»ä»¶çä¸äºç¼ºç¹ã\n\n----------------------------------------\n\nè³æ­¤ï¼ä½ å¯¹Hookæäºä¸ä¸ªåæ­¥æ¦å¿µï¼æ¥ä¸æ¥å¼å§å­¦ä¹ ç¬¬1ä¸ªHookå½æ° useStateã',normalizedContent:'# 01 react hook ç®ä»\n\né¦åï¼æ¬¢è¿ä½ æ¥å­¦ä¹ react hookï¼éè¿æ¬æç¨ä½ ä¼äºè§£å°react hookå·¥ä½åçä»¥åæä»¬æ¨èä½¿ç¨hookççç±ã\n\n\n# å­¦ä¹ åæ\n\nå¨å­¦ä¹ æ¬è¯¾ç¨ä¹åï¼éè¦ä½ å¯¹ä»¥ä¸ç¥è¯ç¹æåºç¡çäºè§£ï¼\n1ãreactåºç¡åçï¼\n2ãå½æ°ç»ä»¶(functional components)åç±»ç»ä»¶(class components)ï¼å±æ§ä¼ å(props)ï¼èªå®ä¹åé¨æ°æ®(state)ï¼çå½å¨æå½æ°ç­ï¼\n3ãä½¿ç¨è°·æ­æµè§å¨ä¸å®è£äºâreact developer toolsâè°è¯å·¥å·ã\n\næ¬ç³»åæç« éåæä¸å®reactå¼ååºç¡çäººï¼è¥æ¯reactæ°æï¼å»ºè®®åä»éè¯»reactå®æ¹ä¸­æææ¡£å­¦èµ·ã\n\næ¥ä¸æ¥æ­£å¼å¼å§æ¬æç¨ã\n\n\n# ä»ä¹æ¯hooksï¼\n\nhookæ¯react 16.8çæ¬ä¸­æ°å¢çä¸ä¸ªæ°ç¹æ§ï¼ä¸°å¯æ©å±äºåæå½æ°ç»ä»¶çåè½ï¼è®©å½æ°ç»ä»¶æ¥æäºåç±»ç»ä»¶ä¸æ ·çç¸ä¼¼ç¹æ§ã\n\nå¨ä¹åçæ¬ä¸­å½æ°ç»ä»¶ä¸è½ä½¿ç¨reactçå½å¨æå½æ°ï¼hookæ¬èº«åè¯æææ¯âé©å­âï¼ä½ç¨å°±æ¯âå¾ä½æäºçå½å¨æå½æ°ææäºæ°æ®ç¶æï¼å¹¶è¿è¡æäºå³èè§¦åè°ç¨âã\n\nä¸åçhook(é©å­)æä¸åçä½ç¨ï¼å¯ä»¥å¾ä½ä¸åçâç¹âï¼æ¯å¦âå¾ä½ç»ä»¶æ´æ°å®æå¯¹åºççå½å¨æå½æ°âãâå¾ä½æpropså¼çååâç­ã\n\næ­£å ä¸ºreactæå¤ä¸ªåç½®hookï¼æä»¥æ¬å°èçæ é¢ææ¯âä»ä¹æ¯hooksï¼âï¼æ²¡éï¼ç¨å°äºhookçå¤æ°åè¯hooksã\n\n# ç¹å«æéï¼å¨reactå®ç½ä¸­ä½¿ç¨çæ¯hookï¼èå¨æäºæç¨ä¸­ä½¿ç¨çæ¯hooksãå¨æ¬æç¨ä¸­hookåhooksæ¯åä¸ä¸ªææï¼ä¸è¦çº ç»ä»ä¹æ¶åç¨åæ°ä»ä¹æ¶åæ¯å¤æ°ã\n\n# è¯·æ³¨æï¼\n\n1ãå°½ç®¡å½æ°ç»ä»¶æ¥æäºç±»ç»ä»¶å¤å¤§å¤æ°çç¸ä¼¼ç¹æ§ï¼ä½æä¸ç¹é¤å¤ï¼å½æ°ç»ä»¶ä¸­æ²¡æç±»ç»ä»¶ä¸­âèªå®ä¹stateâçç¹æ§ï¼å æ­¤ä½ æ æ³å¨å½æ°ç»ä»¶ä¸­ä½¿ç¨âthis.state.xxâè¿æ ·çä»£ç ã\n\næ²¡æä¸ä»£è¡¨åè½çç¼ºå¤±ï¼æ°æ°ç¸åï¼å ä¸ºå½ä½ ååäºè§£hooksä¹åï¼ä½ ä¼åç°å½æ°ç»ä»¶åé¨èªå®ä¹æ°æ®ç¶æåè½è¿è¿è¶åºç±»ç»ä»¶ã\n\n2ãhooksåªè½è¿è¡å¨å½æ°ç»ä»¶ä¸­ï¼ä¸è½è¿è¡å¨ç±»ç»ä»¶ä¸­ã\nè¡¥åï¼åç¡®æ¥è¯´ï¼hooksåªè½è¿è¡å¨å½æ°ç»ä»¶çâåé¨é¡¶å±ä¸­âï¼ä¸è½è¿è¡å¨if/forç­å¶ä»å½æ°çä»£ç ä½åï¼ä¸åè®¸è¢«if/forç­åè£¹ä½ã\n\n3ãhookså½æ°å¿é¡»ä¸ºçº¯å½æ°ï¼æè°çº¯å½æ°å°±æ¯å½æ°åé¨ä¸è½ä¿®æ¹å¯è½å½±åæ§è¡ç»æçä»»æåæ°ï¼ç¡®ä¿æ¯æ¬¡æ§è¡çä»£ç ç»æé½æ¯ä¸æ ·çã\n\n\n# ä¸ºä»ä¹è¦ç¨hooksï¼\n\nåè¯´ä¸ä¸ç±»ç»ä»¶çä¸äºç¼ºç¹ï¼\n\n# ç¼ºç¹ä¸ï¼å¤æä¸ä¸å®¹æçè§£çâthisâ\n\nä¾å¦äºä»¶ç»å®å¤çå½æ°ï¼é½éè¦bind(this)æå¯ä»¥æ­£ç¡®æ§è¡ã\nä¾å¦æ³è·åæäºèªå®ä¹å±æ§ï¼é½éè¦ä½¿ç¨this.state.xxæthis.props.xxã\n\nè¿æ ·é æä»£ç ä¸å¤ç²¾ç®ï¼å¹¶ä¸æäºæ¶åç­æ´æ°ä¸è½æ­£å¸¸è¿è¡ã\n\n# ç¼ºç¹äºï¼ç»ä»¶æ°æ®ç¶æé»è¾ä¸è½éç¨ãç»ä»¶ä¹é´ä¼ å¼è¿ç¨å¤æ\n\nâç»ä»¶æ°æ®ç¶æé»è¾ä¸è½éç¨âï¼è¯¦ç»è§£éå¦ä¸ï¼\nâç»ä»¶æ°æ®ç¶æâæ¯ç±ï¼å®ä¹æ°æ®ãé»è®¤èµå¼ãè·åæ°æ®ãä¿®æ¹æ°æ®ãæ°æ®é»è¾å ä¸ªç¯èææã ç±äºç±»ç»ä»¶ä¸­çç»ä»¶æ°æ®ç¶æstateå¿é¡»åå¨è¯¥ç»ä»¶æé å½æ°åé¨ï¼æ æ³å°stateæ½ç¦»åºç»ä»¶ï¼å æ­¤å«çç»ä»¶å¦ææç±»ä¼¼stateé»è¾ï¼ä¹å¿é¡»åé¨èªå·±å®ç°ä¸æ¬¡ï¼æä»¥æå¾åºâç»ä»¶æ°æ®ç¶æé»è¾ä¸è½éç¨âçç»è®ºã\n\nâç»ä»¶ä¹é´ä¼ å¼è¿ç¨å¤æâï¼è¯¦ç»è§£éå¦ä¸ï¼\nreactæ¬èº«ä¸ºååæ°æ®æµï¼å³ç¶ç»ä»¶å¯ä»¥ä¼ å¼ç»å­ç»ä»¶ï¼ä½å­ç»ä»¶ä¸åè®¸ç´æ¥ä¿®æ¹ç¶ç»ä»¶ä¸­çæ°æ®ç¶æã\n\nå­ç»ä»¶ä¸ºäºè¾¾å°ä¿®æ¹ç¶ç»ä»¶ä¸­çæ°æ®ç¶æï¼éå¸¸éç¨âé«é¶ç»ä»¶(hoc)âæâç¶ç»ä»¶æ´é²ä¿®æ¹å½æ°ç»å­ç»ä»¶(render props)âè¿2ç§æ¹å¼ã è¿2ç§æ¹å¼é½ä¼è®©ç»ä»¶åå¾å¤æä¸éä½å¯å¤ç¨æ§ã\n\n# ç¼ºç¹ä¸ï¼å¤æåºæ¯ä¸ä»£ç é¾ä»¥ç»ç»å¨ä¸èµ·\n\nå¤æåºæ¯ä¸ï¼æ¯å¦æ°æ®è·å(data fetching)åäºä»¶è®¢é(event listeners)ï¼ç¸å³ä»£ç é¾ä»¥ç»ç»å¨ä¸èµ·ã\n\nâç¸å³ä»£ç é¾ä»¥ç»ç»å¨ä¸èµ·âï¼è¯¦ç»è§£éå¦ä¸ï¼\n\nç¬¬1ä¸ªâé¾ä»¥ç»ç»âçåå ï¼æ°æ®è·ååäºä»¶è®¢éè¢«åæ£å¨ä¸åçå½å¨æå½æ°ä¸­ã\n\nä¾å¦æ°æ®è·åï¼ç»ä»¶ç¬¬ä¸æ¬¡è¢«æè½½(componentdidmount)ãç»ä»¶æ¯æ¬¡æ´æ°å®æ¯(componentdidupdate)\nä¾å¦äºä»¶çå¬ï¼ç»ä»¶ç¬¬ä¸æ¬¡è¢«æè½½(componentdidmount)ãç»ä»¶å³å°è¢«å¸è½½(componentwillunmount)\n\nç¬¬2ä¸ªâé¾ä»¥ç»ç»âçåå ï¼åé¨stateæ°æ®åªè½æ¯æ´ä½ï¼æ æ³è¢«æåæ´ç»è´\n\nç±»ç»ä»¶ä¸­ææåé¨æ°æ®é½è¢«å¨å­å¨this.stateä¸­ï¼ä¾å¦æä¸ªç»ä»¶å®ä¹æ2ä¸ªåé¨æ°æ® name,ageï¼é£ä¹æ°¸è¿é½æ¯this.state.nameãthis.state.ageã nameåageæ°¸è¿é½åªæ¯this.stateä¸­çä¸ä¸ªå±æ§ï¼æ æ³åå°å°nameåageæåæç¬ç«å¯¹è±¡ä¸ªä½ã\n\nææåé¨æ°æ®é½å¨å­å¨this.stateä¸­ï¼å½åé¨æ°æ®å¤ææ¶ï¼å¿å¿å¢å ç»´æ¤this.stateçé¾åº¦åå¤ææ§ã\n\nâå¤æåºæ¯ä¸ä»£ç é¾ä»¥ç»ç»å¨ä¸èµ·âä¼é æå¦å¤ä¸ä¸ªå»¶ä¼¸æ§é®é¢ï¼å å¤§äºä»£ç èªå¨æµè¯é¾åº¦ã\n\n# hooksæ¯å¦ä½è§£å³ä¸è¿°ç±»ç»ä»¶çç¼ºç¹ï¼\n\nå¦æä½ ç°å¨è¿«åæ³ç¥éç­æ¡ï¼ææ³å¯¹ä½ è¯´ï¼æ­åä½ ï¼æ¬¢è¿è¿å¥hooksçä¸çã\n\nç±»ç»ä»¶ç¼ºç¹ä¸ï¼å¤æä¸ä¸å®¹æçè§£çâthisâ\nhooksè§£å³æ¹å¼ï¼å½æ°ç»ä»¶åæ®éjså½æ°éå¸¸ç¸ä¼¼ï¼å¨æ®éjså½æ°ä¸­å®ä¹çåéãæ¹æ³é½å¯ä»¥ä¸ä½¿ç¨âthis.âï¼èç´æ¥ä½¿ç¨è¯¥åéæå½æ°ï¼å æ­¤ä½ ä¸åéè¦å»å³å¿âthisâäºã\n\nç±»ç»ä»¶ç¼ºç¹äºï¼ç»ä»¶æ°æ®ç¶æé»è¾ä¸è½éç¨\nhooksè§£å³æ¹å¼ï¼\néè¿èªå®ä¹hookï¼å¯ä»¥æ°æ®ç¶æé»è¾ä»ç»ä»¶ä¸­æ½ç¦»åºå»ï¼è¿æ ·åä¸ä¸ªhookå¯ä»¥è¢«å¤ä¸ªç»ä»¶ä½¿ç¨ï¼è§£å³ç»ä»¶æ°æ®ç¶æé»è¾å¹¶ä¸è½éç¨çé®é¢ã\n\nç±»ç»ä»¶ç¼ºç¹äºï¼ç»ä»¶ä¹é´ä¼ å¼è¿ç¨å¤æãç¼ºç¹ä¸ï¼å¤æåºæ¯ä¸ä»£ç é¾ä»¥ç»ç»å¨ä¸èµ·\nhooksè§£å³æ¹å¼ï¼\néè¿reactåç½®çusestate()å½æ°ï¼å¯ä»¥å°ä¸åæ°æ®åå«ä»"this.state"ä¸­ç¬ç«æååºå»ãéä½æ°æ®å¤æåº¦åå¯ç»´æ¤æ§ï¼åæ¶è§£å³ç±»ç»ä»¶ç¼ºç¹ä¸ä¸­âåé¨stateæ°æ®åªè½æ¯æ´ä½ï¼æ æ³è¢«æåæ´ç»âçé®é¢ã\n\néè¿reactåç½®çuseeffect()å½æ°ï¼å°componentdidmountãcomponentdidupdateãcomponentwilluncount 3ä¸ªçå½å¨æå½æ°éè¿hook(é©å­)å³èæ1ä¸ªå¤çå½æ°ï¼è§£å³äºä»¶è®¢éåæ£å¨å¤ä¸ªçå½å¨æå½æ°çé®é¢ã\n\n# æä¸ºå³é®çæ¯ï¼hookè¿è½å®ç°ä¸äºç±»ç»ä»¶æ ¹æ¬ä¸è½å®ç°çåè½ï¼æ¯å¦å¨å±å±äº«æ°æ®ï¼ä»£æ¿reduxã\n\nå¦æéè¯»è¿ä¸é¢æå­ï¼ä½ ä¾ç¶ä¸å¤´é¾æ°´ï¼ä¸è¦çæ¥ï¼ä½ ç°å¨åªéè¦å¯¹hooksæä¸ä¸ªå¤§ä½äºè§£å³å¯ã\néçåé¢çæ·±å¥å­¦ä¹ ï¼ä½ å°éä¸ªææ¡hooksçå³é®ç¨æ³ã\n\n# ä½ åªéè®°ä½ä¸ä¸ªç»è®ºï¼å¿æç±»ç»ä»¶ï¼ä½¿ç¨hookè¿è¡å½æ°ç»ä»¶å¼åï¼å°æ¯ä¸ä¸ªææºéæ©ã\n\n\n> ä»¥ä¸åå®¹æ´æ°äº 2021.01.10\n\nä¸é¢è®²è§£ä¸ä¸ react ççå½å¨æå½æ°ï¼é¢å¯¹å¦æ­¤å¤æççå½å¨æå½æ°ï¼æ¯æ²¡æå¿è¦è¿äºäºè§£åç ç©¶çï¼ç®åæ¥è¯´ï¼ä¸è¬åªéå­¦ä¹ ä½¿ç¨ useeffect è¿ä¸ª hook å³å¯ã\n\nuseeffect è¿ä¸ª hook ä¼å¨ç¨åè®²è§£ã\n\n\n# reactçå½å¨æå½æ°\n\nreact ä¸æ¬¡ç¶ææ´æ°ï¼ä¸å±åä¸º 2 ä¸ªé¶æ®µã4 ä¸ªçå½å¨æã\n\n2 ä¸ªé¶æ®µï¼\n\n 1. renderé¶æ®µï¼åå«diffç®æ³ï¼è®¡ç®åºç¶æåå\n 2. commitæ¸²æé¶æ®µï¼reactdomæ¸²æå¨ï¼å°ç¶æååæ¸²æå¨è§å¾ä¸­\n\n4ä¸ªçå½å¨æï¼\n\n 1. mount(ç¬¬ä¸æ¬¡æè½½)\n 2. update(æ´æ°)\n 3. unmount(å¸è½½)\n 4. error(å­é¡¹åçéè¯¯)\n\nçå½å¨æå½æ°                      æå±é¶æ®µ       æå±çå½å¨æ\nconstructor                 renderé¶æ®µ   mount\ncomponentwillreceiveprops   renderé¶æ®µ   update\ngetderivedstatefromprops    renderé¶æ®µ   å¹¶å­äºmounãupdate\ngetderivedstatefromerror    renderé¶æ®µ   error\nshouldcomponentupdate       renderé¶æ®µ   update\ncomponentwillmount          renderé¶æ®µ   mount\ncomponentwillupdate         renderé¶æ®µ   update\nrender                      renderé¶æ®µ   å¹¶å­äºmountãupdate\ncomponentdidmount           commité¶æ®µ   mount\ngetsnapshotbeforeupdate     commité¶æ®µ   update\ncomponentdidupdate          commité¶æ®µ   update\ncomponentwillunmount        commité¶æ®µ   unmount\ncomponentdidcatch           commité¶æ®µ   error\n\næ³¨æäºæï¼\n\ncomponentwillreceivepropsãcomponentwillmountãcomponentwillupdate è¿ 3 ä¸ªçå½å¨æå½æ°æ­£å¨éæ­¥è¢« react å®æ¹æ¾å¼ä½¿ç¨ï¼ä¸æ¨èç»§ç»­ä½¿ç¨è¿ 3 ä¸ªçå½å¨æå½æ°ã\n\nä¸ä¹å¯¹åºçæ¯ getderivedstatefrompropsãgetderivedstatefromerror è¿ 2 ä¸ªè¿æ¯è¢«æ¨èä½¿ç¨çã\n\nå³äºåä¸ªçå½å¨æå½æ°è¯¦ç»ä»ç»ï¼å¯ä»¥åè react å®æ¹ææ¡£ï¼ https://zh-hans.reactjs.org/docs/react-component.html#commonly-used-lifecycle-methods\n\nè¡¥åè¯´æï¼\n\nç®åå¹¶ä¸æ¯ææççå½å¨æå½æ°é½å¯¹åºæ hook å½æ°ã\n\nåæ¬¡éå¤ä¸éï¼è¿äºçå½å¨æå½æ°ä½ åªéå¤§è´äºè§£ï¼åå­¦èåªéå­¦ä¼ useeffect è¿ä¸ª hook å³å¯ã\n\n> ä»¥ä¸åå®¹æ´æ°äº 2021.01.10\n\n\n# æ¬èå°ç»\n\n1ãhookæ¯react 16.8åä»¥ä¸çæ¬ææ¥æçç¹æ§ã\n2ãhookåªæ¯reactâå¢å âçæ¦å¿µåä¸äºapiï¼å¯¹åæreactä½ç³»å¹¶æ²¡æä»»ä½ç ´åã\n3ãhookæå¾å¤ä¼å¿ï¼æ¯å¦ä¸éè¦ä½¿ç¨âthisâãæ°æ®ç¶æç»è´æåãæ°æ®ç¶æé»è¾æ½ç¦»åºç»ä»¶ãä»£ç ç»ç»æ´å èªç±çµæ´»ç­ã\n4ãhookåªè½ç¨äºå½æ°ç»ä»¶ï¼ä¸è½ç¨äºç±»ç»ä»¶ä¸­ã\n5ãhookè½å¥½ï¼ä½reactä¾ç¶ä¿çå¯¹ç±»ç»ä»¶çæ¯æï¼å¦æä½ å°±æ¯ä¸åæ¬¢hookï¼æ´ååäºç»§ç»­ä½¿ç¨ç±»ç»ä»¶ï¼é£ä¹ä¹æ¯å¯ä»¥çï¼åªæ¯ä½ éè¦ç»§ç»­é¢å¯¹ç±»ç»ä»¶çä¸äºç¼ºç¹ã\n\n----------------------------------------\n\nè³æ­¤ï¼ä½ å¯¹hookæäºä¸ä¸ªåæ­¥æ¦å¿µï¼æ¥ä¸æ¥å¼å§å­¦ä¹ ç¬¬1ä¸ªhookå½æ° usestateã',charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"02 useStateåºç¡ç¨æ³",frontmatter:{title:"02 useStateåºç¡ç¨æ³",date:"2023-09-06T14:37:04.000Z",permalink:"/pages/b364c0/"},regularPath:"/03.react/02.useState%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95.html",relativePath:"03.react/02.useStateåºç¡ç¨æ³.md",key:"v-cf1e7c3c",path:"/pages/b364c0/",headers:[{level:2,title:"useStateæ¦å¿µè§£é",slug:"usestateæ¦å¿µè§£é",normalizedTitle:"usestateæ¦å¿µè§£é",charIndex:22},{level:2,title:"useStateæ¯æ¥è§£å³ç±»ç»ä»¶ä»ä¹é®é¢çï¼",slug:"usestateæ¯æ¥è§£å³ç±»ç»ä»¶ä»ä¹é®é¢ç",normalizedTitle:"usestateæ¯æ¥è§£å³ç±»ç»ä»¶ä»ä¹é®é¢çï¼",charIndex:274},{level:2,title:"useStateå½æ°æºç ï¼",slug:"usestateå½æ°æºç ",normalizedTitle:"usestateå½æ°æºç ï¼",charIndex:795},{level:5,title:"è¡¥åä¸äºTypeScriptå¸¸è¯ï¼",slug:"è¡¥åä¸äºtypescriptå¸¸è¯",normalizedTitle:"è¡¥åä¸äºtypescriptå¸¸è¯ï¼",charIndex:1320},{level:2,title:"useStateåºæ¬ç¨æ³",slug:"usestateåºæ¬ç¨æ³",normalizedTitle:"usestateåºæ¬ç¨æ³",charIndex:1736},{level:5,title:"ä»£ç å½¢å¼ï¼",slug:"ä»£ç å½¢å¼",normalizedTitle:"ä»£ç å½¢å¼ï¼",charIndex:1822},{level:5,title:"æè§£è¯´æï¼",slug:"æè§£è¯´æ",normalizedTitle:"æè§£è¯´æï¼",charIndex:1925},{level:4,title:"'variable'è¡¥åè¯´æ",slug:"variable-è¡¥åè¯´æ",normalizedTitle:"'variable'è¡¥åè¯´æ",charIndex:2144},{level:5,title:"'setVariable'è¡¥åè¯´æï¼",slug:"setvariable-è¡¥åè¯´æ",normalizedTitle:"'setvariable'è¡¥åè¯´æï¼",charIndex:2327},{level:5,title:"'value'è¡¥åè¯´æï¼",slug:"value-è¡¥åè¯´æ",normalizedTitle:"'value'è¡¥åè¯´æï¼",charIndex:2460},{level:5,title:"'newValue'è¡¥åè¯´æ(éå¸¸éè¦)ï¼",slug:"newvalue-è¡¥åè¯´æ-éå¸¸éè¦",normalizedTitle:"'newvalue'è¡¥åè¯´æ(éå¸¸éè¦)ï¼",charIndex:2559},{level:2,title:"useStateä½¿ç¨ç¤ºä¾ï¼",slug:"usestateä½¿ç¨ç¤ºä¾",normalizedTitle:"usestateä½¿ç¨ç¤ºä¾ï¼",charIndex:3003},{level:2,title:"ç»ä¹ é¢",slug:"ç»ä¹ é¢",normalizedTitle:"ç»ä¹ é¢",charIndex:3602},{level:5,title:"å®æ´ç¤ºä¾ï¼",slug:"å®æ´ç¤ºä¾",normalizedTitle:"å®æ´ç¤ºä¾ï¼",charIndex:3640}],headersStr:"useStateæ¦å¿µè§£é useStateæ¯æ¥è§£å³ç±»ç»ä»¶ä»ä¹é®é¢çï¼ useStateå½æ°æºç ï¼ è¡¥åä¸äºTypeScriptå¸¸è¯ï¼ useStateåºæ¬ç¨æ³ ä»£ç å½¢å¼ï¼ æè§£è¯´æï¼ 'variable'è¡¥åè¯´æ 'setVariable'è¡¥åè¯´æï¼ 'value'è¡¥åè¯´æï¼ 'newValue'è¡¥åè¯´æ(éå¸¸éè¦)ï¼ useStateä½¿ç¨ç¤ºä¾ï¼ ç»ä¹ é¢ å®æ´ç¤ºä¾ï¼",content:"# 02 useStateåºç¡ç¨æ³\n\n\n# useStateæ¦å¿µè§£é\n\næä»¬ç¬¬ä¸ä¸ªè¦å­¦ä¹ çHook(é©å­å½æ°)æ¯useStateï¼ä»çä½ç¨æ¯âå¾ä½âå½æ°ç»ä»¶ä¸­èªå®ä¹çåéã\n\nâå¾ä½âï¼\nåé¡¾ä¸ä¸ âReact Hook ç®ä»â æä¸­é£å¥è¯ï¼Hookæ¬èº«åè¯æææ¯âé©å­âï¼ä½ç¨å°±æ¯âå¾ä½æäºçå½å¨æå½æ°ææäºæ°æ®ç¶æï¼å¹¶è¿è¡æäºå³èè§¦åè°ç¨âã\n\nâå¦ä½å¾ä½âï¼ å¨Reactåºå±ä»£ç ä¸­ï¼æ¯éè¿èªå®ä¹dispatcherï¼éç¨âåå¸è®¢éæ¨¡å¼âå®ç°çã\n\nå³äºâé©å­âãâå¾ä½âãâå¦ä½å¾ä½âçæ¦å¿µä»¥åå¨å­¦ä¹ å¶ä»Hookå½æ°æ¶ä¸ååè§£éã\n\n\n# useStateæ¯æ¥è§£å³ç±»ç»ä»¶ä»ä¹é®é¢çï¼\n\nç­ï¼useStateè½å¤è§£å³ç±»ç»ä»¶ ææèªå®ä¹åéåªè½å­å¨å¨this.state çé®é¢ã\n\nä¸¾ä¾ï¼è¥æç»ä»¶éè¦æ2ä¸ªèªå®ä¹åénameåageï¼é£ä¹å¨ç±»ç»ä»¶ä¸­åªè½å¦ä¸å®ä¹\n\nconstructor(props) {\n    super(props);\n    this.state = {\n      name:'puxiao',\n      age:34\n    }\n}\n\n\nnameåageåªè½ä½ä¸ºthis.stateçä¸ä¸ªå±æ§ã\n\næ²¡æå¯¹æ¯å°±æ²¡æä¼¤å®³ï¼çä¸ä¸ä½¿ç¨useStateåï¼å½æ°ç»ä»¶æ¯å¦ä½å®ç°ä¸è¿°éæ±ç\n\nconst [name,setName] = useState('puxiao');\nconst [age,setAge] = useState(34);\n\n\n1ãå½æ°ç»ä»¶æ¬èº«æ¯ä¸ä¸ªå½æ°ï¼ä¸æ¯ç±»ï¼å æ­¤æ²¡ææé å½æ°constructor(props)ï¼\n2ãä»»ä½ä½ æ³å®ä¹çåéé½å¯ä»¥åç¬æååºå»ï¼ç¬ç«å®ä¹ï¼äºä¸å½±åï¼\n\nä¸¤æ®µä»£ç å¯¹æ¯ä¹ä¸ï¼ä½ å°±ä¼åç°ä½¿ç¨HookçuseStateåï¼ä¼è®©æä»¬å®ä¹çåéç¸å¯¹ç¬ç«ï¼æ¸æ°ç®åï¼ä¾¿äºç®¡çã\n\næ¥ä¸æ¥å¼å§å­¦ä¹ useStateã\n\n\n# useStateå½æ°æºç ï¼\n\né¦åçä¸ä¸Reactæºç ä¸­çReactHooks.jsã\n\n//å¤æ³¨ï¼æºç éç¨TypeScriptç¼åï¼å¦æä¸æTSä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\nexport function useState<S>(\n  initialState: (() => S) | S,\n): [S, Dispatch<BasicStateAction<S>>] {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useState(initialState);\n}\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨Hookâï¼å¹¶ä¸æ¯âHookæºç åæâãä¹æä»¥è´´åºæºç åªæ¯ä¸ºäºæ¾å¾æ¬ææ¯è¾ææ·±åº¦ã^_^\n\næ´æ°äº2020.11.10ï¼è¿éå¼ºè°ä¸ä¸ï¼React æºç ä¸­ä½¿ç¨çæ¯ flow è¯­æ³ï¼æ ¹æ¬ä¸æ¯ TypeScript è¯­æ³ï¼åªä¸è¿ 2 èå®å¨æ¯å¤ªåäºï¼ä»¥è³äºè®©æä¹åä¸ç´è¯¯ä»¥ä¸º React æºç ä¸­æ¯ TSãä¸è¿ä½ å®å¨å¯ä»¥å° TS çæ³åç¥è¯å»å¥ç¨å° flow ä¸­ãå¨æ­¤ç¹å«è¯´æä¸ä¸ï¼è³äºåç»­ç« èä¸­å°±ä¸ååæéåä¿®æ¹äºï¼ä½ å°±å½æ TS è¯­æ³å»çè§£ä¹è¡ã\n\n# è¡¥åä¸äºTypeScriptå¸¸è¯ï¼\n\n1ãreact æ¬èº«éç¨TypeScriptç¼åï¼è¿æ¯è¡¥åç¹TSå¸¸è¯ï¼æ¹ä¾¿å¯¹åä¸ª hook å½æ°æºç ççè§£ã\n2ãå¯¹äºuseStateä»¥åä»¥åè¦å­¦ä¹ çå¶ä»hookå½æ°æºç ï¼å½æ°åæ°ä¸­ä¼åå¤åºç°<S>ã<T>ã<P>ã<I>ã<I>ï¼è¿äºå¤§åå­æ¯ï¼reactçº¦å®ä»ä»¬å¯¹åºçåè¯å¦ä¸ï¼\nstate -> S -> çº¦å®è¡¨ç¤ºæç§âæ°æ®â\ntype -> T -> çº¦å®è¡¨ç¤ºæç§âç±»åâ\nprops -> P -> çº¦å®è¡¨ç¤ºâå±æ§ä¼ å¼å¯¹åºçpropsâ\ninitial -> I -> çº¦å®è¡¨ç¤ºæä¸ªâåå§å¼â\n\n1ãè¿ç§ç¨<X>åè£¹èµ·æ¥çç±»åå£°æï¼å¨TSä¸­æä¸ºâæ³åâãçè®ºä¸æ¯å¯ä»¥ä½¿ç¨ä»»æåè¯çï¼ä¸é¢é£äºç¼©ååªæ¯reactèªå·±çº¦å®åè¯ç¼©åã\n2ãå¯¹äºä¸æ®µTSä»£ç ï¼å¦æåºç°äº<S>ï¼é£ä¹åé¢ææç<S>é½å°è¡¨ç¤ºâæç§ç¸åç±»åçæ°æ®âãå¯¹äºTypeScriptçæ³åç¸å³ç¥è¯ï¼è¯·èªå·±ç¾åº¦å­¦ä¹ ã\n\n\n# useStateåºæ¬ç¨æ³\n\nuseState(value)å½æ°ä¼è¿åä¸ä¸ªæ°ç»ï¼è¯¥æ°ç»åå«2ä¸ªåç´ ï¼ç¬¬1ä¸ªåç´ ä¸ºæä»¬å®ä¹çåéï¼ç¬¬2ä¸ªåç´ ä¸ºä¿®æ¹è¯¥åéå¯¹åºçå½æ°åç§°ã\n\n# ä»£ç å½¢å¼ï¼\n\nconst [variable,setVariable] = useState(value);\n//....\nsetVariable(newValue);//ä¿®æ¹variableçå¼\n\n\n# æè§£è¯´æï¼\n\n1ãconst [a,b] = [a,b] è¿ç§å½¢å¼ä¸ºES6çâè§£æèµå¼âï¼\n2ã'variable'ä¸ºå½æ°ç»ä»¶ä¸­èªå®ä¹çåéåï¼\n3ã'setVariable'ä¸ºä¿®æ¹'variable'å¯¹åºçå½æ°åï¼\n4ã'useState'ä¸ºæ¬æ¬¡å­¦ä¹ çHookå½æ°ï¼\n5ã'value'ä¸ºåéé»è®¤å¼\n6ã'setVariable(newValue)'ä¸ºè°ç¨setVariableå¹¶å°æ°çå¼newValueèµå¼ç»variableï¼\n\n# 'variable'è¡¥åè¯´æ\n\n1ãvariableä¸ºåéåï¼å®éä½¿ç¨ä¸­å¯ä»¥ä¿®æ¹æä»»æåéåï¼æ¯å¦nameãageãcountç­ç­ï¼\n2ãä½æ¯ï¼å½æ°ç»ä»¶æ¥æ¶ç¶çº§ç»ä»¶å±æ§ä¼ å¼çåéåä¸ºpropsï¼å æ­¤å»ºè®®ä½ ä¸è¦å°åéåå®ä¸ºpropsï¼ä»¥åæ··æ·ï¼\n3ãæä¸å¬è¯ï¼æå°±éè¦å°åéåå®ä¹æpropsï¼é£åä¼æä¹æ ·ï¼ç­æ¡æ¯ä¸ä¼æä»ä¹é®é¢ï¼ä¸ä»ä¸ä¼æ¥éèä¸è¿ä¼æ­£å¸¸æ§è¡ã\n\n# 'setVariable'è¡¥åè¯´æï¼\n\n1ãè¯¥åç§°éç¨ \"set\"+\"åéå\" çé©¼å³°å½åå½¢å¼ï¼åªæ¯ä¸ºäºæé«ä»£ç å¯è¯»æ§ã\n2ãä¸è¬Reacté¡¹ç®é½çº¦å®ä½¿ç¨æ­¤ç§å½åæ¹å¼ï¼æä»¥æ¨èä½ ä¹å¦æ­¤ä½¿ç¨ã\n3ãå½ç¶ä½ ä¹å¯ä»¥ä½¿ç¨ä»»æä½ åæ¬¢çå½åé£æ ¼ï¼ä½æ¯åè®°ä¸è½ä»¥æ°å­å¼å¤´ã\n\n# 'value'è¡¥åè¯´æï¼\n\n1ãå¿å¡«é¡¹ï¼ä¸å¯ç¼ºçï¼è¥ç¼ºçåå®éè¿è¡æ¶ä¼æç¤ºåéåæªå®ä¹ï¼\n2ãå¼çç±»åå¯ä»¥æ¯å­ç¬¦ä¸²ãæ°å­ãæ°ç»ãå¯¹è±¡ï¼\n3ãå¼è¿å¯ä»¥ä¸ºnullï¼ä½ä¸å¯ä»¥ä¸ºundefinedï¼\n\n# 'newValue'è¡¥åè¯´æ(éå¸¸éè¦)ï¼\n\nsetVariableéç¨ âå¼æ­¥ç´æ¥èµå¼â çå½¢å¼ï¼å¹¶ä¸ä¼åç±»ç»ä»¶ä¸­çsetState()é£æ ·åâå¼æ­¥å¯¹æ¯ç´¯å èµå¼âã\n\nâå¼æ­¥âï¼\nè¿éçâå¼æ­¥âåç±»ç»ä»¶ä¸­setStateä¸­çå¼æ­¥æ¯åä¸ä¸ªææï¼é½æ¯ä¸ºäºä¼åReactæ¸²ææ§è½èææä¸ºä¹ã\n\n\"ç´æ¥èµå¼\"ï¼\n1ãå¨Hookä¸­ï¼å¯¹äºç®åç±»åæ°æ®ï¼æ¯å¦numberãstringç±»åï¼å¯ä»¥ç´æ¥éè¿setVariable(newValue)ç´æ¥è¿è¡èµå¼ã\n2ãä½å¯¹äºå¤æç±»åæ°æ®ï¼æ¯å¦arrayãobjectç±»åï¼è¥æ³ä¿®æ¹å¶ä¸­æä¸ä¸ªå±æ§å¼èä¸å½±åå¶ä»å±æ§ï¼åéè¦åå¤å¶åºä¸ä»½ï¼ä¿®æ¹æå±æ§ååæ´ä½èµå¼ãå·ä½å¦ä½åï¼è¯·çä¸ä¸ç¯âuseStateé«çº§ç¨æ³âä¸­âæ°æ®ç±»åä¸ºObjcet/Arrayä¿®æ¹æ¹æ³âåå®¹ã\n\nå¦ææ°å¼åå½åå¼å®å¨ä¸æ ·ï¼é£ä¹ä¼å¼åReactéæ°æ¸²æåï¼è¯·çä¸ä¸ç¯âuseStateé«çº§ç¨æ³âä¸­âæ§è½ä¼åâåå®¹ã\n\nåï¼ä¸é¢çä¿¡æ¯éæç¹å¤ï¼è®©æä»¬ææç»ªååå°æåºç¡çç¨æ³ä¸ã\n\n\n# useStateä½¿ç¨ç¤ºä¾ï¼\n\n//å½æ°ç»ä»¶åå®ä¹åéname\nconst [name,setName] = useState('nodejs'); //nameé»è®¤å¼ä¸ºnodejs\n\n//å¨å½æ°ç»ä»¶åï¼æäºäºä»¶äº¤äºå¤çå½æ°ä¸­ä¿®æ¹nameçå¼ï¼ä¾å¦ææ¬¡é¼ æ ç¹å»çå¤çå½æ°handleClick\nconst handleClick = () => {\n  setName('koa');\n  //è¯·æ³¨æï¼setName('koa')æ¯å¼æ­¥ä¿®æ¹çï¼å¦ææ­¤æ¶æ§è¡console.log(name) è¾åºçå¼ä¾ç¶æ¯nodejs\n  //è¯·çæä¸ä¸ç¯æç«  â03 useStateé«çº§ç¨æ³â ä¸­ âè§£å³æ°æ®å¼æ­¥â ç¸å³é¨å\n}\n\n\nä¸è¿°ä»£ç ä¸­ï¼æä»¬è¿è¡äºä»¥ä¸æä½ï¼\n1ãå£°æä¸ä¸ªåénameãä¿®æ¹nameçæ¹æ³setNameãå¹¶å°nameé»è®¤å¼è®¾ç½®ä¸º'nodejs'ï¼\n2ãéè¿setNameå°nameå¼ä¿®æ¹ä¸º'koa'ï¼\n\næ³¨æï¼å¨ä¸ä¸ªç»ä»¶ä¸­ï¼å¯ä»¥ä¸éæ¬¡æ°ä½¿ç¨useState()ï¼å æ­¤ï¼æä»¬å¯ä»¥å£°æå¤ä¸ªåéï¼ä¾å¦ä¸é¢ä»£ç ï¼\n\nconst [name,setName] = useState('puxiao');\nconst [age,setAge] = useState(34);\n\n\nå¨è¯¥ä»£ç çæ®µä¸­ï¼æä»¬åå«å®ä¹äº2ä¸ªåéï¼nameãage ä»¥åä»ä»¬å¯¹åºçä¿®æ¹å½æ°setNameãsetAgeã\n\n\n# ç»ä¹ é¢\n\nç¨useStateå®ç°ä¸ä¸ªè®¡æ°å¨ï¼é»è®¤ä¸º0ï¼æ¯æ¬¡ç¹å»+1ã\n\n# å®æ´ç¤ºä¾ï¼\n\nimport React, { useState } from 'react';\n\nfunction Component() {\n\n  const [count, setCount] = useState(0);\n\n  function clickHandler(){\n    setCount(count+1);\n  }\n\n  return <div onClick={clickHandler}>\n    {count}\n  </div>\n}\n\nexport default Component;\n\n\nè¯·æ³¨æä¸è¿°ä»£ç ä¸­ï¼æ²¡æç¨å°thisï¼è¿å°±æ¯å½æ°ç»ä»¶ä¸­ä½¿ç¨Hookçé­åä¹ä¸ï¼åä¹ä¸ç¨å»å³å¿ç¦äººçthiså°åºæåè°è¿ä¸ªé®é¢äºã\n\nå®éä»£ç ä¸­ï¼æ¬äººæ´å å¾åäºä½¿ç¨ç®­å¤´å½æ°æ¥å®ä¹æ¹æ³ï¼æä»¥ä¸è¿° function clickHandler() ä¼åæï¼\n\nconst clickHandler = () => {\n  setCount(count+1);\n}\n\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseStateåºç¡ç¨æ³å·²ç»è®²å®ã",normalizedContent:"# 02 usestateåºç¡ç¨æ³\n\n\n# usestateæ¦å¿µè§£é\n\næä»¬ç¬¬ä¸ä¸ªè¦å­¦ä¹ çhook(é©å­å½æ°)æ¯usestateï¼ä»çä½ç¨æ¯âå¾ä½âå½æ°ç»ä»¶ä¸­èªå®ä¹çåéã\n\nâå¾ä½âï¼\nåé¡¾ä¸ä¸ âreact hook ç®ä»â æä¸­é£å¥è¯ï¼hookæ¬èº«åè¯æææ¯âé©å­âï¼ä½ç¨å°±æ¯âå¾ä½æäºçå½å¨æå½æ°ææäºæ°æ®ç¶æï¼å¹¶è¿è¡æäºå³èè§¦åè°ç¨âã\n\nâå¦ä½å¾ä½âï¼ å¨reactåºå±ä»£ç ä¸­ï¼æ¯éè¿èªå®ä¹dispatcherï¼éç¨âåå¸è®¢éæ¨¡å¼âå®ç°çã\n\nå³äºâé©å­âãâå¾ä½âãâå¦ä½å¾ä½âçæ¦å¿µä»¥åå¨å­¦ä¹ å¶ä»hookå½æ°æ¶ä¸ååè§£éã\n\n\n# usestateæ¯æ¥è§£å³ç±»ç»ä»¶ä»ä¹é®é¢çï¼\n\nç­ï¼usestateè½å¤è§£å³ç±»ç»ä»¶ ææèªå®ä¹åéåªè½å­å¨å¨this.state çé®é¢ã\n\nä¸¾ä¾ï¼è¥æç»ä»¶éè¦æ2ä¸ªèªå®ä¹åénameåageï¼é£ä¹å¨ç±»ç»ä»¶ä¸­åªè½å¦ä¸å®ä¹\n\nconstructor(props) {\n    super(props);\n    this.state = {\n      name:'puxiao',\n      age:34\n    }\n}\n\n\nnameåageåªè½ä½ä¸ºthis.stateçä¸ä¸ªå±æ§ã\n\næ²¡æå¯¹æ¯å°±æ²¡æä¼¤å®³ï¼çä¸ä¸ä½¿ç¨usestateåï¼å½æ°ç»ä»¶æ¯å¦ä½å®ç°ä¸è¿°éæ±ç\n\nconst [name,setname] = usestate('puxiao');\nconst [age,setage] = usestate(34);\n\n\n1ãå½æ°ç»ä»¶æ¬èº«æ¯ä¸ä¸ªå½æ°ï¼ä¸æ¯ç±»ï¼å æ­¤æ²¡ææé å½æ°constructor(props)ï¼\n2ãä»»ä½ä½ æ³å®ä¹çåéé½å¯ä»¥åç¬æååºå»ï¼ç¬ç«å®ä¹ï¼äºä¸å½±åï¼\n\nä¸¤æ®µä»£ç å¯¹æ¯ä¹ä¸ï¼ä½ å°±ä¼åç°ä½¿ç¨hookçusestateåï¼ä¼è®©æä»¬å®ä¹çåéç¸å¯¹ç¬ç«ï¼æ¸æ°ç®åï¼ä¾¿äºç®¡çã\n\næ¥ä¸æ¥å¼å§å­¦ä¹ usestateã\n\n\n# usestateå½æ°æºç ï¼\n\né¦åçä¸ä¸reactæºç ä¸­çreacthooks.jsã\n\n//å¤æ³¨ï¼æºç éç¨typescriptç¼åï¼å¦æä¸ætsä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\nexport function usestate<s>(\n  initialstate: (() => s) | s,\n): [s, dispatch<basicstateaction<s>>] {\n  const dispatcher = resolvedispatcher();\n  return dispatcher.usestate(initialstate);\n}\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨hookâï¼å¹¶ä¸æ¯âhookæºç åæâãä¹æä»¥è´´åºæºç åªæ¯ä¸ºäºæ¾å¾æ¬ææ¯è¾ææ·±åº¦ã^_^\n\næ´æ°äº2020.11.10ï¼è¿éå¼ºè°ä¸ä¸ï¼react æºç ä¸­ä½¿ç¨çæ¯ flow è¯­æ³ï¼æ ¹æ¬ä¸æ¯ typescript è¯­æ³ï¼åªä¸è¿ 2 èå®å¨æ¯å¤ªåäºï¼ä»¥è³äºè®©æä¹åä¸ç´è¯¯ä»¥ä¸º react æºç ä¸­æ¯ tsãä¸è¿ä½ å®å¨å¯ä»¥å° ts çæ³åç¥è¯å»å¥ç¨å° flow ä¸­ãå¨æ­¤ç¹å«è¯´æä¸ä¸ï¼è³äºåç»­ç« èä¸­å°±ä¸ååæéåä¿®æ¹äºï¼ä½ å°±å½æ ts è¯­æ³å»çè§£ä¹è¡ã\n\n# è¡¥åä¸äºtypescriptå¸¸è¯ï¼\n\n1ãreact æ¬èº«éç¨typescriptç¼åï¼è¿æ¯è¡¥åç¹tså¸¸è¯ï¼æ¹ä¾¿å¯¹åä¸ª hook å½æ°æºç ççè§£ã\n2ãå¯¹äºusestateä»¥åä»¥åè¦å­¦ä¹ çå¶ä»hookå½æ°æºç ï¼å½æ°åæ°ä¸­ä¼åå¤åºç°<s>ã<t>ã<p>ã<i>ã<i>ï¼è¿äºå¤§åå­æ¯ï¼reactçº¦å®ä»ä»¬å¯¹åºçåè¯å¦ä¸ï¼\nstate -> s -> çº¦å®è¡¨ç¤ºæç§âæ°æ®â\ntype -> t -> çº¦å®è¡¨ç¤ºæç§âç±»åâ\nprops -> p -> çº¦å®è¡¨ç¤ºâå±æ§ä¼ å¼å¯¹åºçpropsâ\ninitial -> i -> çº¦å®è¡¨ç¤ºæä¸ªâåå§å¼â\n\n1ãè¿ç§ç¨<x>åè£¹èµ·æ¥çç±»åå£°æï¼å¨tsä¸­æä¸ºâæ³åâãçè®ºä¸æ¯å¯ä»¥ä½¿ç¨ä»»æåè¯çï¼ä¸é¢é£äºç¼©ååªæ¯reactèªå·±çº¦å®åè¯ç¼©åã\n2ãå¯¹äºä¸æ®µtsä»£ç ï¼å¦æåºç°äº<s>ï¼é£ä¹åé¢ææç<s>é½å°è¡¨ç¤ºâæç§ç¸åç±»åçæ°æ®âãå¯¹äºtypescriptçæ³åç¸å³ç¥è¯ï¼è¯·èªå·±ç¾åº¦å­¦ä¹ ã\n\n\n# usestateåºæ¬ç¨æ³\n\nusestate(value)å½æ°ä¼è¿åä¸ä¸ªæ°ç»ï¼è¯¥æ°ç»åå«2ä¸ªåç´ ï¼ç¬¬1ä¸ªåç´ ä¸ºæä»¬å®ä¹çåéï¼ç¬¬2ä¸ªåç´ ä¸ºä¿®æ¹è¯¥åéå¯¹åºçå½æ°åç§°ã\n\n# ä»£ç å½¢å¼ï¼\n\nconst [variable,setvariable] = usestate(value);\n//....\nsetvariable(newvalue);//ä¿®æ¹variableçå¼\n\n\n# æè§£è¯´æï¼\n\n1ãconst [a,b] = [a,b] è¿ç§å½¢å¼ä¸ºes6çâè§£æèµå¼âï¼\n2ã'variable'ä¸ºå½æ°ç»ä»¶ä¸­èªå®ä¹çåéåï¼\n3ã'setvariable'ä¸ºä¿®æ¹'variable'å¯¹åºçå½æ°åï¼\n4ã'usestate'ä¸ºæ¬æ¬¡å­¦ä¹ çhookå½æ°ï¼\n5ã'value'ä¸ºåéé»è®¤å¼\n6ã'setvariable(newvalue)'ä¸ºè°ç¨setvariableå¹¶å°æ°çå¼newvalueèµå¼ç»variableï¼\n\n# 'variable'è¡¥åè¯´æ\n\n1ãvariableä¸ºåéåï¼å®éä½¿ç¨ä¸­å¯ä»¥ä¿®æ¹æä»»æåéåï¼æ¯å¦nameãageãcountç­ç­ï¼\n2ãä½æ¯ï¼å½æ°ç»ä»¶æ¥æ¶ç¶çº§ç»ä»¶å±æ§ä¼ å¼çåéåä¸ºpropsï¼å æ­¤å»ºè®®ä½ ä¸è¦å°åéåå®ä¸ºpropsï¼ä»¥åæ··æ·ï¼\n3ãæä¸å¬è¯ï¼æå°±éè¦å°åéåå®ä¹æpropsï¼é£åä¼æä¹æ ·ï¼ç­æ¡æ¯ä¸ä¼æä»ä¹é®é¢ï¼ä¸ä»ä¸ä¼æ¥éèä¸è¿ä¼æ­£å¸¸æ§è¡ã\n\n# 'setvariable'è¡¥åè¯´æï¼\n\n1ãè¯¥åç§°éç¨ \"set\"+\"åéå\" çé©¼å³°å½åå½¢å¼ï¼åªæ¯ä¸ºäºæé«ä»£ç å¯è¯»æ§ã\n2ãä¸è¬reacté¡¹ç®é½çº¦å®ä½¿ç¨æ­¤ç§å½åæ¹å¼ï¼æä»¥æ¨èä½ ä¹å¦æ­¤ä½¿ç¨ã\n3ãå½ç¶ä½ ä¹å¯ä»¥ä½¿ç¨ä»»æä½ åæ¬¢çå½åé£æ ¼ï¼ä½æ¯åè®°ä¸è½ä»¥æ°å­å¼å¤´ã\n\n# 'value'è¡¥åè¯´æï¼\n\n1ãå¿å¡«é¡¹ï¼ä¸å¯ç¼ºçï¼è¥ç¼ºçåå®éè¿è¡æ¶ä¼æç¤ºåéåæªå®ä¹ï¼\n2ãå¼çç±»åå¯ä»¥æ¯å­ç¬¦ä¸²ãæ°å­ãæ°ç»ãå¯¹è±¡ï¼\n3ãå¼è¿å¯ä»¥ä¸ºnullï¼ä½ä¸å¯ä»¥ä¸ºundefinedï¼\n\n# 'newvalue'è¡¥åè¯´æ(éå¸¸éè¦)ï¼\n\nsetvariableéç¨ âå¼æ­¥ç´æ¥èµå¼â çå½¢å¼ï¼å¹¶ä¸ä¼åç±»ç»ä»¶ä¸­çsetstate()é£æ ·åâå¼æ­¥å¯¹æ¯ç´¯å èµå¼âã\n\nâå¼æ­¥âï¼\nè¿éçâå¼æ­¥âåç±»ç»ä»¶ä¸­setstateä¸­çå¼æ­¥æ¯åä¸ä¸ªææï¼é½æ¯ä¸ºäºä¼åreactæ¸²ææ§è½èææä¸ºä¹ã\n\n\"ç´æ¥èµå¼\"ï¼\n1ãå¨hookä¸­ï¼å¯¹äºç®åç±»åæ°æ®ï¼æ¯å¦numberãstringç±»åï¼å¯ä»¥ç´æ¥éè¿setvariable(newvalue)ç´æ¥è¿è¡èµå¼ã\n2ãä½å¯¹äºå¤æç±»åæ°æ®ï¼æ¯å¦arrayãobjectç±»åï¼è¥æ³ä¿®æ¹å¶ä¸­æä¸ä¸ªå±æ§å¼èä¸å½±åå¶ä»å±æ§ï¼åéè¦åå¤å¶åºä¸ä»½ï¼ä¿®æ¹æå±æ§ååæ´ä½èµå¼ãå·ä½å¦ä½åï¼è¯·çä¸ä¸ç¯âusestateé«çº§ç¨æ³âä¸­âæ°æ®ç±»åä¸ºobjcet/arrayä¿®æ¹æ¹æ³âåå®¹ã\n\nå¦ææ°å¼åå½åå¼å®å¨ä¸æ ·ï¼é£ä¹ä¼å¼åreactéæ°æ¸²æåï¼è¯·çä¸ä¸ç¯âusestateé«çº§ç¨æ³âä¸­âæ§è½ä¼åâåå®¹ã\n\nåï¼ä¸é¢çä¿¡æ¯éæç¹å¤ï¼è®©æä»¬ææç»ªååå°æåºç¡çç¨æ³ä¸ã\n\n\n# usestateä½¿ç¨ç¤ºä¾ï¼\n\n//å½æ°ç»ä»¶åå®ä¹åéname\nconst [name,setname] = usestate('nodejs'); //nameé»è®¤å¼ä¸ºnodejs\n\n//å¨å½æ°ç»ä»¶åï¼æäºäºä»¶äº¤äºå¤çå½æ°ä¸­ä¿®æ¹nameçå¼ï¼ä¾å¦ææ¬¡é¼ æ ç¹å»çå¤çå½æ°handleclick\nconst handleclick = () => {\n  setname('koa');\n  //è¯·æ³¨æï¼setname('koa')æ¯å¼æ­¥ä¿®æ¹çï¼å¦ææ­¤æ¶æ§è¡console.log(name) è¾åºçå¼ä¾ç¶æ¯nodejs\n  //è¯·çæä¸ä¸ç¯æç«  â03 usestateé«çº§ç¨æ³â ä¸­ âè§£å³æ°æ®å¼æ­¥â ç¸å³é¨å\n}\n\n\nä¸è¿°ä»£ç ä¸­ï¼æä»¬è¿è¡äºä»¥ä¸æä½ï¼\n1ãå£°æä¸ä¸ªåénameãä¿®æ¹nameçæ¹æ³setnameãå¹¶å°nameé»è®¤å¼è®¾ç½®ä¸º'nodejs'ï¼\n2ãéè¿setnameå°nameå¼ä¿®æ¹ä¸º'koa'ï¼\n\næ³¨æï¼å¨ä¸ä¸ªç»ä»¶ä¸­ï¼å¯ä»¥ä¸éæ¬¡æ°ä½¿ç¨usestate()ï¼å æ­¤ï¼æä»¬å¯ä»¥å£°æå¤ä¸ªåéï¼ä¾å¦ä¸é¢ä»£ç ï¼\n\nconst [name,setname] = usestate('puxiao');\nconst [age,setage] = usestate(34);\n\n\nå¨è¯¥ä»£ç çæ®µä¸­ï¼æä»¬åå«å®ä¹äº2ä¸ªåéï¼nameãage ä»¥åä»ä»¬å¯¹åºçä¿®æ¹å½æ°setnameãsetageã\n\n\n# ç»ä¹ é¢\n\nç¨usestateå®ç°ä¸ä¸ªè®¡æ°å¨ï¼é»è®¤ä¸º0ï¼æ¯æ¬¡ç¹å»+1ã\n\n# å®æ´ç¤ºä¾ï¼\n\nimport react, { usestate } from 'react';\n\nfunction component() {\n\n  const [count, setcount] = usestate(0);\n\n  function clickhandler(){\n    setcount(count+1);\n  }\n\n  return <div onclick={clickhandler}>\n    {count}\n  </div>\n}\n\nexport default component;\n\n\nè¯·æ³¨æä¸è¿°ä»£ç ä¸­ï¼æ²¡æç¨å°thisï¼è¿å°±æ¯å½æ°ç»ä»¶ä¸­ä½¿ç¨hookçé­åä¹ä¸ï¼åä¹ä¸ç¨å»å³å¿ç¦äººçthiså°åºæåè°è¿ä¸ªé®é¢äºã\n\nå®éä»£ç ä¸­ï¼æ¬äººæ´å å¾åäºä½¿ç¨ç®­å¤´å½æ°æ¥å®ä¹æ¹æ³ï¼æä»¥ä¸è¿° function clickhandler() ä¼åæï¼\n\nconst clickhandler = () => {\n  setcount(count+1);\n}\n\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºusestateåºç¡ç¨æ³å·²ç»è®²å®ã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"03 useStateé«çº§ç¨æ³",frontmatter:{title:"03 useStateé«çº§ç¨æ³",date:"2023-09-06T14:37:11.000Z",permalink:"/pages/0e215c/"},regularPath:"/03.react/03.useState%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95.html",relativePath:"03.react/03.useStateé«çº§ç¨æ³.md",key:"v-203b00fc",path:"/pages/0e215c/",headers:[{level:2,title:"æ¢å¤é»è®¤å¼",slug:"æ¢å¤é»è®¤å¼",normalizedTitle:"æ¢å¤é»è®¤å¼",charIndex:73},{level:2,title:"è§£å³æ°æ®å¼æ­¥",slug:"è§£å³æ°æ®å¼æ­¥",normalizedTitle:"è§£å³æ°æ®å¼æ­¥",charIndex:662},{level:5,title:"è§£å³åæ³ï¼",slug:"è§£å³åæ³",normalizedTitle:"è§£å³åæ³ï¼",charIndex:1025},{level:2,title:"æ°æ®ç±»åä¸ºObjcetçä¿®æ¹æ¹æ³",slug:"æ°æ®ç±»åä¸ºobjcetçä¿®æ¹æ¹æ³",normalizedTitle:"æ°æ®ç±»åä¸ºobjcetçä¿®æ¹æ¹æ³",charIndex:1552},{level:5,title:"æ­£ç¡®çåæ³ï¼",slug:"æ­£ç¡®çåæ³",normalizedTitle:"æ­£ç¡®çåæ³ï¼",charIndex:2142},{level:2,title:"æ°æ®ç±»åä¸ºArrayçä¿®æ¹æ¹æ³",slug:"æ°æ®ç±»åä¸ºarrayçä¿®æ¹æ¹æ³",normalizedTitle:"æ°æ®ç±»åä¸ºarrayçä¿®æ¹æ¹æ³",charIndex:3041},{level:2,title:"æ§è½ä¼å",slug:"æ§è½ä¼å",normalizedTitle:"æ§è½ä¼å",charIndex:4769},{level:2,title:"èªå®ä¹Hook",slug:"èªå®ä¹hook",normalizedTitle:"èªå®ä¹hook",charIndex:5478}],headersStr:"æ¢å¤é»è®¤å¼ è§£å³æ°æ®å¼æ­¥ è§£å³åæ³ï¼ æ°æ®ç±»åä¸ºObjcetçä¿®æ¹æ¹æ³ æ­£ç¡®çåæ³ï¼ æ°æ®ç±»åä¸ºArrayçä¿®æ¹æ¹æ³ æ§è½ä¼å èªå®ä¹Hook",content:"# 03 useStateé«çº§ç¨æ³\n\næè°é«çº§ç¨æ³ï¼åªä¸è¿æ¯ä¸äºæ·±å±ç¥è¯ç¹åå®ç¨æå·§ï¼ä½ çè³å¯ä»¥ææ¬ç« å½åå¯¹åé¢ç¥è¯ç¹çä¸ä¸ªå·©åºåå­¦ä¹ ã\n\n\n# æ¢å¤é»è®¤å¼\n\nç»ä»¶éæ±ï¼å®ç°ä¸ä¸ªè®¡æ°å¨ï¼æ3ä¸ªæé®ï¼ç¹å»ååå«å®ç°ï¼æ¢å¤é»è®¤å¼ãç¹å»+1ãç¹å»-1\n\nå®ç°ä»£ç ï¼\n\n    import React, { useState } from 'react';\n    \n    function Component() {\n      const initCount = 0;\n      const [count, setCount] = useState(initCount);\n    \n      return <div>\n        {count}\n        <button onClick={() => {setCount(initCount)}}>init</button>\n        <button onClick={() => {setCount(count+1)}}>+1</button>\n        <button onClick={() => {setCount(count-1)}}>-1</button>\n      </div>\n    }\n    \n    export default Component;\n\n\nä»£ç åæï¼\n1ãéè¿é¢å¤å®ä¹ä¸ä¸ªåéinitCount=0ï¼ä½ä¸ºcountçé»è®¤å¼ï¼\n2ãä»»ä½æ¶åæ³æ¢å¤é»è®¤å¼ï¼ç´æ¥å°initCountèµå¼ç»countï¼\n\n\n# è§£å³æ°æ®å¼æ­¥\n\nè¿æ¯åºäºä¸é¢é£ä¸ªç¤ºä¾ï¼åè®¾ç°å¨æ°å¢1ä¸ªæé®ï¼ç¹å»è¯¥æé®åæ§è¡ä»¥ä¸ä»£ç ï¼\n\nfor(let i=0; i<3; i++){\n  setCount(count+1);\n}\n\n\néè¿forå¾ªç¯ï¼æ§è¡äº3æ¬¡setCount(count+1)ï¼é£ä¹ä½ è§å¾countä¼ +3 åï¼\nç­æ¡æ¯ï¼è¯å®ä¸ä¼\n\næ è®ºforå¾ªç¯æ§è¡å æ¬¡ï¼æç»å®éç»æé½å°æ¯ä»ä»æ§è¡ä¸æ¬¡ +1ã\n\nä¸ºä»ä¹ï¼\nç±»ç»ä»¶ä¸­setStateèµå¼è¿ç¨æ¯å¼æ­¥çï¼åæ ·å¨Hookä¸­ setXxx èµå¼ä¹æ¯å¼æ­¥çï¼æ¯å¦ä¸è¿°ä»£ç ä¸­çsetCountã\n\nè½ç¶æ§è¡äº3æ¬¡setCount(count+1)ï¼å¯æ¯æ¯ä¸æ¬¡ä¿®æ¹åçcountå¹¶ä¸æ¯ç«å³çæçãå½ç¬¬2æ¬¡åç¬¬3æ¬¡æ§è¡æ¶è·åå°countçå¼åç¬¬1æ¬¡è·åå°çcountå¼æ¯ä¸æ ·çï¼æä»¥æç»å¶å®ç¸å½äºä»æ§è¡äº1æ¬¡ã\n\n# è§£å³åæ³ï¼\n\nä½ è¯å®ç¬¬ä¸æ¶é´æ³å°çæ¯è¿æ ·è§£å³æ¹å¼ï¼\n\nlet num = count;\nfor(let i=0; i<3; i++){\n  num +=1;\n}\nsetCount(num);\n\n\nè¿æ ·åè¯å®æ²¡é®é¢ï¼åªä¸è¿ææ´ç®ä¾¿ãæ§è½æ´é«çæ¹å¼ã\n\nåç±»ç»ä»¶ä¸­è§£å³å¼æ­¥çåæ³ç±»ä¼¼ï¼å°±æ¯ä¸ç´æ¥èµå¼ï¼èæ¯éç¨âç®­å¤´å½æ°è¿åå¼çå½¢å¼âèµå¼ã\n\næä»£ç ä¿®æ¹ä¸ºï¼\n\nfor(let i=0; i<3; i++){\n  setCount(prevData => {return prevData+1});\n  //å¯ä»¥ç®åä¸º setCount(prevData => prevData+1);\n}\n\n\nä»£ç åæï¼\n1ãprevDataä¸ºæä»¬å®ä¹çä¸ä¸ªå½¢åï¼æå½åcountåºè¯¥çå¼ï¼\n2ã{return prevData+1} ä¸­ï¼å° prevData+1ï¼å¹¶å°è¿ç®ç»æreturnåºå»ãå½ç¶ä¹éå¸¸æ¨èä½¿ç¨æ´å ç®åçåæ³ï¼setCount(prevData => prevData+1)ï¼\n3ãæç»å°prevDataèµå¼ç»countï¼\n\nè¡¥åè¯´æï¼ä½ å¯ä»¥å°prevDataä¿®æ¹æä»»æä½ åæ¬¢çåéåç§°ï¼æ¯å¦prevï¼åªéè¦ç¡®ä¿ååé¢returnéçä¸è´å³å¯ã\n\n\n# æ°æ®ç±»åä¸ºObjcetçä¿®æ¹æ¹æ³\n\nä¹åçç¤ºä¾ä¸­ï¼æ¯ä¸ªuseStateå¯¹åºçå¼é½æ¯ç®åçstringænumberï¼å¦æå¯¹åºçå¼æ¯objectï¼åè¯¥å¦ä½å¤çå¢ï¼\n\nä¾å¦ï¼\n\nconst [person, setPerson] = useState({name:'puxiao',age:34});\n\n\nè¥æ³å°ageçå¼ä¿®æ¹ä¸º18ï¼è¯¥æä¹åï¼\n\nå¦æä½ æç±»ç»ä»¶ç¼ç¨ç»éªï¼ä½ è¯å®ç¬¬ä¸æ¶é´æ³æ¯è¿æ ·çï¼\n\nsetPerson({age:18});\n\n\nå¨ç±»ç»ä»¶ä¸­ï¼setStateæ¯æ§è¡çæ¯âå¼æ­¥å¯¹æ¯ç´¯å èµå¼âï¼ä½ä¸ºâå¯¹æ¯âï¼ å°±æ¯åå¯¹æ¯ä¹åæ°æ®å±æ§ä¸­æ¯å¦æageï¼å¦ææåä¿®æ¹ageå¼ï¼åæ¶ä¸ä¼å½±åå°å¶ä»å±æ§çå¼ãæçæµreactæ¯ä½¿ç¨ES6ä¸­æ°å¢å çObject.assign()è¿ä¸ªå½æ°æ¥å®ç°è¿ä¸æ­¥çã\n\nä½æ¯ï¼ç¨useStateå®ä¹çä¿®æ¹å½æ° setXxxxï¼ä¾å¦setPersonä¸­ï¼æ§è¡çæ¯ âå¼æ­¥ç´æ¥èµå¼âã\n\nè¯·çå®éæ§è¡çç»æï¼\n\nconsole.log(person);//{name:'puxiao',age:34}\nsetPerson({age:18});\nconsole.log(person);//{age:18}\n\n\næ²¡éï¼è½ç¶åªæ¯å¸æä¿®æ¹ageçå¼ï¼ä½æ¯ç±äºæ¯âç´æ¥èµå¼âï¼å¯¼è´{age:18}æ¿æ¢äºæ´ä¸ª{name:'puxiao',age:34}\n\n# æ­£ç¡®çåæ³ï¼\n\næä»¬éè¦åå°personæ·è´ä¸ä»½ï¼ä¿®æ¹ä¹ååè¿è¡èµå¼ã\n\nlet newData = {...person};\nnewData.age = 18;\nsetPerson(newData);\n\n\nä»¥ä¸ä»£ç è¿æä¸ç§ç®åå½¢å¼ï¼\n\nsetPerson({...person,age:18}); //è¿ç§ç®åæ¯è§£æèµå¼å¸¦æ¥çï¼å¹¶ä¸æ¯Reactæä¾ç\n\n\nä»£ç åæï¼\n1ãåéè¿...personï¼å°åæpersonåä¸æ¬¡è§£æï¼å¾å°ä¸ä»½å¤å¶å(æµæ·è´)ï¼\n2ãä¿®æ¹ageçå¼ï¼\n3ãå°ä¿®æ¹è¿åçæ°æ°æ®ï¼éè¿setPersonèµå¼ç»personï¼\n\nå®æ´ç¤ºä¾ï¼\n\n    import React, { useState } from 'react';\n\n    function Component() {\n\n      const [person, setPerson] = useState({name:'puxiao',age:34});\n\n      const nameChangeHandler = (eve) => {\n        setPerson({...person,name:eve.target.value});\n      }\n\n      const ageChangeHandler = (eve) => {\n        setPerson({...person,age:eve.target.value});\n      }\n\n      return <div>\n        <input type='text' value={person.name} onChange={nameChangeHandler} />\n        <input type='number' value={person.age} onChange={ageChangeHandler} />\n        {JSON.stringify(person)}\n      </div>\n    }\n    export default Component;\n\n\n\n# æ°æ®ç±»åä¸ºArrayçä¿®æ¹æ¹æ³\n\nåæ°æ®ç±»åä¸ºObjectç¸ä¼¼ï¼é½æ¯éè¦éè¿åæ·è´ä¸æ¬¡ï¼ä¿®æ¹ååæ´ä½èµå¼ã\n\nè¿éä¸¾ä¸ä¸ªç®åçå°ä¾å­ï¼ä»¥ä¸ä»£ç å®ç°äºä¸ä¸ªç±»ä¼¼å­¦ä¹ è®¡ååè¡¨çåè½ç»ä»¶ã\n\n    import React, { useState } from 'react';\n\n    function Component() {\n\n      const [str, setStr] = useState('');\n      const [arr, setArr] = useState(['react', 'Koa']);\n\n      const inputChangeHandler = (eve) => {\n        setStr(eve.target.value);\n      }\n\n      const addHeadHandler = (eve) => {\n        setArr([str,...arr]);//æ·»å è³å¤´\n        setStr('');\n      }\n\n      const addEndHandler = (eve) => {\n        setArr([...arr, str]);//æ·»å è³å°¾\n        setStr('');\n      }\n\n      const delHeadHandler = (eve) => {\n        let new_arr = [...arr];\n        new_arr.shift();//ä»å¤´å é¤1é¡¹ç®\n        setArr(new_arr);\n      }\n\n      const delEndHandler = (eve) => {\n        let new_arr = [...arr];\n        new_arr.pop();//ä»å°¾å é¤1é¡¹ç®\n        setArr(new_arr);\n      }\n\n      const delByIndex = (eve) => {\n        let index = eve.target.attributes.index.value;\n        let new_arr = [...arr];\n        new_arr.splice(index,1);//å é¤å½åé¡¹\n        setArr(new_arr);\n      }\n\n      return <div>\n        <input type='text' value={str} onChange={inputChangeHandler} />\n        <button onClick={addHeadHandler} >æ·»å è³å¤´</button>\n        <button onClick={addEndHandler} >æ·»å è³å°¾</button>\n        <button onClick={delHeadHandler} >ä»å¤´å é¤1é¡¹</button>\n        <button onClick={delEndHandler} >ä»å°¾å é¤1é¡¹</button>\n        <ul>\n            {arr.map(\n                (item, index) => {\n                    return <li key={`item${index}`}>å­¦ä¹ {index} -  {item}\n                        <span index={index} onClick={delByIndex} style={{ cursor: 'pointer' }}>å é¤</span>\n                    </li>\n                }\n            )}\n        </ul>\n      </div>\n    }\n\n    export default Component;\n\n\n\n# æ§è½ä¼å\n\néè¿ setXxx è®¾ç½®æ°å¼ï¼ä½æ¯å¦ææ°å¼åå½åå¼å®å¨ä¸æ ·ï¼é£ä¹ä¼å¼åReactéæ°æ¸²æåï¼\n\néè¿Reactå®æ¹ææ¡£å¯ä»¥ç¥éï¼å½ä½¿ç¨ setXxx èµå¼æ¶ï¼Hookä¼ä½¿ç¨Object.is()æ¥å¯¹æ¯å½åå¼åæ°å¼ï¼ç»æä¸ºtrueåä¸æ¸²æï¼ç»æä¸ºfalseå°±ä¼éæ°æ¸²æã\n\nlet str='a';\nObject.is(str,'a'); //true\n\nlet str='18';\nObject.is(str,18); //strä¸ºStringç±»åï¼18ä¸ºNumberç±»åï¼å æ­¤ç»æä¸ºfalse\n\nlet obj={name:'a'};\nObject.is(obj,{name:'a'}); //false\n//è½ç¶objå{name:'a'}å­é¢ä¸ç¸åï¼ä½æ¯obj==={name:'a'}ä¸ºfalseï¼å¹¶ä¸å¨Object.is()è¿ç®ä¸è®¤ä¸ºä¸¤èä¸æ¯åä¸ä¸ªå¯¹è±¡\n//äºå®ä¸ä»ä»¬ç¡®å®ä¸æ¯åä¸ä¸ªå¯¹è±¡ï¼ä»ä»¬åèªå ç¨äºä¸ä»½åå­\n\nlet obj={name:'a'};\nlet a=obj;\nlet b=obj;\nObject.is(a,b); //å ä¸ºaåbé½æåobjï¼å æ­¤ç»æä¸ºtrue\n\n\nç±ä¸é¢æµè¯å¯ä»¥çåºï¼\n1ãå¯¹äºç®åç±»åçå¼ï¼ä¾å¦StringãNumber æ°æ§å¼ä¸æ ·çæåµä¸æ¯ä¸ä¼å¼èµ·éæ°æ¸²æçï¼\n2ãå¯¹äºå¤æç±»åçå¼ï¼å³ä½¿æ°æ§å¼ âçä¸å»æ¯ä¸æ ·çâ ä¹ä¼å¼èµ·éæ°æ¸²æãé¤éæ°æ§å¼æååä¸ä¸ªå¯¹è±¡ï¼æèå¯ä»¥è¯´ææ°æ§å¼åå«æ¯åä¸ä¸ªå¯¹è±¡çå¼ç¨ï¼\n\néç¨å¤æç±»åçå¼ä¸æ¯ä¸å¯ä»¥ç¨ï¼å¾å¤åºæ¯ä¸é½éè¦ç¨å°ï¼ä½æ¯è¯·è®°å¾ä¸é¢çæµè¯ç»æã\n\nä¸ºäºå¯è½å­å¨çæ§è½é®é¢ï¼å¦æå¯ä»¥ï¼æå¥½é¿åä½¿ç¨å¤æç±»åçå¼ã\n\n\n# èªå®ä¹Hook\n\næè°èªå®ä¹Hookï¼å°±æ¯å°Hookå½æ°ä»å½æ°ç»ä»¶ä¸­æ½ç¦»ï¼æ½ç¦»ä¹åå¤ä¸ªå½æ°ç»ä»¶å¯ä»¥å±ç¨è¯¥èªå®ä¹Hookï¼å±äº«è¯¥Hookçé»è¾ã\n\nå ä¸ºç®åä»å­¦ä¹ äºuseStateï¼åå¤å­¦ä¹ å ä¸ªHookå½æ°åï¼ä¼åç¬æ¿åºä¸ä¸ªç¯ç« æ¥è®²è§£å¦ä½èªå®ä¹Hookã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseStateé«çº§ç¨æ³å·²ç»è®²å®ï¼ç¸ä¿¡ä½ å·²ç»ææ¡äºuseStateçä½¿ç¨æ¹æ³ã\n\nuseStateæ¯æ¬ç³»åæç« è®²è§£çç¬¬ä¸ä¸ªHookå½æ°ï¼åæ¶ä¹æ¯ä½¿ç¨é¢çæé«çHookï¼çè³å¯ä»¥è¯´useStateæ¯å½æ°ç»ä»¶å¼åçåºç³ï¼å æ­¤æ¬ç« ç¨æ¾å°å¦ï¼ä½ç®çå°±æ¯å¸æä½ è½çè§£éå½»ã\n\nå¨åé¢è®²è§£å¶ä»Hookå½æ°æ¶ï¼å°ä¼å°½éä½¿ç¨ç®æ´ãé«å·çæç« é£æ ¼ã\n\næ¥ä¸æ¥å­¦ä¹ ç¬¬2ä¸ªHookå½æ°useEffectã",normalizedContent:"# 03 usestateé«çº§ç¨æ³\n\næè°é«çº§ç¨æ³ï¼åªä¸è¿æ¯ä¸äºæ·±å±ç¥è¯ç¹åå®ç¨æå·§ï¼ä½ çè³å¯ä»¥ææ¬ç« å½åå¯¹åé¢ç¥è¯ç¹çä¸ä¸ªå·©åºåå­¦ä¹ ã\n\n\n# æ¢å¤é»è®¤å¼\n\nç»ä»¶éæ±ï¼å®ç°ä¸ä¸ªè®¡æ°å¨ï¼æ3ä¸ªæé®ï¼ç¹å»ååå«å®ç°ï¼æ¢å¤é»è®¤å¼ãç¹å»+1ãç¹å»-1\n\nå®ç°ä»£ç ï¼\n\n    import react, { usestate } from 'react';\n    \n    function component() {\n      const initcount = 0;\n      const [count, setcount] = usestate(initcount);\n    \n      return <div>\n        {count}\n        <button onclick={() => {setcount(initcount)}}>init</button>\n        <button onclick={() => {setcount(count+1)}}>+1</button>\n        <button onclick={() => {setcount(count-1)}}>-1</button>\n      </div>\n    }\n    \n    export default component;\n\n\nä»£ç åæï¼\n1ãéè¿é¢å¤å®ä¹ä¸ä¸ªåéinitcount=0ï¼ä½ä¸ºcountçé»è®¤å¼ï¼\n2ãä»»ä½æ¶åæ³æ¢å¤é»è®¤å¼ï¼ç´æ¥å°initcountèµå¼ç»countï¼\n\n\n# è§£å³æ°æ®å¼æ­¥\n\nè¿æ¯åºäºä¸é¢é£ä¸ªç¤ºä¾ï¼åè®¾ç°å¨æ°å¢1ä¸ªæé®ï¼ç¹å»è¯¥æé®åæ§è¡ä»¥ä¸ä»£ç ï¼\n\nfor(let i=0; i<3; i++){\n  setcount(count+1);\n}\n\n\néè¿forå¾ªç¯ï¼æ§è¡äº3æ¬¡setcount(count+1)ï¼é£ä¹ä½ è§å¾countä¼ +3 åï¼\nç­æ¡æ¯ï¼è¯å®ä¸ä¼\n\næ è®ºforå¾ªç¯æ§è¡å æ¬¡ï¼æç»å®éç»æé½å°æ¯ä»ä»æ§è¡ä¸æ¬¡ +1ã\n\nä¸ºä»ä¹ï¼\nç±»ç»ä»¶ä¸­setstateèµå¼è¿ç¨æ¯å¼æ­¥çï¼åæ ·å¨hookä¸­ setxxx èµå¼ä¹æ¯å¼æ­¥çï¼æ¯å¦ä¸è¿°ä»£ç ä¸­çsetcountã\n\nè½ç¶æ§è¡äº3æ¬¡setcount(count+1)ï¼å¯æ¯æ¯ä¸æ¬¡ä¿®æ¹åçcountå¹¶ä¸æ¯ç«å³çæçãå½ç¬¬2æ¬¡åç¬¬3æ¬¡æ§è¡æ¶è·åå°countçå¼åç¬¬1æ¬¡è·åå°çcountå¼æ¯ä¸æ ·çï¼æä»¥æç»å¶å®ç¸å½äºä»æ§è¡äº1æ¬¡ã\n\n# è§£å³åæ³ï¼\n\nä½ è¯å®ç¬¬ä¸æ¶é´æ³å°çæ¯è¿æ ·è§£å³æ¹å¼ï¼\n\nlet num = count;\nfor(let i=0; i<3; i++){\n  num +=1;\n}\nsetcount(num);\n\n\nè¿æ ·åè¯å®æ²¡é®é¢ï¼åªä¸è¿ææ´ç®ä¾¿ãæ§è½æ´é«çæ¹å¼ã\n\nåç±»ç»ä»¶ä¸­è§£å³å¼æ­¥çåæ³ç±»ä¼¼ï¼å°±æ¯ä¸ç´æ¥èµå¼ï¼èæ¯éç¨âç®­å¤´å½æ°è¿åå¼çå½¢å¼âèµå¼ã\n\næä»£ç ä¿®æ¹ä¸ºï¼\n\nfor(let i=0; i<3; i++){\n  setcount(prevdata => {return prevdata+1});\n  //å¯ä»¥ç®åä¸º setcount(prevdata => prevdata+1);\n}\n\n\nä»£ç åæï¼\n1ãprevdataä¸ºæä»¬å®ä¹çä¸ä¸ªå½¢åï¼æå½åcountåºè¯¥çå¼ï¼\n2ã{return prevdata+1} ä¸­ï¼å° prevdata+1ï¼å¹¶å°è¿ç®ç»æreturnåºå»ãå½ç¶ä¹éå¸¸æ¨èä½¿ç¨æ´å ç®åçåæ³ï¼setcount(prevdata => prevdata+1)ï¼\n3ãæç»å°prevdataèµå¼ç»countï¼\n\nè¡¥åè¯´æï¼ä½ å¯ä»¥å°prevdataä¿®æ¹æä»»æä½ åæ¬¢çåéåç§°ï¼æ¯å¦prevï¼åªéè¦ç¡®ä¿ååé¢returnéçä¸è´å³å¯ã\n\n\n# æ°æ®ç±»åä¸ºobjcetçä¿®æ¹æ¹æ³\n\nä¹åçç¤ºä¾ä¸­ï¼æ¯ä¸ªusestateå¯¹åºçå¼é½æ¯ç®åçstringænumberï¼å¦æå¯¹åºçå¼æ¯objectï¼åè¯¥å¦ä½å¤çå¢ï¼\n\nä¾å¦ï¼\n\nconst [person, setperson] = usestate({name:'puxiao',age:34});\n\n\nè¥æ³å°ageçå¼ä¿®æ¹ä¸º18ï¼è¯¥æä¹åï¼\n\nå¦æä½ æç±»ç»ä»¶ç¼ç¨ç»éªï¼ä½ è¯å®ç¬¬ä¸æ¶é´æ³æ¯è¿æ ·çï¼\n\nsetperson({age:18});\n\n\nå¨ç±»ç»ä»¶ä¸­ï¼setstateæ¯æ§è¡çæ¯âå¼æ­¥å¯¹æ¯ç´¯å èµå¼âï¼ä½ä¸ºâå¯¹æ¯âï¼ å°±æ¯åå¯¹æ¯ä¹åæ°æ®å±æ§ä¸­æ¯å¦æageï¼å¦ææåä¿®æ¹ageå¼ï¼åæ¶ä¸ä¼å½±åå°å¶ä»å±æ§çå¼ãæçæµreactæ¯ä½¿ç¨es6ä¸­æ°å¢å çobject.assign()è¿ä¸ªå½æ°æ¥å®ç°è¿ä¸æ­¥çã\n\nä½æ¯ï¼ç¨usestateå®ä¹çä¿®æ¹å½æ° setxxxxï¼ä¾å¦setpersonä¸­ï¼æ§è¡çæ¯ âå¼æ­¥ç´æ¥èµå¼âã\n\nè¯·çå®éæ§è¡çç»æï¼\n\nconsole.log(person);//{name:'puxiao',age:34}\nsetperson({age:18});\nconsole.log(person);//{age:18}\n\n\næ²¡éï¼è½ç¶åªæ¯å¸æä¿®æ¹ageçå¼ï¼ä½æ¯ç±äºæ¯âç´æ¥èµå¼âï¼å¯¼è´{age:18}æ¿æ¢äºæ´ä¸ª{name:'puxiao',age:34}\n\n# æ­£ç¡®çåæ³ï¼\n\næä»¬éè¦åå°personæ·è´ä¸ä»½ï¼ä¿®æ¹ä¹ååè¿è¡èµå¼ã\n\nlet newdata = {...person};\nnewdata.age = 18;\nsetperson(newdata);\n\n\nä»¥ä¸ä»£ç è¿æä¸ç§ç®åå½¢å¼ï¼\n\nsetperson({...person,age:18}); //è¿ç§ç®åæ¯è§£æèµå¼å¸¦æ¥çï¼å¹¶ä¸æ¯reactæä¾ç\n\n\nä»£ç åæï¼\n1ãåéè¿...personï¼å°åæpersonåä¸æ¬¡è§£æï¼å¾å°ä¸ä»½å¤å¶å(æµæ·è´)ï¼\n2ãä¿®æ¹ageçå¼ï¼\n3ãå°ä¿®æ¹è¿åçæ°æ°æ®ï¼éè¿setpersonèµå¼ç»personï¼\n\nå®æ´ç¤ºä¾ï¼\n\n    import react, { usestate } from 'react';\n\n    function component() {\n\n      const [person, setperson] = usestate({name:'puxiao',age:34});\n\n      const namechangehandler = (eve) => {\n        setperson({...person,name:eve.target.value});\n      }\n\n      const agechangehandler = (eve) => {\n        setperson({...person,age:eve.target.value});\n      }\n\n      return <div>\n        <input type='text' value={person.name} onchange={namechangehandler} />\n        <input type='number' value={person.age} onchange={agechangehandler} />\n        {json.stringify(person)}\n      </div>\n    }\n    export default component;\n\n\n\n# æ°æ®ç±»åä¸ºarrayçä¿®æ¹æ¹æ³\n\nåæ°æ®ç±»åä¸ºobjectç¸ä¼¼ï¼é½æ¯éè¦éè¿åæ·è´ä¸æ¬¡ï¼ä¿®æ¹ååæ´ä½èµå¼ã\n\nè¿éä¸¾ä¸ä¸ªç®åçå°ä¾å­ï¼ä»¥ä¸ä»£ç å®ç°äºä¸ä¸ªç±»ä¼¼å­¦ä¹ è®¡ååè¡¨çåè½ç»ä»¶ã\n\n    import react, { usestate } from 'react';\n\n    function component() {\n\n      const [str, setstr] = usestate('');\n      const [arr, setarr] = usestate(['react', 'koa']);\n\n      const inputchangehandler = (eve) => {\n        setstr(eve.target.value);\n      }\n\n      const addheadhandler = (eve) => {\n        setarr([str,...arr]);//æ·»å è³å¤´\n        setstr('');\n      }\n\n      const addendhandler = (eve) => {\n        setarr([...arr, str]);//æ·»å è³å°¾\n        setstr('');\n      }\n\n      const delheadhandler = (eve) => {\n        let new_arr = [...arr];\n        new_arr.shift();//ä»å¤´å é¤1é¡¹ç®\n        setarr(new_arr);\n      }\n\n      const delendhandler = (eve) => {\n        let new_arr = [...arr];\n        new_arr.pop();//ä»å°¾å é¤1é¡¹ç®\n        setarr(new_arr);\n      }\n\n      const delbyindex = (eve) => {\n        let index = eve.target.attributes.index.value;\n        let new_arr = [...arr];\n        new_arr.splice(index,1);//å é¤å½åé¡¹\n        setarr(new_arr);\n      }\n\n      return <div>\n        <input type='text' value={str} onchange={inputchangehandler} />\n        <button onclick={addheadhandler} >æ·»å è³å¤´</button>\n        <button onclick={addendhandler} >æ·»å è³å°¾</button>\n        <button onclick={delheadhandler} >ä»å¤´å é¤1é¡¹</button>\n        <button onclick={delendhandler} >ä»å°¾å é¤1é¡¹</button>\n        <ul>\n            {arr.map(\n                (item, index) => {\n                    return <li key={`item${index}`}>å­¦ä¹ {index} -  {item}\n                        <span index={index} onclick={delbyindex} style={{ cursor: 'pointer' }}>å é¤</span>\n                    </li>\n                }\n            )}\n        </ul>\n      </div>\n    }\n\n    export default component;\n\n\n\n# æ§è½ä¼å\n\néè¿ setxxx è®¾ç½®æ°å¼ï¼ä½æ¯å¦ææ°å¼åå½åå¼å®å¨ä¸æ ·ï¼é£ä¹ä¼å¼åreactéæ°æ¸²æåï¼\n\néè¿reactå®æ¹ææ¡£å¯ä»¥ç¥éï¼å½ä½¿ç¨ setxxx èµå¼æ¶ï¼hookä¼ä½¿ç¨object.is()æ¥å¯¹æ¯å½åå¼åæ°å¼ï¼ç»æä¸ºtrueåä¸æ¸²æï¼ç»æä¸ºfalseå°±ä¼éæ°æ¸²æã\n\nlet str='a';\nobject.is(str,'a'); //true\n\nlet str='18';\nobject.is(str,18); //strä¸ºstringç±»åï¼18ä¸ºnumberç±»åï¼å æ­¤ç»æä¸ºfalse\n\nlet obj={name:'a'};\nobject.is(obj,{name:'a'}); //false\n//è½ç¶objå{name:'a'}å­é¢ä¸ç¸åï¼ä½æ¯obj==={name:'a'}ä¸ºfalseï¼å¹¶ä¸å¨object.is()è¿ç®ä¸è®¤ä¸ºä¸¤èä¸æ¯åä¸ä¸ªå¯¹è±¡\n//äºå®ä¸ä»ä»¬ç¡®å®ä¸æ¯åä¸ä¸ªå¯¹è±¡ï¼ä»ä»¬åèªå ç¨äºä¸ä»½åå­\n\nlet obj={name:'a'};\nlet a=obj;\nlet b=obj;\nobject.is(a,b); //å ä¸ºaåbé½æåobjï¼å æ­¤ç»æä¸ºtrue\n\n\nç±ä¸é¢æµè¯å¯ä»¥çåºï¼\n1ãå¯¹äºç®åç±»åçå¼ï¼ä¾å¦stringãnumber æ°æ§å¼ä¸æ ·çæåµä¸æ¯ä¸ä¼å¼èµ·éæ°æ¸²æçï¼\n2ãå¯¹äºå¤æç±»åçå¼ï¼å³ä½¿æ°æ§å¼ âçä¸å»æ¯ä¸æ ·çâ ä¹ä¼å¼èµ·éæ°æ¸²æãé¤éæ°æ§å¼æååä¸ä¸ªå¯¹è±¡ï¼æèå¯ä»¥è¯´ææ°æ§å¼åå«æ¯åä¸ä¸ªå¯¹è±¡çå¼ç¨ï¼\n\néç¨å¤æç±»åçå¼ä¸æ¯ä¸å¯ä»¥ç¨ï¼å¾å¤åºæ¯ä¸é½éè¦ç¨å°ï¼ä½æ¯è¯·è®°å¾ä¸é¢çæµè¯ç»æã\n\nä¸ºäºå¯è½å­å¨çæ§è½é®é¢ï¼å¦æå¯ä»¥ï¼æå¥½é¿åä½¿ç¨å¤æç±»åçå¼ã\n\n\n# èªå®ä¹hook\n\næè°èªå®ä¹hookï¼å°±æ¯å°hookå½æ°ä»å½æ°ç»ä»¶ä¸­æ½ç¦»ï¼æ½ç¦»ä¹åå¤ä¸ªå½æ°ç»ä»¶å¯ä»¥å±ç¨è¯¥èªå®ä¹hookï¼å±äº«è¯¥hookçé»è¾ã\n\nå ä¸ºç®åä»å­¦ä¹ äºusestateï¼åå¤å­¦ä¹ å ä¸ªhookå½æ°åï¼ä¼åç¬æ¿åºä¸ä¸ªç¯ç« æ¥è®²è§£å¦ä½èªå®ä¹hookã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºusestateé«çº§ç¨æ³å·²ç»è®²å®ï¼ç¸ä¿¡ä½ å·²ç»ææ¡äºusestateçä½¿ç¨æ¹æ³ã\n\nusestateæ¯æ¬ç³»åæç« è®²è§£çç¬¬ä¸ä¸ªhookå½æ°ï¼åæ¶ä¹æ¯ä½¿ç¨é¢çæé«çhookï¼çè³å¯ä»¥è¯´usestateæ¯å½æ°ç»ä»¶å¼åçåºç³ï¼å æ­¤æ¬ç« ç¨æ¾å°å¦ï¼ä½ç®çå°±æ¯å¸æä½ è½çè§£éå½»ã\n\nå¨åé¢è®²è§£å¶ä»hookå½æ°æ¶ï¼å°ä¼å°½éä½¿ç¨ç®æ´ãé«å·çæç« é£æ ¼ã\n\næ¥ä¸æ¥å­¦ä¹ ç¬¬2ä¸ªhookå½æ°useeffectã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"04 useEffectåºç¡ç¨æ³",frontmatter:{title:"04 useEffectåºç¡ç¨æ³",date:"2023-09-06T17:47:10.000Z",permalink:"/pages/16dc88/"},regularPath:"/03.react/04.useEffect%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95.html",relativePath:"03.react/04.useEffectåºç¡ç¨æ³.md",key:"v-a25d69dc",path:"/pages/16dc88/",headers:[{level:2,title:"useEffectæ¦å¿µè§£é",slug:"useeffectæ¦å¿µè§£é",normalizedTitle:"useeffectæ¦å¿µè§£é",charIndex:23},{level:2,title:"useEffectæ¯æ¥è§£å³ç±»ç»ä»¶ä»ä¹é®é¢çï¼",slug:"useeffectæ¯æ¥è§£å³ç±»ç»ä»¶ä»ä¹é®é¢ç",normalizedTitle:"useeffectæ¯æ¥è§£å³ç±»ç»ä»¶ä»ä¹é®é¢çï¼",charIndex:478},{level:2,title:"useEffectå½æ°æºç ï¼",slug:"useeffectå½æ°æºç ",normalizedTitle:"useeffectå½æ°æºç ï¼",charIndex:1928},{level:2,title:"useEffectåºæ¬ç¨æ³",slug:"useeffectåºæ¬ç¨æ³",normalizedTitle:"useeffectåºæ¬ç¨æ³",charIndex:2319},{level:5,title:"ä»£ç å½¢å¼ï¼",slug:"ä»£ç å½¢å¼",normalizedTitle:"ä»£ç å½¢å¼ï¼",charIndex:2894},{level:5,title:"æè§£è¯´æï¼",slug:"æè§£è¯´æ",normalizedTitle:"æè§£è¯´æï¼",charIndex:3099},{level:4,title:"'effect'è¡¥åè¯´æ",slug:"effect-è¡¥åè¯´æ",normalizedTitle:"'effect'è¡¥åè¯´æ",charIndex:3271},{level:5,title:"'[deps]'è¡¥åè¯´æï¼",slug:"deps-è¡¥åè¯´æ",normalizedTitle:"'[deps]'è¡¥åè¯´æï¼",charIndex:3339},{level:2,title:"useEffectä½¿ç¨ç¤ºä¾ï¼",slug:"useeffectä½¿ç¨ç¤ºä¾",normalizedTitle:"useeffectä½¿ç¨ç¤ºä¾ï¼",charIndex:3561}],headersStr:"useEffectæ¦å¿µè§£é useEffectæ¯æ¥è§£å³ç±»ç»ä»¶ä»ä¹é®é¢çï¼ useEffectå½æ°æºç ï¼ useEffectåºæ¬ç¨æ³ ä»£ç å½¢å¼ï¼ æè§£è¯´æï¼ 'effect'è¡¥åè¯´æ '[deps]'è¡¥åè¯´æï¼ useEffectä½¿ç¨ç¤ºä¾ï¼",content:"# 04 useEffectåºç¡ç¨æ³\n\n\n# useEffectæ¦å¿µè§£é\n\næä»¬ç¬¬äºä¸ªè¦å­¦ä¹ çHook(é©å­å½æ°)æ¯useEffectï¼ä»çä½ç¨æ¯âå¾ä½âå½æ°ç»ä»¶ä¸­æäºçå½å¨æå½æ°ã\n\né½è½å¾ä½åªäºçå½å¨æå½æ°ï¼\nç­ï¼componentDidMount(ç»ä»¶è¢«æè½½å®æå)ãcomponentDidUpdate(ç»ä»¶éæ°æ¸²æå®æå)ãcomponentWillUnmount(ç»ä»¶å³å°è¢«å¸è½½å)\n\nä¸ºä»ä¹æ¯è¿3ä¸ªçå½å¨æå½æ°ï¼\nç­ï¼å ä¸ºä¿®æ¹æ°æ®æä»¬å¯ä»¥ä½¿ç¨åé¢å­¦å°çuseStateï¼æ°æ®åæ´ä¼è§¦åç»ä»¶éæ°æ¸²æï¼ä¸é¢3ä¸ªå°±æ¯åç»ä»¶æ¸²æå³èæç´§å¯ççå½å¨æå½æ°ã\n\né£å¶ä»çå½å¨æå½æ°å¢ï¼\nç­ï¼è¯¥é®é¢çåç­ï¼å¼ç¨Reactå®æ¹ä¸­æææ¡£FAQï¼å¦ä¸\n\n> æä»¬ç» Hook è®¾å®çç®æ æ¯å°½æ©è¦ç class çææä½¿ç¨åºæ¯ãç®åææ¶è¿æ²¡æå¯¹åºä¸å¸¸ç¨ç getSnapshotBeforeUpdateï¼getDerivedStateFromError å componentDidCatch çå½å¨æç Hook ç­ä»·åæ³ï¼ä½æä»¬è®¡åå°½æ©æå®ä»¬å è¿æ¥ã\n\n\n# useEffectæ¯æ¥è§£å³ç±»ç»ä»¶ä»ä¹é®é¢çï¼\n\nç­ï¼useEffectæ¯æ¥è§£å³ç±»ç»ä»¶ æäºæ§è¡ä»£ç è¢«åæ£å¨ä¸åççå½å¨æå½æ°ä¸­ çé®é¢ã\n\nä¸¾ä¾1ï¼è¥æç±»ç»ä»¶ä¸­æåéaï¼é»è®¤å¼ä¸º0ï¼å½ç»ä»¶ç¬¬ä¸æ¬¡è¢«æè½½åæç»ä»¶éæ°æ¸²æåï¼å°ç½é¡µæ é¢æ¾ç¤ºä¸ºaçå¼ã\né£ä¹å¨ç±»ç»ä»¶éï¼æä»¬éè¦åçä»£ç æ¯ï¼\n\n//ä¸ºäºæ´å æ¸æ¥çå°æ¯æ¬¡æ¸²æï¼æä»¬å¨ç½é¡µæ é¢ä¸­ a çåé¢åå¢å ä¸ä¸ªéæºæ°å­\ncomponentDidMount(){\n    document.title = `${this.state.a} - ${Math.floor(Math.random()*100)}`;\n}\ncomponentDidUpdate(){\n    document.title = `${this.state.a} - ${Math.floor(Math.random()*100)}`;\n}\n\n\nä»ä¸é¢è¿ç§ä»£ç éä½ ä¼çå°ï¼ä¸ºäºä¿è¯ç¬¬ä¸æ¬¡è¢«æè½½ãç»ä»¶éæ°æ¸²æåé½æ§è¡ä¿®æ¹ç½é¡µæ é¢çè¡ä¸ºï¼ç¸åçä»£ç æä»¬éè¦åå«å¨componentDidMountãcomponentDidUpdateä¸­å2æ¬¡ã\n\nä¸¾ä¾2ï¼åè®¾éè¦ç»ä¸é¢é£ä¸ªç»ä»¶æ°å¢ä¸ä¸ªåè½ï¼å½ç»ä»¶ç¬¬ä¸æ¬¡è¢«æè½½åæ§è¡ä¸ä¸ªèªå¨ç´¯å å¨ setIntervalï¼æ¯1ç§ a çå¼+1ãä¸ºäºé²æ­¢åå­æ³é²ï¼æä»¬å¨è¯¥ç»ä»¶å³å°è¢«å¸è½½åæ¸é¤æè¯¥ç´¯å å¨ã\né£ä¹å¨ç±»ç»ä»¶éï¼æä»¬éè¦åçä»£ç æ¯ï¼\n\ntimer = null;//æ°å¢ä¸ä¸ªå¯åé¨è®¿é®çç´¯å å¨åé(æ³¨ï¼ç±»ç»ä»¶å®ä¹å±æ§æ¶åé¢æ æ³ä½¿ç¨ var/let/const)\ncomponentDidMount(){\n    document.title = `${this.state.a} - ${Math.floor(Math.random()*100)}`;\n    this.timer = setInterval(() => {this.setState({a:this.state.a+1})}, 1000);//æ·»å ç´¯å å¨\n}\ncomponentDidUpdate(){\n    document.title = `${this.state.a} - ${Math.floor(Math.random()*100)}`; \n}\ncomponentWillUnmount(){\n    clearInterval(this.timer);//æ¸é¤ç´¯å å¨\n}\n\n\nä»ä¸é¢ä»£ç å¯ä»¥çå°ï¼å¢å ç´¯å å¨åæ¸é¤ç´¯å å¨è¿2ä¸ªç¸å³çæ§è¡ä»£ç è¢«åå«å®ä¹å¨componentDidMountãcomponentWillUnmountè¿ä¸¤ä¸ªçå½å¨æå½æ°ä¸­ã\n\nä¸¾ä¾3ï¼åè®¾ç»ä¸é¢çç»ä»¶åæ°å¢ä¸ä¸ªåé bï¼å½ b çå¼åçåååä¹ä¼å¼åç»ä»¶éæ°æ¸²æï¼ç¶åå¢ï¼æä»ä¹éæ£åï¼\nç­ï¼b çå¼æ¹åå¼åç»ä»¶éæ°æ¸²æï¼ç¶åè¯å®æ¯ä¼è§¦åcomponentDidUpdateå½æ°ï¼è¿æ¶ä¼è®©ä¿®æ¹ç½é¡µæ é¢çä»£ç åæ¬¡æ§è¡ä¸æ¬¡ï¼å°½ç®¡æ­¤æ¶açå¼å¹¶æ²¡æåçä»»ä½ååã\n\nåæ¥åé¡¾ä¸ä¸ä¸é¢ç3ä¸ªä¾å­ï¼\n1ãä¸¾ä¾1ä¸­ï¼ç¸åçä»£ç å¯è½éè¦å¨ä¸åçå½å¨æå½æ°ä¸­å2æ¬¡ï¼\n2ãä¸¾ä¾2ä¸­ï¼ç¸å³çä»£ç å¯è½éè¦å¨ä¸åçå½å¨æå½æ°ä¸­å®ä¹ï¼\n3ãä¸¾ä¾3ä¸­ï¼æ è®ºæ¯åªä¸ªåå å¼åçç»ä»¶éæ°æ¸²æï¼é½ä¼è§¦åçå½å¨æå½æ°çæ§è¡ï¼é æä¸äºä¸å¿è¦çä»£ç æ§è¡ï¼\n\nä»¥ä¸å°±æ¯ ç±»ç»ä»¶âæäºæ§è¡ä»£ç è¢«åæ£å¨ä¸åççå½å¨æå½æ°ä¸­âå¼åçé®é¢å·ä½è¡¨ç°ï¼èuseEffectå°±æ¯æ¥è§£å³è¿äºé®é¢çã\n\næ¥ä¸æ¥å¼å§å­¦ä¹ useStateã\n\n\n# useEffectå½æ°æºç ï¼\n\nåå°useEffectçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸Reactæºç ä¸­çReactHooks.jsã\n\n//å¤æ³¨ï¼æºç éç¨TypeScriptç¼åï¼å¦æä¸æTSä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\nexport function useEffect(\n  create: () => (() => void) | void,\n  deps: Array<mixed> | void | null,\n): void {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useEffect(create, deps);\n}\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨Hookâï¼å¹¶ä¸æ¯âHookæºç åæâãä¹æä»¥è´´åºæºç åªæ¯ä¸ºäºè®©ä½ ä»¥åä¹å¯ä»¥ç»é¢è¯å®å¹åä½ è¯»è¿Reactæºç ã^_^\n\n\n# useEffectåºæ¬ç¨æ³\n\nuseEffect(effect,[deps])å½æ°å¯ä»¥ä¼ å¥2ä¸ªåæ°ï¼ç¬¬1ä¸ªåæ°ä¸ºæä»¬å®ä¹çæ§è¡å½æ°ãç¬¬2ä¸ªåæ°æ¯ä¾èµå³ç³»(å¯éåæ°)ãè¥ä¸ä¸ªå½æ°ç»ä»¶ä¸­å®ä¹äºå¤ä¸ªuseEffectï¼é£ä¹ä»ä»¬å®éæ§è¡é¡ºåºæ¯æç§å¨ä»£ç ä¸­å®ä¹çååé¡ºåºæ¥æ§è¡çã\n\nå·ä½è¯´æå¦ä¸ï¼\nç¬¬1ä¸ªå¼effectæ¯ä¸ä¸ªfunctionï¼ç¨æ¥ç¼åuseEffectå¯¹åºçæ§è¡ä»£ç ã\nè¿è®°å¾æ¬æå¼å¤´æå°çuseEffectè½å¾ä½åª3ä¸ªçå½å¨æå½æ°åï¼\ncomponentDidMountãcomponentDidUpdateãcomponentWillUnmount ï¼å½ä¸è¿°3ä¸ªçå½å¨æå½æ°æ§è¡åï¼å°±ä¼è§¦åuseEffectå½æ°ï¼è¿èæ§è¡èç¬¬1ä¸ªåæ° effect ä¸­çåå®¹ã\n\nç»ä»¶æè½½å(componentDidMount)ä¸ç»ä»¶éæ°æ¸²æå(componentDidUpdate)å¯¹åºçä»£ç åå¹¶ä¸ºä¸ä¸ªå½æ°è¿ä¸ªå®¹æçè§£ï¼å¯æ¯ç»ä»¶å¸è½½å(componentWillUnmount)ä¹è½èå¥è¿æ¥ï¼\nç­ï¼æ¯çï¼éè¿å¨ effect ä¸­ return ä¸ä¸ªå½æ°æ¥å®ç°çã\n\nå³äºç¬¬2ä¸ªåæ° [deps] ï¼åç¥éè¿ä¸ªæ¯å¯éåæ°ï¼æ¯Hookç¨æ¥åReactè¡¨æuseEffectä¾èµå³ç³»çå³å¯ãå³äºå®çç¨æ³ä¼å¨useEffecté«çº§ç¨æ³ä¸­ææ´å¤è¯¦ç»è®²è¿°ã\n\n# ä»£ç å½¢å¼ï¼\n\nuseEffect(() => {\n    //æ­¤å¤ç¼å ç»ä»¶æè½½ä¹ååç»ä»¶éæ°æ¸²æä¹åæ§è¡çä»£ç \n    ...\n\n    return () => {\n        //æ­¤å¤ç¼å ç»ä»¶å³å°è¢«å¸è½½åæ§è¡çä»£ç \n        ...\n    }\n},[deps])\n\n\nä¹åè¯´è¿useEffectç¬¬1ä¸ªåæ° effect æ¯ä¸ª functionï¼åªæ¯è¿ä¸ª function ç¨æ¾å¤æã\n\n# æè§£è¯´æï¼\n\n1ãeffect å½æ°ä¸»ä½åå®¹ä¸­çä»£ç ï¼å°±æ¯ç»ä»¶æè½½ä¹ååç»ä»¶éæ°æ¸²æä¹åä½ éè¦æ§è¡çä»£ç ï¼\n2ãeffect å½æ° return åºå»çè¿åå½æ°ä¸»ä½åå®¹ä¸­çä»£ç ï¼å°±æ¯ç»ä»¶å³å°è¢«å¸è½½åä½ éè¦æ§è¡çä»£ç ï¼\n3ãç¬¬2ä¸ªåæ° [deps]ï¼ä¸ºå¯éåæ°ï¼è¥æå¼ååReactè¡¨æè¯¥useEffectæ¯ä¾èµåªäºåéåçæ¹åèè§¦åçï¼\n\n# 'effect'è¡¥åè¯´æ\n\n1ãè¥ä½ ä¸éè¦å¨ç»ä»¶å¸è½½åæ§è¡ä»»ä½ä»£ç ï¼é£ä¹å¯ä»¥å¿½ç¥ä¸å effect ä¸­ç returnç¸å³ä»£ç ï¼\n\n# '[deps]'è¡¥åè¯´æï¼\n\n1ãè¥ç¼ºçï¼åç»ä»¶æè½½ãç»ä»¶éæ°æ¸²æãç»ä»¶å³å°è¢«å¸è½½åï¼æ¯ä¸æ¬¡é½ä¼è§¦åè¯¥useEffectï¼\n3ãè¥ä¼ å¼ï¼åå¿é¡»ä¸ºæ°ç»ï¼æ°ç»çåå®¹æ¯å½æ°ç»ä»¶ä¸­éè¿useStateèªå®ä¹çåéæèæ¯ç¶ç»ä»¶ä¼ å¼è¿æ¥çpropsä¸­çåéï¼åè¯Reactåªææ°ç»åçåéåçååæ¶æä¼è§¦åuseEffectï¼\n4ãè¥ä¼ å¼ï¼ä½æ¯ä¼ çæ¯ç©ºæ°ç» []ï¼åè¡¨ç¤ºè¯¥useEffectéçåå®¹ä»ä¼å¨âæè½½å®æååç»ä»¶å³å°è¢«å¸è½½åâæ§è¡ä¸æ¬¡ï¼\n\n\n# useEffectä½¿ç¨ç¤ºä¾ï¼\n\nè¿è®°å¾æ¬æä¸é¢å³äº ç±»ç»ä»¶âæäºæ§è¡ä»£ç è¢«åæ£å¨ä¸åççå½å¨æå½æ°ä¸­âå¼åçé®é¢æ¶ï¼æä¸¾ç3ä¸ªä¾å­åï¼\næä»¬ç¨Hookæ¥ä¾æ¬¡åå«å®ç°ä¸¾ä¾1ãä¸¾ä¾2ãä¸¾ä¾3ï¼éè¿3ä¸ªåè½çä»£ç ç¤ºä¾ï¼è®©ä½ æç½useEffectçå·ä½ç¨æ³ã\n\nä¸¾ä¾1ï¼è¥æç±»ç»ä»¶ä¸­æåéaï¼é»è®¤å¼ä¸º0ï¼å½ç»ä»¶ç¬¬ä¸æ¬¡è¢«æè½½åæç»ä»¶éæ°æ¸²æåï¼å°ç½é¡µæ é¢æ¾ç¤ºä¸ºaçå¼ã\nè¡¥åè¯´æï¼\n1ãä¸ºäºè®© a çå¼å¯ä»¥åçååï¼æä»¬å¨ç»ä»¶ä¸­æ·»å ä¸ä¸ªæé®ï¼æ¯æ¬¡ç¹å» a çå¼ +1\n2ãä¸ºäºæ´å æ¸æ¥çå°æ¯æ¬¡æ¸²æï¼æä»¬å¨ç½é¡µæ é¢ä¸­ a çåé¢åå¢å ä¸ä¸ªéæºæ°å­\n\nimport React, { useState,useEffect} from 'react';\n\nfunction Component() {\n  const [a, setA] = useState(0);//å®ä¹åéaï¼å¹¶ä¸é»è®¤å¼ä¸º0\n  useEffect(() => {\n      //æ è®ºæ¯ç¬¬ä¸æ¬¡æè½½è¿æ¯ä»¥åæ¯æ¬¡ç»ä»¶æ´æ°ï¼ä¿®æ¹ç½é¡µæ é¢çæ§è¡ä»£ç åªéè¦å¨è¿éåä¸æ¬¡å³å¯\n      document.title = `${a} - ${Math.floor(Math.random()*100)}`;\n  })\n  const clickAbtHandler = (eve) =>{\n      setA(a+1);\n  }\n  return <div>\n      {a}\n      <button onClick={clickAbtHandler}>a+1</button>\n    </div>\n}\n\nexport default Component;\n\n\nä»ä¸è¿°ä»£ç å¯ä»¥çåºï¼âç±»ç»ä»¶ä¸­ç¸åçä»£ç å¯è½éè¦å¨ä¸åçå½å¨æå½æ°ä¸­å2æ¬¡âè¿ä¸ªé®é¢å·²éè¿Hook useEffectå·²è§£å³ã\n\nè¿éåªæ¯å®ç°å ä¸¾ä¾1 ä¸­çåè½ï¼æ¯useEffectæåºç¡çç¨æ³ãä¸¾ä¾2ãä¸¾ä¾3 ä¸­çåè½å®ç°æä»¬æ¾å° useEffect é«çº§ç¨æ³ ä¸­æ¥è®²è§£ã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseEffectåºç¡ç¨æ³å·²ç»è®²å®ã",normalizedContent:"# 04 useeffectåºç¡ç¨æ³\n\n\n# useeffectæ¦å¿µè§£é\n\næä»¬ç¬¬äºä¸ªè¦å­¦ä¹ çhook(é©å­å½æ°)æ¯useeffectï¼ä»çä½ç¨æ¯âå¾ä½âå½æ°ç»ä»¶ä¸­æäºçå½å¨æå½æ°ã\n\né½è½å¾ä½åªäºçå½å¨æå½æ°ï¼\nç­ï¼componentdidmount(ç»ä»¶è¢«æè½½å®æå)ãcomponentdidupdate(ç»ä»¶éæ°æ¸²æå®æå)ãcomponentwillunmount(ç»ä»¶å³å°è¢«å¸è½½å)\n\nä¸ºä»ä¹æ¯è¿3ä¸ªçå½å¨æå½æ°ï¼\nç­ï¼å ä¸ºä¿®æ¹æ°æ®æä»¬å¯ä»¥ä½¿ç¨åé¢å­¦å°çusestateï¼æ°æ®åæ´ä¼è§¦åç»ä»¶éæ°æ¸²æï¼ä¸é¢3ä¸ªå°±æ¯åç»ä»¶æ¸²æå³èæç´§å¯ççå½å¨æå½æ°ã\n\né£å¶ä»çå½å¨æå½æ°å¢ï¼\nç­ï¼è¯¥é®é¢çåç­ï¼å¼ç¨reactå®æ¹ä¸­æææ¡£faqï¼å¦ä¸\n\n> æä»¬ç» hook è®¾å®çç®æ æ¯å°½æ©è¦ç class çææä½¿ç¨åºæ¯ãç®åææ¶è¿æ²¡æå¯¹åºä¸å¸¸ç¨ç getsnapshotbeforeupdateï¼getderivedstatefromerror å componentdidcatch çå½å¨æç hook ç­ä»·åæ³ï¼ä½æä»¬è®¡åå°½æ©æå®ä»¬å è¿æ¥ã\n\n\n# useeffectæ¯æ¥è§£å³ç±»ç»ä»¶ä»ä¹é®é¢çï¼\n\nç­ï¼useeffectæ¯æ¥è§£å³ç±»ç»ä»¶ æäºæ§è¡ä»£ç è¢«åæ£å¨ä¸åççå½å¨æå½æ°ä¸­ çé®é¢ã\n\nä¸¾ä¾1ï¼è¥æç±»ç»ä»¶ä¸­æåéaï¼é»è®¤å¼ä¸º0ï¼å½ç»ä»¶ç¬¬ä¸æ¬¡è¢«æè½½åæç»ä»¶éæ°æ¸²æåï¼å°ç½é¡µæ é¢æ¾ç¤ºä¸ºaçå¼ã\né£ä¹å¨ç±»ç»ä»¶éï¼æä»¬éè¦åçä»£ç æ¯ï¼\n\n//ä¸ºäºæ´å æ¸æ¥çå°æ¯æ¬¡æ¸²æï¼æä»¬å¨ç½é¡µæ é¢ä¸­ a çåé¢åå¢å ä¸ä¸ªéæºæ°å­\ncomponentdidmount(){\n    document.title = `${this.state.a} - ${math.floor(math.random()*100)}`;\n}\ncomponentdidupdate(){\n    document.title = `${this.state.a} - ${math.floor(math.random()*100)}`;\n}\n\n\nä»ä¸é¢è¿ç§ä»£ç éä½ ä¼çå°ï¼ä¸ºäºä¿è¯ç¬¬ä¸æ¬¡è¢«æè½½ãç»ä»¶éæ°æ¸²æåé½æ§è¡ä¿®æ¹ç½é¡µæ é¢çè¡ä¸ºï¼ç¸åçä»£ç æä»¬éè¦åå«å¨componentdidmountãcomponentdidupdateä¸­å2æ¬¡ã\n\nä¸¾ä¾2ï¼åè®¾éè¦ç»ä¸é¢é£ä¸ªç»ä»¶æ°å¢ä¸ä¸ªåè½ï¼å½ç»ä»¶ç¬¬ä¸æ¬¡è¢«æè½½åæ§è¡ä¸ä¸ªèªå¨ç´¯å å¨ setintervalï¼æ¯1ç§ a çå¼+1ãä¸ºäºé²æ­¢åå­æ³é²ï¼æä»¬å¨è¯¥ç»ä»¶å³å°è¢«å¸è½½åæ¸é¤æè¯¥ç´¯å å¨ã\né£ä¹å¨ç±»ç»ä»¶éï¼æä»¬éè¦åçä»£ç æ¯ï¼\n\ntimer = null;//æ°å¢ä¸ä¸ªå¯åé¨è®¿é®çç´¯å å¨åé(æ³¨ï¼ç±»ç»ä»¶å®ä¹å±æ§æ¶åé¢æ æ³ä½¿ç¨ var/let/const)\ncomponentdidmount(){\n    document.title = `${this.state.a} - ${math.floor(math.random()*100)}`;\n    this.timer = setinterval(() => {this.setstate({a:this.state.a+1})}, 1000);//æ·»å ç´¯å å¨\n}\ncomponentdidupdate(){\n    document.title = `${this.state.a} - ${math.floor(math.random()*100)}`; \n}\ncomponentwillunmount(){\n    clearinterval(this.timer);//æ¸é¤ç´¯å å¨\n}\n\n\nä»ä¸é¢ä»£ç å¯ä»¥çå°ï¼å¢å ç´¯å å¨åæ¸é¤ç´¯å å¨è¿2ä¸ªç¸å³çæ§è¡ä»£ç è¢«åå«å®ä¹å¨componentdidmountãcomponentwillunmountè¿ä¸¤ä¸ªçå½å¨æå½æ°ä¸­ã\n\nä¸¾ä¾3ï¼åè®¾ç»ä¸é¢çç»ä»¶åæ°å¢ä¸ä¸ªåé bï¼å½ b çå¼åçåååä¹ä¼å¼åç»ä»¶éæ°æ¸²æï¼ç¶åå¢ï¼æä»ä¹éæ£åï¼\nç­ï¼b çå¼æ¹åå¼åç»ä»¶éæ°æ¸²æï¼ç¶åè¯å®æ¯ä¼è§¦åcomponentdidupdateå½æ°ï¼è¿æ¶ä¼è®©ä¿®æ¹ç½é¡µæ é¢çä»£ç åæ¬¡æ§è¡ä¸æ¬¡ï¼å°½ç®¡æ­¤æ¶açå¼å¹¶æ²¡æåçä»»ä½ååã\n\nåæ¥åé¡¾ä¸ä¸ä¸é¢ç3ä¸ªä¾å­ï¼\n1ãä¸¾ä¾1ä¸­ï¼ç¸åçä»£ç å¯è½éè¦å¨ä¸åçå½å¨æå½æ°ä¸­å2æ¬¡ï¼\n2ãä¸¾ä¾2ä¸­ï¼ç¸å³çä»£ç å¯è½éè¦å¨ä¸åçå½å¨æå½æ°ä¸­å®ä¹ï¼\n3ãä¸¾ä¾3ä¸­ï¼æ è®ºæ¯åªä¸ªåå å¼åçç»ä»¶éæ°æ¸²æï¼é½ä¼è§¦åçå½å¨æå½æ°çæ§è¡ï¼é æä¸äºä¸å¿è¦çä»£ç æ§è¡ï¼\n\nä»¥ä¸å°±æ¯ ç±»ç»ä»¶âæäºæ§è¡ä»£ç è¢«åæ£å¨ä¸åççå½å¨æå½æ°ä¸­âå¼åçé®é¢å·ä½è¡¨ç°ï¼èuseeffectå°±æ¯æ¥è§£å³è¿äºé®é¢çã\n\næ¥ä¸æ¥å¼å§å­¦ä¹ usestateã\n\n\n# useeffectå½æ°æºç ï¼\n\nåå°useeffectçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸reactæºç ä¸­çreacthooks.jsã\n\n//å¤æ³¨ï¼æºç éç¨typescriptç¼åï¼å¦æä¸ætsä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\nexport function useeffect(\n  create: () => (() => void) | void,\n  deps: array<mixed> | void | null,\n): void {\n  const dispatcher = resolvedispatcher();\n  return dispatcher.useeffect(create, deps);\n}\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨hookâï¼å¹¶ä¸æ¯âhookæºç åæâãä¹æä»¥è´´åºæºç åªæ¯ä¸ºäºè®©ä½ ä»¥åä¹å¯ä»¥ç»é¢è¯å®å¹åä½ è¯»è¿reactæºç ã^_^\n\n\n# useeffectåºæ¬ç¨æ³\n\nuseeffect(effect,[deps])å½æ°å¯ä»¥ä¼ å¥2ä¸ªåæ°ï¼ç¬¬1ä¸ªåæ°ä¸ºæä»¬å®ä¹çæ§è¡å½æ°ãç¬¬2ä¸ªåæ°æ¯ä¾èµå³ç³»(å¯éåæ°)ãè¥ä¸ä¸ªå½æ°ç»ä»¶ä¸­å®ä¹äºå¤ä¸ªuseeffectï¼é£ä¹ä»ä»¬å®éæ§è¡é¡ºåºæ¯æç§å¨ä»£ç ä¸­å®ä¹çååé¡ºåºæ¥æ§è¡çã\n\nå·ä½è¯´æå¦ä¸ï¼\nç¬¬1ä¸ªå¼effectæ¯ä¸ä¸ªfunctionï¼ç¨æ¥ç¼åuseeffectå¯¹åºçæ§è¡ä»£ç ã\nè¿è®°å¾æ¬æå¼å¤´æå°çuseeffectè½å¾ä½åª3ä¸ªçå½å¨æå½æ°åï¼\ncomponentdidmountãcomponentdidupdateãcomponentwillunmount ï¼å½ä¸è¿°3ä¸ªçå½å¨æå½æ°æ§è¡åï¼å°±ä¼è§¦åuseeffectå½æ°ï¼è¿èæ§è¡èç¬¬1ä¸ªåæ° effect ä¸­çåå®¹ã\n\nç»ä»¶æè½½å(componentdidmount)ä¸ç»ä»¶éæ°æ¸²æå(componentdidupdate)å¯¹åºçä»£ç åå¹¶ä¸ºä¸ä¸ªå½æ°è¿ä¸ªå®¹æçè§£ï¼å¯æ¯ç»ä»¶å¸è½½å(componentwillunmount)ä¹è½èå¥è¿æ¥ï¼\nç­ï¼æ¯çï¼éè¿å¨ effect ä¸­ return ä¸ä¸ªå½æ°æ¥å®ç°çã\n\nå³äºç¬¬2ä¸ªåæ° [deps] ï¼åç¥éè¿ä¸ªæ¯å¯éåæ°ï¼æ¯hookç¨æ¥åreactè¡¨æuseeffectä¾èµå³ç³»çå³å¯ãå³äºå®çç¨æ³ä¼å¨useeffecté«çº§ç¨æ³ä¸­ææ´å¤è¯¦ç»è®²è¿°ã\n\n# ä»£ç å½¢å¼ï¼\n\nuseeffect(() => {\n    //æ­¤å¤ç¼å ç»ä»¶æè½½ä¹ååç»ä»¶éæ°æ¸²æä¹åæ§è¡çä»£ç \n    ...\n\n    return () => {\n        //æ­¤å¤ç¼å ç»ä»¶å³å°è¢«å¸è½½åæ§è¡çä»£ç \n        ...\n    }\n},[deps])\n\n\nä¹åè¯´è¿useeffectç¬¬1ä¸ªåæ° effect æ¯ä¸ª functionï¼åªæ¯è¿ä¸ª function ç¨æ¾å¤æã\n\n# æè§£è¯´æï¼\n\n1ãeffect å½æ°ä¸»ä½åå®¹ä¸­çä»£ç ï¼å°±æ¯ç»ä»¶æè½½ä¹ååç»ä»¶éæ°æ¸²æä¹åä½ éè¦æ§è¡çä»£ç ï¼\n2ãeffect å½æ° return åºå»çè¿åå½æ°ä¸»ä½åå®¹ä¸­çä»£ç ï¼å°±æ¯ç»ä»¶å³å°è¢«å¸è½½åä½ éè¦æ§è¡çä»£ç ï¼\n3ãç¬¬2ä¸ªåæ° [deps]ï¼ä¸ºå¯éåæ°ï¼è¥æå¼ååreactè¡¨æè¯¥useeffectæ¯ä¾èµåªäºåéåçæ¹åèè§¦åçï¼\n\n# 'effect'è¡¥åè¯´æ\n\n1ãè¥ä½ ä¸éè¦å¨ç»ä»¶å¸è½½åæ§è¡ä»»ä½ä»£ç ï¼é£ä¹å¯ä»¥å¿½ç¥ä¸å effect ä¸­ç returnç¸å³ä»£ç ï¼\n\n# '[deps]'è¡¥åè¯´æï¼\n\n1ãè¥ç¼ºçï¼åç»ä»¶æè½½ãç»ä»¶éæ°æ¸²æãç»ä»¶å³å°è¢«å¸è½½åï¼æ¯ä¸æ¬¡é½ä¼è§¦åè¯¥useeffectï¼\n3ãè¥ä¼ å¼ï¼åå¿é¡»ä¸ºæ°ç»ï¼æ°ç»çåå®¹æ¯å½æ°ç»ä»¶ä¸­éè¿usestateèªå®ä¹çåéæèæ¯ç¶ç»ä»¶ä¼ å¼è¿æ¥çpropsä¸­çåéï¼åè¯reactåªææ°ç»åçåéåçååæ¶æä¼è§¦åuseeffectï¼\n4ãè¥ä¼ å¼ï¼ä½æ¯ä¼ çæ¯ç©ºæ°ç» []ï¼åè¡¨ç¤ºè¯¥useeffectéçåå®¹ä»ä¼å¨âæè½½å®æååç»ä»¶å³å°è¢«å¸è½½åâæ§è¡ä¸æ¬¡ï¼\n\n\n# useeffectä½¿ç¨ç¤ºä¾ï¼\n\nè¿è®°å¾æ¬æä¸é¢å³äº ç±»ç»ä»¶âæäºæ§è¡ä»£ç è¢«åæ£å¨ä¸åççå½å¨æå½æ°ä¸­âå¼åçé®é¢æ¶ï¼æä¸¾ç3ä¸ªä¾å­åï¼\næä»¬ç¨hookæ¥ä¾æ¬¡åå«å®ç°ä¸¾ä¾1ãä¸¾ä¾2ãä¸¾ä¾3ï¼éè¿3ä¸ªåè½çä»£ç ç¤ºä¾ï¼è®©ä½ æç½useeffectçå·ä½ç¨æ³ã\n\nä¸¾ä¾1ï¼è¥æç±»ç»ä»¶ä¸­æåéaï¼é»è®¤å¼ä¸º0ï¼å½ç»ä»¶ç¬¬ä¸æ¬¡è¢«æè½½åæç»ä»¶éæ°æ¸²æåï¼å°ç½é¡µæ é¢æ¾ç¤ºä¸ºaçå¼ã\nè¡¥åè¯´æï¼\n1ãä¸ºäºè®© a çå¼å¯ä»¥åçååï¼æä»¬å¨ç»ä»¶ä¸­æ·»å ä¸ä¸ªæé®ï¼æ¯æ¬¡ç¹å» a çå¼ +1\n2ãä¸ºäºæ´å æ¸æ¥çå°æ¯æ¬¡æ¸²æï¼æä»¬å¨ç½é¡µæ é¢ä¸­ a çåé¢åå¢å ä¸ä¸ªéæºæ°å­\n\nimport react, { usestate,useeffect} from 'react';\n\nfunction component() {\n  const [a, seta] = usestate(0);//å®ä¹åéaï¼å¹¶ä¸é»è®¤å¼ä¸º0\n  useeffect(() => {\n      //æ è®ºæ¯ç¬¬ä¸æ¬¡æè½½è¿æ¯ä»¥åæ¯æ¬¡ç»ä»¶æ´æ°ï¼ä¿®æ¹ç½é¡µæ é¢çæ§è¡ä»£ç åªéè¦å¨è¿éåä¸æ¬¡å³å¯\n      document.title = `${a} - ${math.floor(math.random()*100)}`;\n  })\n  const clickabthandler = (eve) =>{\n      seta(a+1);\n  }\n  return <div>\n      {a}\n      <button onclick={clickabthandler}>a+1</button>\n    </div>\n}\n\nexport default component;\n\n\nä»ä¸è¿°ä»£ç å¯ä»¥çåºï¼âç±»ç»ä»¶ä¸­ç¸åçä»£ç å¯è½éè¦å¨ä¸åçå½å¨æå½æ°ä¸­å2æ¬¡âè¿ä¸ªé®é¢å·²éè¿hook useeffectå·²è§£å³ã\n\nè¿éåªæ¯å®ç°å ä¸¾ä¾1 ä¸­çåè½ï¼æ¯useeffectæåºç¡çç¨æ³ãä¸¾ä¾2ãä¸¾ä¾3 ä¸­çåè½å®ç°æä»¬æ¾å° useeffect é«çº§ç¨æ³ ä¸­æ¥è®²è§£ã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseeffectåºç¡ç¨æ³å·²ç»è®²å®ã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"05 useEffecté«çº§ç¨æ³",frontmatter:{title:"05 useEffecté«çº§ç¨æ³",date:"2023-09-06T17:47:16.000Z",permalink:"/pages/b9c039/"},regularPath:"/03.react/05.useEffect%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95.html",relativePath:"03.react/05.useEffecté«çº§ç¨æ³.md",key:"v-56ff8d3c",path:"/pages/b9c039/",headers:[{level:2,title:"è®©useEffectåªå¨æè½½ååå¸è½½åæ§è¡ä¸æ¬¡",slug:"è®©useeffectåªå¨æè½½ååå¸è½½åæ§è¡ä¸æ¬¡",normalizedTitle:"è®©useeffectåªå¨æè½½ååå¸è½½åæ§è¡ä¸æ¬¡",charIndex:74},{level:5,title:"ä¸ºä»ä¹ä¼æè¿ä¸ªé®é¢ï¼",slug:"ä¸ºä»ä¹ä¼æè¿ä¸ªé®é¢",normalizedTitle:"ä¸ºä»ä¹ä¼æè¿ä¸ªé®é¢ï¼",charIndex:1812},{level:2,title:"æ§è½ä¼å",slug:"æ§è½ä¼å",normalizedTitle:"æ§è½ä¼å",charIndex:2469}],headersStr:"è®©useEffectåªå¨æè½½ååå¸è½½åæ§è¡ä¸æ¬¡ ä¸ºä»ä¹ä¼æè¿ä¸ªé®é¢ï¼ æ§è½ä¼å",content:"# 05 useEffecté«çº§ç¨æ³\n\næè°é«çº§ç¨æ³ï¼åªä¸è¿æ¯ä¸äºæ·±å±ç¥è¯ç¹åå®ç¨æå·§ï¼ä½ çè³å¯ä»¥ææ¬ç« å½åå¯¹åé¢ç¥è¯ç¹çä¸ä¸ªå·©åºåå­¦ä¹ ã\n\n\n# è®©useEffectåªå¨æè½½ååå¸è½½åæ§è¡ä¸æ¬¡\n\nè®©æä»¬å®ç° â04 useEffectåºç¡ç¨æ³â ä¸­ ä¸¾ä¾2 æå°çåè½ã\n\nç»ä»¶éæ±ï¼\n1ãè¥æç±»ç»ä»¶ä¸­æåéaï¼é»è®¤å¼ä¸º0ï¼å½ç»ä»¶ç¬¬ä¸æ¬¡è¢«æè½½åæç»ä»¶éæ°æ¸²æåï¼å°ç½é¡µæ é¢æ¾ç¤ºä¸ºaçå¼ã\n2ãå½ç»ä»¶ç¬¬ä¸æ¬¡è¢«æè½½åæ§è¡ä¸ä¸ªèªå¨ç´¯å å¨ setIntervalï¼æ¯1ç§ a çå¼+1ãä¸ºäºé²æ­¢åå­æ³é²ï¼æä»¬å¨è¯¥ç»ä»¶å³å°è¢«å¸è½½åæ¸é¤æè¯¥ç´¯å å¨ã\n\néæ±åæï¼\nå³äºèªå¨ç´¯å å¨çæä½ï¼åªå³è âç»ä»¶æè½½ååç»ä»¶å¸è½½åâ è¿2ä¸ªçå½å¨æå½æ°ä¸­ï¼é£useEffectè¿åå«äºæ¯æ¬¡ç»ä»¶éæ°æ¸²æåï¼è¿è¯¥æä¹åï¼\n\nç­ï¼useEffectå½æ°çç¬¬2ä¸ªåæ°è¡¨ç¤ºè¯¥ä¾èµå³ç³»ï¼å°useEffectçç¬¬2ä¸ªåæ°ï¼è®¾ç½®ä¸ºç©ºæ°ç» []ï¼å³è¡¨ç¤ºåè¯Reactï¼è¿ä¸ªuseEffectä¸ä¾èµä»»ä½åéçæ´æ°æå¼åçç»ä»¶éæ°æ¸²æï¼ä»¥åæ­¤ç»ä»¶åæ´æ°ä¹ä¸éè¦è°ç¨æ­¤useEffectã\n\nè¿æ ·å°±å¯ä»¥å®ç°åªå¨ç¬¬ä¸æ¬¡æè½½ååå¸è½½åè°ç¨æ­¤useEffectçç®çã\n\nimport React, { useState,useEffect} from 'react';\n\nfunction Component() {\n  const [a, setA] = useState(0);//å®ä¹åéaï¼å¹¶ä¸é»è®¤å¼ä¸º0\n\n  //å®ä¹ç¬¬1ä¸ªuseEffectï¼ä¸é¨ç¨æ¥å¤çèªå¨ç´¯å å¨\n  useEffect(() => {\n    let timer = setInterval(() => {setA(a+1)},1000);// <-- è¯·æ³¨æè¿è¡ä»£ç ï¼æèçæº\n    return () => {\n        clearInterval(timer);\n    }\n  }, []);//æ­¤å¤ç¬¬2ä¸ªåæ°ä¸º[]ï¼åç¥Reactä»¥åè¯¥ç»ä»¶ä»»ä½æ´æ°å¼åçéæ°æ¸²æé½ä¸æ­¤useEffectæ å³\n\n  //å®ä¹ç¬¬2ä¸ªuseEffectï¼ä¸é¨ç¨æ¥å¤çç½é¡µæ é¢æ´æ°\n  useEffect(() => {\n    document.title = `${a} - ${Math.floor(Math.random()*100)}`;\n  },[a])\n  return <div> {a} </div>\n}\n\nexport default Component;\n\n\nä»¥ä¸ä»£ç å®éè¿è¡æ­£ç¡®åï¼\nç­ï¼ä¸æ­£ç¡®ï¼\n\nï¼\nå°æåï¼è¸ä¸æ¯å¦æå¾å¤é®å·ï¼ï¼ï¼\n\nå®éè¿è¡ä¼åç°ï¼å½ç»ä»¶æè½½åï¼ç¡®å®ä¼æ§è¡ä¸æ¬¡ setA(a+1)ï¼a çå¼ä¿®æ¹ä¸ºäº 1ï¼ç¶å... a çå¼ä¸ç´ä¸º 1ï¼å¹¶æ²¡æç»§ç»­ç´¯å ã\n\nä¸è¿°ä»£ç ä¼æ¶å°reactçä¸ä¸ªéè¯¯è­¦åæç¤ºï¼Either include it or remove the dependency array. You can also do a functional update 'setA(a => ...)' if you only need 'a' in the 'setA' call.\nè¯¥éè¯¯è­¦åæææ¯ï¼å¦æä½ ç¡®è®¤ä½ ä¼ å¥çç¬¬2ä¸ªåæ°æ¯ç©ºæ°ç»ï¼é£ä¹ä½ å¯è½ä¼ç¨å° setA(a => ...) è¿ç§æ¹å¼æ¥æ´æ°açå¼ã\n\né®é¢åºå¨åªéï¼\n\nè®©æä»¬åççé£è¡æçæºçä»£ç ï¼\n\nlet timer = setInterval(() => {setA(a+1)},1000);  \n\n\nåçç react ç»æä»¬çéè¯¯è­¦åæç¤ºï¼You can also do a functional update 'setA(a => ...)' if you only need 'a' in the 'setA' call. ä½ å¯è½ä¼ç¨å° setA(a => ...) è¿ç§æ¹å¼æ¥æ´æ°açå¼ã\n\nsetA(a => ...) è¿æ¯å¨ â03 useStateé«çº§ç¨æ³âä¸­ï¼è§£å³æ°æ®å¼æ­¥ æ¶è®²çæ´æ°æ¹å¼ã\n\né£æä»¬å°±æç§æç¤ºï¼å°é£è¡ä»£ç ä¿®æ¹ä¸ºï¼\n\nlet timer = setInterval(() => {setA(a => a+1)},1000);  \n\n\nåæ¬¡æ§è¡ï¼éè¯¯æç¤ºè­¦åæ²¡æäºï¼ç»ä»¶ä¹å®å¨æç§æä»¬çé¢ææ¥æ§è¡äºãreactèªå¸¦çè¯­æ³æ£æ¥ççå¥½æºè½ã\n\n# ä¸ºä»ä¹ä¼æè¿ä¸ªé®é¢ï¼\n\nå³äºåæsetIntervalä¸­ç´¯å  a çå¼éå°çé®é¢ï¼Reactå®æ¹ææ¡£ä¸­ä¹æç±»ä¼¼ç¤ºä¾ï¼åªä¸è¿ä»ä»¬ç¨çåéæ¯countï¼èæä»¬è¿éç¨çåéæ¯ aã\n\næä»¬ççä»Reactå®æ¹ææ¡£ä¸­å¼ç¨çè¯ï¼\n\n> ææ¶åï¼ä½ ç effect å¯è½ä¼ä½¿ç¨ä¸äºé¢ç¹ååçå¼ãä½ å¯è½ä¼å¿½ç¥ä¾èµåè¡¨ä¸­ stateï¼ä½è¿éå¸¸ä¼å¼èµ· Bugï¼ä¼ å¥ç©ºçä¾èµæ°ç» []ï¼æå³çè¯¥ hook åªå¨ç»ä»¶æè½½æ¶è¿è¡ä¸æ¬¡ï¼å¹¶ééæ°æ¸²ææ¶ãä½å¦æ­¤ä¼æé®é¢ï¼å¨ setInterval çåè°ä¸­ï¼count çå¼ä¸ä¼åçååãå ä¸ºå½ effect æ§è¡æ¶ï¼æä»¬ä¼åå»ºä¸ä¸ªé­åï¼å¹¶å° count çå¼è¢«ä¿å­å¨è¯¥é­åå½ä¸­ï¼ä¸åå¼ä¸º 0ãæ¯éä¸ç§ï¼åè°å°±ä¼æ§è¡ setCount(0 + 1)ï¼å æ­¤ï¼count æ°¸è¿ä¸ä¼è¶è¿ 1ã\n\nåæ¬¡éå¤ä¸éï¼å¦æuseEffectå½æ°ç¬¬2ä¸ªåæ°ä¸ºç©ºæ°ç»ï¼é£ä¹reactä¼å°è¯¥useEffectçç¬¬1ä¸ªåæ° effect å»ºç«ä¸ä¸ªé­åï¼è¯¥é­åéçåé a è¢«æ°¸è¿è®¾å®ä¸ºå½åçå¼ï¼å³ 0ãå°½ç®¡setIntervalæ­£å¸¸å·¥ä½ï¼æ¯æ¬¡é½âæ­£å¸¸æ§è¡äºâï¼å¯æ¯ setA(a+1)ä¸­ a çå¼ä¸ç´æ²¡ååï¼ä¸ç´é½æ¯å½åç0ï¼æä»¥é æ 0 + 1 ä¸ç´é½ç­äº 1 çç»æã\n\nèå¦æä¿®æ¹æ setA(a => a+1) çå½¢å¼ï¼é£ä¹å°±è§£å³äº a æ°æ®å¼æ­¥çé®é¢ï¼æ¯æ¬¡é½æ¯è¯»åææ°å½å a çå¼ã\n\nè¿ä¸ªç¹æ¯ä½¿ç¨ useEffect å¾å®¹ææè¿å»çä¸ä¸ªåï¼åè®°åè®°ã\n\næèä»¥åå»æé½ç¨å¼æ­¥æ´æ°æ°æ®çä¹ æ¯ã\n\n\n# æ§è½ä¼å\n\néè¿ä¸é¢çä¾å­ï¼æä»¬å¶å®å·²ç»å®ç°äº åæä¸­ ä¸¾ä¾2 åä¸¾ä¾3 çææã\n\nå¦~ åæè®²çæ¯ä¸¾ä¾2ï¼æ²¡æå°ä¸¾ä¾3å... å ä¸ºä¸¾ä¾3ä¸­æå°çç±»ç»ä»¶ä¸­æå¤ä¸ªåéæ°æ®ï¼å¨å½æ°ç»ä»¶ä¸­è¿ä¸ªé®é¢æ¬èº«æ¯é useStateæ¥è§£å³çï¼è·useEffectæ å³ã\n\næ¥ä¸æ¥è®²ä¸ä¸useEffectå½æ°ç¬¬2ä¸ªåæ°æé«æ§è½çæ­£ç¡®ç¨æ³ã\n\nä¸¾ä¾ï¼è¥ä¸ä¸ªç»ä»¶ä¸­æä¸ä¸ªèªå®ä¹åéobjï¼objæä¸¤ä¸ªå±æ§aãbï¼å½aåçååæ¶ï¼ç½é¡µæ é¢ä¹è·çaåçååã\nè¡¥åè¯´æï¼\n1ãæä»¬ä¸ºäºè®©aãbé½å¯ä»¥åçååï¼å°å¨ç»ä»¶ä¸­åå»º2ä¸ªæé®ï¼ç¹å»ä¹ååå«å¯ä»¥ä¿®æ¹aãbçå¼ï¼\n2ãä¸ºäºæ´å æ¸æ¥çå°æ¯æ¬¡æ¸²æï¼æä»¬å¨ç½é¡µæ é¢ä¸­ a çåé¢åå¢å ä¸ä¸ªéæºæ°å­ï¼\n\næä»¬é¦åçä»¥ä¸ä»£ç ï¼\n\nimport React, { useState,useEffect} from 'react';\nfunction Component() {\n  const [obj,setObj] = useState({a:0,b:0});\n  useEffect(() => {\n    document.title = `${obj.a} - ${Math.floor(Math.random()*50)}`;\n  }); //æ³¨ææ­¤æ¶æä»¬å¹¶æªè®¾ç½®useEffectå½æ°çç¬¬2ä¸ªåæ°\n\n  //å¦æä¸é¢ä»£ç çä¸æï¼ä½ éè¦éæ°å»æ¸©ä¹ useStateé«çº§ç¨æ³ä¸­çâæ°æ®ç±»åä¸ºObjcetï¼ä¿®æ¹æ¹æ³â\n  return <div>\n    {JSON.stringify(obj)}\n    <button onClick={() => {setObj({...obj,a:obj.a+1})}}>a+1</button> \n    <button onClick={() => {setObj({...obj,b:obj.b+1})}}>b+1</button>\n  </div>\n}\nexport default Component;\n\n\nç±äºæä»¬å¨ç½é¡µæ é¢ä¸­æ·»å äºéæºæ°ï¼å æ­¤å®éè¿è¡ä½ ä¼åç°å³ä½¿ä¿®æ¹bçå¼ï¼ä¹ä¼å¼åç½é¡µæ é¢éæ°âåæ´ä¸æ¬¡âã\n\nçç±æ¾èæè§ï¼ä¿®æ¹bçå¼ä¹ä¼è§¦åç»ä»¶éæ°æ¸²æï¼è¿èè§¦åuseEffectä¸­çä»£ç ã\n\næ­£ç¡®çåæ³åºè¯¥æ¯æä»¬ç»useEffectæ·»å ä¸ç¬¬2ä¸ªåæ°ï¼[obj.a]ï¼æç¡®åè¯Reactï¼åªæå½obj.aåæ´å¼åçéæ°æ¸²æææ§è¡æ¬æ¡useEffectã\n\nuseEffect(() => {\n   document.title = `${obj.a} - ${Math.floor(Math.random()*50)}`;\n },[obj.a]); //ç¬¬2ä¸ªåæ°ä¸ºæ°ç»ï¼è¯¥æ°ç»ä¸­å¯ä»¥åå«å¤ä¸ªåé\n\n\næ·»å è¿[obj.a]ä¹åï¼åæ¬¡è¿è¡ï¼æ è®ºobj.bæèå¶ä»æ°æ®åéå¼åçç»ä»¶éæ°æ¸²æï¼é½ä¸ä¼æ§è¡è¯¥useEffectã\n\nå æ­¤è¾¾å°æé«æ§è½çç®çã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseEffecté«çº§ç¨æ³å·²ç»è®²å®ï¼ç¸ä¿¡useStateåuseEffectçç»åä½¿ç¨ï¼å·²ç»è½å¤è®©ä½ ååºä¸äºç®åçReact Hook ç»ä»¶ã\n\næ¥ä¸æ¥å­¦ä¹ ç¬¬3ä¸ªHookå½æ°useContextã",normalizedContent:"# 05 useeffecté«çº§ç¨æ³\n\næè°é«çº§ç¨æ³ï¼åªä¸è¿æ¯ä¸äºæ·±å±ç¥è¯ç¹åå®ç¨æå·§ï¼ä½ çè³å¯ä»¥ææ¬ç« å½åå¯¹åé¢ç¥è¯ç¹çä¸ä¸ªå·©åºåå­¦ä¹ ã\n\n\n# è®©useeffectåªå¨æè½½ååå¸è½½åæ§è¡ä¸æ¬¡\n\nè®©æä»¬å®ç° â04 useeffectåºç¡ç¨æ³â ä¸­ ä¸¾ä¾2 æå°çåè½ã\n\nç»ä»¶éæ±ï¼\n1ãè¥æç±»ç»ä»¶ä¸­æåéaï¼é»è®¤å¼ä¸º0ï¼å½ç»ä»¶ç¬¬ä¸æ¬¡è¢«æè½½åæç»ä»¶éæ°æ¸²æåï¼å°ç½é¡µæ é¢æ¾ç¤ºä¸ºaçå¼ã\n2ãå½ç»ä»¶ç¬¬ä¸æ¬¡è¢«æè½½åæ§è¡ä¸ä¸ªèªå¨ç´¯å å¨ setintervalï¼æ¯1ç§ a çå¼+1ãä¸ºäºé²æ­¢åå­æ³é²ï¼æä»¬å¨è¯¥ç»ä»¶å³å°è¢«å¸è½½åæ¸é¤æè¯¥ç´¯å å¨ã\n\néæ±åæï¼\nå³äºèªå¨ç´¯å å¨çæä½ï¼åªå³è âç»ä»¶æè½½ååç»ä»¶å¸è½½åâ è¿2ä¸ªçå½å¨æå½æ°ä¸­ï¼é£useeffectè¿åå«äºæ¯æ¬¡ç»ä»¶éæ°æ¸²æåï¼è¿è¯¥æä¹åï¼\n\nç­ï¼useeffectå½æ°çç¬¬2ä¸ªåæ°è¡¨ç¤ºè¯¥ä¾èµå³ç³»ï¼å°useeffectçç¬¬2ä¸ªåæ°ï¼è®¾ç½®ä¸ºç©ºæ°ç» []ï¼å³è¡¨ç¤ºåè¯reactï¼è¿ä¸ªuseeffectä¸ä¾èµä»»ä½åéçæ´æ°æå¼åçç»ä»¶éæ°æ¸²æï¼ä»¥åæ­¤ç»ä»¶åæ´æ°ä¹ä¸éè¦è°ç¨æ­¤useeffectã\n\nè¿æ ·å°±å¯ä»¥å®ç°åªå¨ç¬¬ä¸æ¬¡æè½½ååå¸è½½åè°ç¨æ­¤useeffectçç®çã\n\nimport react, { usestate,useeffect} from 'react';\n\nfunction component() {\n  const [a, seta] = usestate(0);//å®ä¹åéaï¼å¹¶ä¸é»è®¤å¼ä¸º0\n\n  //å®ä¹ç¬¬1ä¸ªuseeffectï¼ä¸é¨ç¨æ¥å¤çèªå¨ç´¯å å¨\n  useeffect(() => {\n    let timer = setinterval(() => {seta(a+1)},1000);// <-- è¯·æ³¨æè¿è¡ä»£ç ï¼æèçæº\n    return () => {\n        clearinterval(timer);\n    }\n  }, []);//æ­¤å¤ç¬¬2ä¸ªåæ°ä¸º[]ï¼åç¥reactä»¥åè¯¥ç»ä»¶ä»»ä½æ´æ°å¼åçéæ°æ¸²æé½ä¸æ­¤useeffectæ å³\n\n  //å®ä¹ç¬¬2ä¸ªuseeffectï¼ä¸é¨ç¨æ¥å¤çç½é¡µæ é¢æ´æ°\n  useeffect(() => {\n    document.title = `${a} - ${math.floor(math.random()*100)}`;\n  },[a])\n  return <div> {a} </div>\n}\n\nexport default component;\n\n\nä»¥ä¸ä»£ç å®éè¿è¡æ­£ç¡®åï¼\nç­ï¼ä¸æ­£ç¡®ï¼\n\nï¼\nå°æåï¼è¸ä¸æ¯å¦æå¾å¤é®å·ï¼ï¼ï¼\n\nå®éè¿è¡ä¼åç°ï¼å½ç»ä»¶æè½½åï¼ç¡®å®ä¼æ§è¡ä¸æ¬¡ seta(a+1)ï¼a çå¼ä¿®æ¹ä¸ºäº 1ï¼ç¶å... a çå¼ä¸ç´ä¸º 1ï¼å¹¶æ²¡æç»§ç»­ç´¯å ã\n\nä¸è¿°ä»£ç ä¼æ¶å°reactçä¸ä¸ªéè¯¯è­¦åæç¤ºï¼either include it or remove the dependency array. you can also do a functional update 'seta(a => ...)' if you only need 'a' in the 'seta' call.\nè¯¥éè¯¯è­¦åæææ¯ï¼å¦æä½ ç¡®è®¤ä½ ä¼ å¥çç¬¬2ä¸ªåæ°æ¯ç©ºæ°ç»ï¼é£ä¹ä½ å¯è½ä¼ç¨å° seta(a => ...) è¿ç§æ¹å¼æ¥æ´æ°açå¼ã\n\né®é¢åºå¨åªéï¼\n\nè®©æä»¬åççé£è¡æçæºçä»£ç ï¼\n\nlet timer = setinterval(() => {seta(a+1)},1000);  \n\n\nåçç react ç»æä»¬çéè¯¯è­¦åæç¤ºï¼you can also do a functional update 'seta(a => ...)' if you only need 'a' in the 'seta' call. ä½ å¯è½ä¼ç¨å° seta(a => ...) è¿ç§æ¹å¼æ¥æ´æ°açå¼ã\n\nseta(a => ...) è¿æ¯å¨ â03 usestateé«çº§ç¨æ³âä¸­ï¼è§£å³æ°æ®å¼æ­¥ æ¶è®²çæ´æ°æ¹å¼ã\n\né£æä»¬å°±æç§æç¤ºï¼å°é£è¡ä»£ç ä¿®æ¹ä¸ºï¼\n\nlet timer = setinterval(() => {seta(a => a+1)},1000);  \n\n\nåæ¬¡æ§è¡ï¼éè¯¯æç¤ºè­¦åæ²¡æäºï¼ç»ä»¶ä¹å®å¨æç§æä»¬çé¢ææ¥æ§è¡äºãreactèªå¸¦çè¯­æ³æ£æ¥ççå¥½æºè½ã\n\n# ä¸ºä»ä¹ä¼æè¿ä¸ªé®é¢ï¼\n\nå³äºåæsetintervalä¸­ç´¯å  a çå¼éå°çé®é¢ï¼reactå®æ¹ææ¡£ä¸­ä¹æç±»ä¼¼ç¤ºä¾ï¼åªä¸è¿ä»ä»¬ç¨çåéæ¯countï¼èæä»¬è¿éç¨çåéæ¯ aã\n\næä»¬ççä»reactå®æ¹ææ¡£ä¸­å¼ç¨çè¯ï¼\n\n> ææ¶åï¼ä½ ç effect å¯è½ä¼ä½¿ç¨ä¸äºé¢ç¹ååçå¼ãä½ å¯è½ä¼å¿½ç¥ä¾èµåè¡¨ä¸­ stateï¼ä½è¿éå¸¸ä¼å¼èµ· bugï¼ä¼ å¥ç©ºçä¾èµæ°ç» []ï¼æå³çè¯¥ hook åªå¨ç»ä»¶æè½½æ¶è¿è¡ä¸æ¬¡ï¼å¹¶ééæ°æ¸²ææ¶ãä½å¦æ­¤ä¼æé®é¢ï¼å¨ setinterval çåè°ä¸­ï¼count çå¼ä¸ä¼åçååãå ä¸ºå½ effect æ§è¡æ¶ï¼æä»¬ä¼åå»ºä¸ä¸ªé­åï¼å¹¶å° count çå¼è¢«ä¿å­å¨è¯¥é­åå½ä¸­ï¼ä¸åå¼ä¸º 0ãæ¯éä¸ç§ï¼åè°å°±ä¼æ§è¡ setcount(0 + 1)ï¼å æ­¤ï¼count æ°¸è¿ä¸ä¼è¶è¿ 1ã\n\nåæ¬¡éå¤ä¸éï¼å¦æuseeffectå½æ°ç¬¬2ä¸ªåæ°ä¸ºç©ºæ°ç»ï¼é£ä¹reactä¼å°è¯¥useeffectçç¬¬1ä¸ªåæ° effect å»ºç«ä¸ä¸ªé­åï¼è¯¥é­åéçåé a è¢«æ°¸è¿è®¾å®ä¸ºå½åçå¼ï¼å³ 0ãå°½ç®¡setintervalæ­£å¸¸å·¥ä½ï¼æ¯æ¬¡é½âæ­£å¸¸æ§è¡äºâï¼å¯æ¯ seta(a+1)ä¸­ a çå¼ä¸ç´æ²¡ååï¼ä¸ç´é½æ¯å½åç0ï¼æä»¥é æ 0 + 1 ä¸ç´é½ç­äº 1 çç»æã\n\nèå¦æä¿®æ¹æ seta(a => a+1) çå½¢å¼ï¼é£ä¹å°±è§£å³äº a æ°æ®å¼æ­¥çé®é¢ï¼æ¯æ¬¡é½æ¯è¯»åææ°å½å a çå¼ã\n\nè¿ä¸ªç¹æ¯ä½¿ç¨ useeffect å¾å®¹ææè¿å»çä¸ä¸ªåï¼åè®°åè®°ã\n\næèä»¥åå»æé½ç¨å¼æ­¥æ´æ°æ°æ®çä¹ æ¯ã\n\n\n# æ§è½ä¼å\n\néè¿ä¸é¢çä¾å­ï¼æä»¬å¶å®å·²ç»å®ç°äº åæä¸­ ä¸¾ä¾2 åä¸¾ä¾3 çææã\n\nå¦~ åæè®²çæ¯ä¸¾ä¾2ï¼æ²¡æå°ä¸¾ä¾3å... å ä¸ºä¸¾ä¾3ä¸­æå°çç±»ç»ä»¶ä¸­æå¤ä¸ªåéæ°æ®ï¼å¨å½æ°ç»ä»¶ä¸­è¿ä¸ªé®é¢æ¬èº«æ¯é usestateæ¥è§£å³çï¼è·useeffectæ å³ã\n\næ¥ä¸æ¥è®²ä¸ä¸useeffectå½æ°ç¬¬2ä¸ªåæ°æé«æ§è½çæ­£ç¡®ç¨æ³ã\n\nä¸¾ä¾ï¼è¥ä¸ä¸ªç»ä»¶ä¸­æä¸ä¸ªèªå®ä¹åéobjï¼objæä¸¤ä¸ªå±æ§aãbï¼å½aåçååæ¶ï¼ç½é¡µæ é¢ä¹è·çaåçååã\nè¡¥åè¯´æï¼\n1ãæä»¬ä¸ºäºè®©aãbé½å¯ä»¥åçååï¼å°å¨ç»ä»¶ä¸­åå»º2ä¸ªæé®ï¼ç¹å»ä¹ååå«å¯ä»¥ä¿®æ¹aãbçå¼ï¼\n2ãä¸ºäºæ´å æ¸æ¥çå°æ¯æ¬¡æ¸²æï¼æä»¬å¨ç½é¡µæ é¢ä¸­ a çåé¢åå¢å ä¸ä¸ªéæºæ°å­ï¼\n\næä»¬é¦åçä»¥ä¸ä»£ç ï¼\n\nimport react, { usestate,useeffect} from 'react';\nfunction component() {\n  const [obj,setobj] = usestate({a:0,b:0});\n  useeffect(() => {\n    document.title = `${obj.a} - ${math.floor(math.random()*50)}`;\n  }); //æ³¨ææ­¤æ¶æä»¬å¹¶æªè®¾ç½®useeffectå½æ°çç¬¬2ä¸ªåæ°\n\n  //å¦æä¸é¢ä»£ç çä¸æï¼ä½ éè¦éæ°å»æ¸©ä¹ usestateé«çº§ç¨æ³ä¸­çâæ°æ®ç±»åä¸ºobjcetï¼ä¿®æ¹æ¹æ³â\n  return <div>\n    {json.stringify(obj)}\n    <button onclick={() => {setobj({...obj,a:obj.a+1})}}>a+1</button> \n    <button onclick={() => {setobj({...obj,b:obj.b+1})}}>b+1</button>\n  </div>\n}\nexport default component;\n\n\nç±äºæä»¬å¨ç½é¡µæ é¢ä¸­æ·»å äºéæºæ°ï¼å æ­¤å®éè¿è¡ä½ ä¼åç°å³ä½¿ä¿®æ¹bçå¼ï¼ä¹ä¼å¼åç½é¡µæ é¢éæ°âåæ´ä¸æ¬¡âã\n\nçç±æ¾èæè§ï¼ä¿®æ¹bçå¼ä¹ä¼è§¦åç»ä»¶éæ°æ¸²æï¼è¿èè§¦åuseeffectä¸­çä»£ç ã\n\næ­£ç¡®çåæ³åºè¯¥æ¯æä»¬ç»useeffectæ·»å ä¸ç¬¬2ä¸ªåæ°ï¼[obj.a]ï¼æç¡®åè¯reactï¼åªæå½obj.aåæ´å¼åçéæ°æ¸²æææ§è¡æ¬æ¡useeffectã\n\nuseeffect(() => {\n   document.title = `${obj.a} - ${math.floor(math.random()*50)}`;\n },[obj.a]); //ç¬¬2ä¸ªåæ°ä¸ºæ°ç»ï¼è¯¥æ°ç»ä¸­å¯ä»¥åå«å¤ä¸ªåé\n\n\næ·»å è¿[obj.a]ä¹åï¼åæ¬¡è¿è¡ï¼æ è®ºobj.bæèå¶ä»æ°æ®åéå¼åçç»ä»¶éæ°æ¸²æï¼é½ä¸ä¼æ§è¡è¯¥useeffectã\n\nå æ­¤è¾¾å°æé«æ§è½çç®çã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseeffecté«çº§ç¨æ³å·²ç»è®²å®ï¼ç¸ä¿¡usestateåuseeffectçç»åä½¿ç¨ï¼å·²ç»è½å¤è®©ä½ ååºä¸äºç®åçreact hook ç»ä»¶ã\n\næ¥ä¸æ¥å­¦ä¹ ç¬¬3ä¸ªhookå½æ°usecontextã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"06 useContextåºç¡ç¨æ³",frontmatter:{title:"06 useContextåºç¡ç¨æ³",date:"2023-09-07T11:40:49.000Z",permalink:"/pages/fd14d7/"},regularPath:"/03.react/06.useContext%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95.html",relativePath:"03.react/06.useContextåºç¡ç¨æ³.md",key:"v-71a2faae",path:"/pages/fd14d7/",headers:[{level:2,title:"useContextæ¦å¿µè§£é",slug:"usecontextæ¦å¿µè§£é",normalizedTitle:"usecontextæ¦å¿µè§£é",charIndex:24},{level:2,title:"useContextæ¯æ¥è§£å³ä»ä¹é®é¢çï¼",slug:"usecontextæ¯æ¥è§£å³ä»ä¹é®é¢ç",normalizedTitle:"usecontextæ¯æ¥è§£å³ä»ä¹é®é¢çï¼",charIndex:1038},{level:2,title:"useContextå½æ°æºç ï¼",slug:"usecontextå½æ°æºç ",normalizedTitle:"usecontextå½æ°æºç ï¼",charIndex:1289},{level:2,title:"useContextåºæ¬ç¨æ³",slug:"usecontextåºæ¬ç¨æ³",normalizedTitle:"usecontextåºæ¬ç¨æ³",charIndex:3167},{level:5,title:"ä»£ç å½¢å¼ï¼",slug:"ä»£ç å½¢å¼",normalizedTitle:"ä»£ç å½¢å¼ï¼",charIndex:3261},{level:5,title:"æè§£è¯´æï¼",slug:"æè§£è¯´æ",normalizedTitle:"æè§£è¯´æï¼",charIndex:3513},{level:4,title:"'å¼å¥GlobalContext'è¡¥åè¯´æ",slug:"å¼å¥globalcontext-è¡¥åè¯´æ",normalizedTitle:"'å¼å¥globalcontext'è¡¥åè¯´æ",charIndex:3739},{level:4,title:"'global'è¡¥åè¯´æ",slug:"global-è¡¥åè¯´æ",normalizedTitle:"'global'è¡¥åè¯´æ",charIndex:3864},{level:2,title:"useContextä½¿ç¨ç¤ºä¾ï¼",slug:"usecontextä½¿ç¨ç¤ºä¾",normalizedTitle:"usecontextä½¿ç¨ç¤ºä¾ï¼",charIndex:4019}],headersStr:"useContextæ¦å¿µè§£é useContextæ¯æ¥è§£å³ä»ä¹é®é¢çï¼ useContextå½æ°æºç ï¼ useContextåºæ¬ç¨æ³ ä»£ç å½¢å¼ï¼ æè§£è¯´æï¼ 'å¼å¥GlobalContext'è¡¥åè¯´æ 'global'è¡¥åè¯´æ useContextä½¿ç¨ç¤ºä¾ï¼",content:"# 06 useContextåºç¡ç¨æ³\n\n\n# useContextæ¦å¿µè§£é\n\næä»¬ç¬¬ä¸ä¸ªè¦å­¦ä¹ çHook(é©å­å½æ°)æ¯useContextï¼ä»çä½ç¨æ¯âå¾ä½âè·åç±React.createContext()åå»ºã<XxxContext.Provider>æ·»å è®¾ç½®çå±äº«æ°æ®valueå¼ãuseContextå¯ä»¥æ¿ä»£<XxxContext.Consumer>æ ç­¾ï¼ç®åè·åå±äº«æ°æ®çä»£ç ã\n\næä»¬ç¥éï¼åæ¬ä¸åçº§å«çç»ä»¶ä¹é´ä¼ éå±æ§å¼ï¼å¿é¡»éå±ä¼ éï¼å³ä½¿ä¸­é´å±çç»ä»¶ä¸éè¦è¿äºæ°æ®ã\næ³¨æï¼è¿éè¯´çç»ä»¶æReactææç»ä»¶ï¼åå«ç±»ç»ä»¶åå½æ°ç»ä»¶ã\n\næ°æ®å±å±ä¼ éå¢å äºç»ä»¶çå¤ææ§ï¼éä½äºå¯å¤ç¨æ§ãä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼æä»¬å¯ä»¥ä½¿ç¨ä»¥ä¸æ¹å¼ï¼\n1ãå¨ç»ä»¶é¡¶å±æåç¬çæ¨¡åä¸­ï¼ç±React.createContext()åå»ºä¸ä¸ªå±äº«æ°æ®å¯¹è±¡ï¼\n2ãå¨ç¶ç»ä»¶ä¸­æ·»å å±äº«æ°æ®å¯¹è±¡çå¼ç¨ï¼éè¿ä¸åªè½éè¿<XxxContext.provider value={xx:'xxx'}></XxxContext.provider>çå½¢å¼å°æ°æ®ä¼ éç»å­ç»ä»¶ãè¯·æ³¨æä¼ å¼å¿é¡»ä½¿ç¨value={obj}è¿ç§å½¢å¼ï¼è¥å¼æ¬èº«ä¸ºå­ç¬¦ä¸²åå¯ä»¥æ¹ä¸º value='xxx'ï¼\n3ãè¥ä¸ä¸å±çå­ç»ä»¶ç¨ä¸å°å±äº«æ°æ®å¯¹è±¡ä¸­çæ°æ®ï¼åå¯ä»¥ä¸åä»»ä½å±æ§æ ç­¾ä¼ éï¼\n4ãè¥æä¸å±çå­ç»ä»¶éè¦ç¨å°å±äº«æ°æ®å¯¹è±¡çæ°æ®ï¼åå¯éè¿<XxxContext.Consumer></XxxContext.Consumer>è·åå°æ°æ®ï¼\n5ãå¨ç±»ç»ä»¶ä¸­é¤äº<XxxContext.Consumer>æ ç­¾ï¼è¿æå¦å¤ä¸ç§è·åå±äº«æ°æ®æ¹å¼ï¼static xxx = XxxContext; ä½æ¯è¿ç§å½¢å¼å¨å½æ°ç»ä»¶ä¸­æ æ³ä½¿ç¨ã\n\nç®èè¨ä¹<XxxContext.Provider>ç¨æ¥æ·»å å±äº«æ°æ®ã<XxxContext.Consumer>ç¨æ¥è·åå±äº«æ°æ®ã\nå¤æ³¨ï¼provideråè¯æ¬æä¸ºä¾åºèãconsumeråè¯æ¬æä¸ºæ¶è´¹èï¼åå¥½å¯¹åºä»ä»¬ç¸å¯¹äºå±äº«æ°æ®çå³ç³»ã\n\nä¸é¢ç®åæè¿°äºReact.createContext()çç¨æ³ï¼ç±äºæ¬ç³»åæç« ä¸»è¦è®²Hookçä½¿ç¨æ¹æ³ï¼Reactæ¬èº«çç¥è¯ç¹å¹¶ä¸æ¯éç¹è®²è§£å¯¹è±¡ãè¥ä½ å¯¹React.createContext()ã<XxxContext.Provider>ã<XxxContext.Consumer>çç¨æ³è¿ä¸å¤ªæç½ï¼è¯·éè¿å¶ä»éå¾èªè¡å­¦ä¹ ã\n\nè®©æä»¬åå°useContextå­¦ä¹ ä¸­ã\n\n\n# useContextæ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼useContextæ¯<XxxContext.Consumer>çæ¿ä»£åï¼å¯ä»¥å¤§éç®åè·åå±äº«æ°æ®å¼çä»£ç ã\n\nè¡¥åè¯´æï¼\n1ãå½æ°ç»ä»¶åç±»ç»ä»¶ï¼å¯¹äº<XxxContext.Provider>ã<XxxContext.Consumer>ä½¿ç¨æ¹å¼æ²¡æä»»ä½å·®å«ã\n2ãä½ å¯ä»¥å¨å½æ°ç»ä»¶ä¸­ä¸ä½¿ç¨useContextï¼ç»§ç»­ä½¿ç¨<XxxContext.Consumer>ï¼è¿é½æ²¡é®é¢ãåªä¸è¿ä½¿ç¨useContextåï¼å¯ä»¥è®©è·åå±äº«æ°æ®ç¸å³ä»£ç ç®åä¸äºã\n\n\n# useContextå½æ°æºç ï¼\n\nåå°useContextçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸Reactæºç ä¸­çReactHooks.jsã\n\n    //å¤æ³¨ï¼æºç éç¨TypeScriptç¼åï¼å¦æä¸æTSä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\n    export function useContext<T>(\n      Context: ReactContext<T>,\n      unstable_observedBits: number | boolean | void,): T {\n      const dispatcher = resolveDispatcher();\n      if (__DEV__) {\n        if (unstable_observedBits !== undefined) {\n          console.error(\n            'useContext() second argument is reserved for future ' +\n            'use in React. Passing it is not supported. ' +\n            'You passed: %s.%s',\n            unstable_observedBits,\n            typeof unstable_observedBits === 'number' && Array.isArray(arguments[2])\n            ? '\\n\\nDid you call array.map(useContext)? ' +\n              'Calling Hooks inside a loop is not supported. ' +\n              'Learn more at https://fb.me/rules-of-hooks'\n            : '',\n          );\n      }\n\n      // TODO: add a more generic warning for invalid values.\n      if ((Context: any)._context !== undefined) {\n        const realContext = (Context: any)._context;\n        // Don't deduplicate because this legitimately causes bugs\n        // and nobody should be using this in existing code.\n        if (realContext.Consumer === Context) {\n          console.error(\n            'Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be ' +\n              'removed in a future major release. Did you mean to call useContext(Context) instead?',\n          );\n        } else if (realContext.Provider === Context) {\n          console.error(\n            'Calling useContext(Context.Provider) is not supported. ' +\n              'Did you mean to call useContext(Context) instead?',\n          );\n        }\n      }\n    }\n      return dispatcher.useContext(Context, unstable_observedBits);\n    }\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨Hookâï¼å¹¶ä¸æ¯âHookæºç åæâãä¹æä»¥è´´åºæºç åªæ¯æ³è®©ä½ çæä»¥ååè¯æï¼åæ­£ææ¯æ²¡çæã^_^\n\n\n# useContextåºæ¬ç¨æ³\n\nuseContext(context)å½æ°å¯ä»¥ä¼ å¥1ä¸ªåæ°ï¼è¯¥åæ°ä¸ºå±äº«æ°æ®å¯¹è±¡çå®ä¾ï¼useContextå½æ°ä¼è¿åè¯¥å±äº«å¯¹è±¡å®ä¾çvalueå¼ã\n\n# ä»£ç å½¢å¼ï¼\n\nimport GlobalContext from './global-context'; //å¼å¥å±äº«æ°æ®å¯¹è±¡\n\nfunction Component(){\n  const global = useContext(GlobalContext); //å¨å½æ°ç»ä»¶ä¸­å£°æä¸ä¸ªåéæ¥ä»£è¡¨è¯¥å±äº«æ°æ®å¯¹è±¡çvalueå¼\n\n  //è¥æ³è·åå±äº«æ°æ®å¯¹è±¡ä¸­çå±æ§xxxçå¼ï¼ç´æ¥ä½¿ç¨global.xxxå³å¯\n  return <div>\n    {global.xxx}\n  </div>\n}\n\n\n# æè§£è¯´æï¼\n\n1ãå­ç»ä»¶(å½æ°ç»ä»¶)éè¦åå¼å¥å±äº«æ°æ®å¯¹è±¡GlobalContextï¼\n2ãåé¨å®ä¹ä¸ä¸ªå¸¸églobalï¼ç¨æ¥æ¥æ¶useContextå½æ°è¿åGlobalContextçvalueå¼ï¼\n3ãå½æ°ç»ä»¶å¨returnæ¶ï¼å¯ä»¥ä¸ä½¿ç¨<GlobalCount.Customer>æ ç­¾ï¼èæ¯ç´æ¥ä½¿ç¨global.xxæ¥è·åå±äº«æ°æ®ï¼\n4ãè¯·æ³¨æï¼è¿éæ§è¡çä¾ç¶æ¯ååæ°æ®æµï¼åªå¯ä»¥è·åglobal.xxï¼ä¸å¯ä»¥ç´æ¥æ´æ¹global.xx;\n\n# 'å¼å¥GlobalContext'è¡¥åè¯´æ\n\nç¤ºä¾ä¸­æ¯éè¿importæ¹å¼å¼å¥çï¼å¦æç´æ¥æGlobalContextå®ä¹å¨è¯¥ç»ä»¶åé¨ï¼é£ä¸æ¯å°±ä¸ç¨importäºåï¼\nç­ï¼æ¯çï¼ä½ å¯ä»¥è¿ä¹åãåªä¸è¿å®ä¹å¨å¤é¨åç¬çæ¨¡åä¸­ï¼åä¸ªç»ä»¶é½å¯ä»¥å¼ç¨ã\n\n# 'global'è¡¥åè¯´æ\n\nä¸ºäºä»£ç è¯­ä¹åï¼ä¸è¿°ä»£ç ä¸­ä½¿ç¨å°äºglobalè¿ä¸ªåè¯ï¼ä½æ¯è¯·æ³¨æï¼è¯¥åè¯ååçJSä¸­global(å¨å±åé)æ ä»»ä½å³èãå®éé¡¹ç®ä¸­ä½ å¯ä»¥ä½¿ç¨ä»»æå·æè¯­ä¹çç¸å³åè¯ãæ¯å¦å®ä¹ç¨æ·å±äº«æ°æ®ä½ å¯ä»¥å®ä¹ä¸ºUserContextãæ°é»å±äº«æ°æ®ä½ å¯ä»¥å®ä¹ä¸ºNewsContextç­ã\n\n\n# useContextä½¿ç¨ç¤ºä¾ï¼\n\nä¸¾ä¾ï¼è¥æReactç»ä»¶ä¸å±ç±3å±ç»ä»¶åµå¥èæï¼ä»å¤å°éåå«æ¯AppComponentãMiddleComponentãChildComponentãAppComponentéè¦ä¼ éæ°æ®ç»ChildComponentã\n\nè¥ä½¿ç¨useContextæ¥å®ç°ï¼ä»£ç ç¤ºä¾å¦ä¸ï¼\n\n//global-context.js\nimport React from 'react';\nconst GlobalContext = React.createContext(); //è¯·æ³¨æï¼è¿éè¿å¯ä»¥ç»React.createContext()ä¼ å¥ä¸ä¸ªé»è®¤å¼\n//ä¾å¦ï¼const GlobalContext = React.createContext({name:'Yang',age:18})\n//åå¦<GlobalContext.Provider>ä¸­æ²¡æè®¾ç½®valueçå¼ï¼å°±ä¼ä½¿ç¨ä¸é¢å®ä¹çé»è®¤å¼\nexport default GlobalContext;\n\n...\n\n//component.js\nimport React, { useContext } from 'react';\nimport GlobalContext from './global-context';\n\nfunction AppComponent() {\n  //æ ç­¾<GlobalContext.Provider>ä¸­åä¸ä¼ éæ°æ®ï¼å¿é¡»ä½¿ç¨valueè¿ä¸ªå±æ§ï¼ä¸æ°æ®å¿é¡»æ¯é®å¼å¯¹ç±»åçobject\n  //å¦æä¸æ·»å valueï¼é£ä¹å­ç»ä»¶è·åå°çå±äº«æ°æ®valueå¼æ¯React.createContext(defaultValues)ä¸­çé»è®¤å¼defaultValues\n  return <div>\n    <GlobalContext.Provider value={{name:'puxiao',age:34}}>\n        <MiddleComponent />\n    </GlobalContext.Provider>\n  </div>\n}\n\nfunction MiddleComponent(){\n  //MiddleComponent ä¸éè¦åä»»ä½ âå±æ§æ°æ®ä¼ éæ¥åâï¼å æ­¤éä½è¯¥ç»ä»¶æ°æ®ä¼ éå¤ææ§ï¼æé«ç»ä»¶å¯å¤ç¨æ§\n  return <div>\n    <ChildComponent />\n  </div>\n}\n\nfunction ChildComponent(){\n  const global = useContext(GlobalContext); //è·åå±äº«æ°æ®å¯¹è±¡çvalueå¼\n  //å¿æ<GlobalContext.Consumer>æ ç­¾ï¼ç´æ¥ç¨globalè·åéè¦çå¼\n  return <div>\n    {global.name} - {global.age}\n  </div>\n}\n\nexport default AppComponent;\n\n\nåå¦ChildComponentä¸ä½¿ç¨useContextï¼èæ¯ä½¿ç¨<GlobalContext.Consumer>æ ç­¾ï¼é£ä¹ä»£ç ç¸åºä¿®æ¹ä¸ºï¼\n\nfunction ChildComponent(){\n  return <GlobalContext.Consumer>\n    {\n        global => {\n            return <div>{global.name} - {global.age}</div>\n        }\n    }\n  </GlobalContext.Consumer>\n}\n\n\nä½¿ç¨useContextå¯ä»¥å¤§å¤§éä½è·åæ°æ®ä»£ç å¤ææ§ã\n\nè¯·æ³¨æï¼useContextåªæ¯ç®åäºè·åå±äº«æ°æ®valueçä»£ç ï¼ä½æ¯å¯¹äº<XxxContext.Provider>çä½¿ç¨æ²¡æåä»»ä½æ¹åï¼å¦æç»ä»¶éè¦è®¾ç½®2ä¸ªXxxContextï¼é£ä¹ä¾ç¶éè¦è¿è¡<XxxContext.Provider>åµå¥ã\n\nä¸è¿°ä»£ç ä¸­AppComponentåªåä¸ä¼ éåºå»1ä¸ªå±äº«æ°æ®å¯¹è±¡valueå¼ï¼é£å¦æéè¦åæ¶ä¼ éå¤ä¸ªå±äº«æ°æ®å¯¹è±¡çvalueå¼ï¼é£è¯¥å¦ä½å®ç°ï¼\nå³äºè¿ä¸ªé®é¢ï¼ä¼å¨ useContexté«çº§ç¨æ³ä¸­è®²è§£ã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseContextåºç¡ç¨æ³å·²ç»è®²å®ã",normalizedContent:"# 06 usecontextåºç¡ç¨æ³\n\n\n# usecontextæ¦å¿µè§£é\n\næä»¬ç¬¬ä¸ä¸ªè¦å­¦ä¹ çhook(é©å­å½æ°)æ¯usecontextï¼ä»çä½ç¨æ¯âå¾ä½âè·åç±react.createcontext()åå»ºã<xxxcontext.provider>æ·»å è®¾ç½®çå±äº«æ°æ®valueå¼ãusecontextå¯ä»¥æ¿ä»£<xxxcontext.consumer>æ ç­¾ï¼ç®åè·åå±äº«æ°æ®çä»£ç ã\n\næä»¬ç¥éï¼åæ¬ä¸åçº§å«çç»ä»¶ä¹é´ä¼ éå±æ§å¼ï¼å¿é¡»éå±ä¼ éï¼å³ä½¿ä¸­é´å±çç»ä»¶ä¸éè¦è¿äºæ°æ®ã\næ³¨æï¼è¿éè¯´çç»ä»¶æreactææç»ä»¶ï¼åå«ç±»ç»ä»¶åå½æ°ç»ä»¶ã\n\næ°æ®å±å±ä¼ éå¢å äºç»ä»¶çå¤ææ§ï¼éä½äºå¯å¤ç¨æ§ãä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼æä»¬å¯ä»¥ä½¿ç¨ä»¥ä¸æ¹å¼ï¼\n1ãå¨ç»ä»¶é¡¶å±æåç¬çæ¨¡åä¸­ï¼ç±react.createcontext()åå»ºä¸ä¸ªå±äº«æ°æ®å¯¹è±¡ï¼\n2ãå¨ç¶ç»ä»¶ä¸­æ·»å å±äº«æ°æ®å¯¹è±¡çå¼ç¨ï¼éè¿ä¸åªè½éè¿<xxxcontext.provider value={xx:'xxx'}></xxxcontext.provider>çå½¢å¼å°æ°æ®ä¼ éç»å­ç»ä»¶ãè¯·æ³¨æä¼ å¼å¿é¡»ä½¿ç¨value={obj}è¿ç§å½¢å¼ï¼è¥å¼æ¬èº«ä¸ºå­ç¬¦ä¸²åå¯ä»¥æ¹ä¸º value='xxx'ï¼\n3ãè¥ä¸ä¸å±çå­ç»ä»¶ç¨ä¸å°å±äº«æ°æ®å¯¹è±¡ä¸­çæ°æ®ï¼åå¯ä»¥ä¸åä»»ä½å±æ§æ ç­¾ä¼ éï¼\n4ãè¥æä¸å±çå­ç»ä»¶éè¦ç¨å°å±äº«æ°æ®å¯¹è±¡çæ°æ®ï¼åå¯éè¿<xxxcontext.consumer></xxxcontext.consumer>è·åå°æ°æ®ï¼\n5ãå¨ç±»ç»ä»¶ä¸­é¤äº<xxxcontext.consumer>æ ç­¾ï¼è¿æå¦å¤ä¸ç§è·åå±äº«æ°æ®æ¹å¼ï¼static xxx = xxxcontext; ä½æ¯è¿ç§å½¢å¼å¨å½æ°ç»ä»¶ä¸­æ æ³ä½¿ç¨ã\n\nç®èè¨ä¹<xxxcontext.provider>ç¨æ¥æ·»å å±äº«æ°æ®ã<xxxcontext.consumer>ç¨æ¥è·åå±äº«æ°æ®ã\nå¤æ³¨ï¼provideråè¯æ¬æä¸ºä¾åºèãconsumeråè¯æ¬æä¸ºæ¶è´¹èï¼åå¥½å¯¹åºä»ä»¬ç¸å¯¹äºå±äº«æ°æ®çå³ç³»ã\n\nä¸é¢ç®åæè¿°äºreact.createcontext()çç¨æ³ï¼ç±äºæ¬ç³»åæç« ä¸»è¦è®²hookçä½¿ç¨æ¹æ³ï¼reactæ¬èº«çç¥è¯ç¹å¹¶ä¸æ¯éç¹è®²è§£å¯¹è±¡ãè¥ä½ å¯¹react.createcontext()ã<xxxcontext.provider>ã<xxxcontext.consumer>çç¨æ³è¿ä¸å¤ªæç½ï¼è¯·éè¿å¶ä»éå¾èªè¡å­¦ä¹ ã\n\nè®©æä»¬åå°usecontextå­¦ä¹ ä¸­ã\n\n\n# usecontextæ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼usecontextæ¯<xxxcontext.consumer>çæ¿ä»£åï¼å¯ä»¥å¤§éç®åè·åå±äº«æ°æ®å¼çä»£ç ã\n\nè¡¥åè¯´æï¼\n1ãå½æ°ç»ä»¶åç±»ç»ä»¶ï¼å¯¹äº<xxxcontext.provider>ã<xxxcontext.consumer>ä½¿ç¨æ¹å¼æ²¡æä»»ä½å·®å«ã\n2ãä½ å¯ä»¥å¨å½æ°ç»ä»¶ä¸­ä¸ä½¿ç¨usecontextï¼ç»§ç»­ä½¿ç¨<xxxcontext.consumer>ï¼è¿é½æ²¡é®é¢ãåªä¸è¿ä½¿ç¨usecontextåï¼å¯ä»¥è®©è·åå±äº«æ°æ®ç¸å³ä»£ç ç®åä¸äºã\n\n\n# usecontextå½æ°æºç ï¼\n\nåå°usecontextçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸reactæºç ä¸­çreacthooks.jsã\n\n    //å¤æ³¨ï¼æºç éç¨typescriptç¼åï¼å¦æä¸ætsä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\n    export function usecontext<t>(\n      context: reactcontext<t>,\n      unstable_observedbits: number | boolean | void,): t {\n      const dispatcher = resolvedispatcher();\n      if (__dev__) {\n        if (unstable_observedbits !== undefined) {\n          console.error(\n            'usecontext() second argument is reserved for future ' +\n            'use in react. passing it is not supported. ' +\n            'you passed: %s.%s',\n            unstable_observedbits,\n            typeof unstable_observedbits === 'number' && array.isarray(arguments[2])\n            ? '\\n\\ndid you call array.map(usecontext)? ' +\n              'calling hooks inside a loop is not supported. ' +\n              'learn more at https://fb.me/rules-of-hooks'\n            : '',\n          );\n      }\n\n      // todo: add a more generic warning for invalid values.\n      if ((context: any)._context !== undefined) {\n        const realcontext = (context: any)._context;\n        // don't deduplicate because this legitimately causes bugs\n        // and nobody should be using this in existing code.\n        if (realcontext.consumer === context) {\n          console.error(\n            'calling usecontext(context.consumer) is not supported, may cause bugs, and will be ' +\n              'removed in a future major release. did you mean to call usecontext(context) instead?',\n          );\n        } else if (realcontext.provider === context) {\n          console.error(\n            'calling usecontext(context.provider) is not supported. ' +\n              'did you mean to call usecontext(context) instead?',\n          );\n        }\n      }\n    }\n      return dispatcher.usecontext(context, unstable_observedbits);\n    }\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨hookâï¼å¹¶ä¸æ¯âhookæºç åæâãä¹æä»¥è´´åºæºç åªæ¯æ³è®©ä½ çæä»¥ååè¯æï¼åæ­£ææ¯æ²¡çæã^_^\n\n\n# usecontextåºæ¬ç¨æ³\n\nusecontext(context)å½æ°å¯ä»¥ä¼ å¥1ä¸ªåæ°ï¼è¯¥åæ°ä¸ºå±äº«æ°æ®å¯¹è±¡çå®ä¾ï¼usecontextå½æ°ä¼è¿åè¯¥å±äº«å¯¹è±¡å®ä¾çvalueå¼ã\n\n# ä»£ç å½¢å¼ï¼\n\nimport globalcontext from './global-context'; //å¼å¥å±äº«æ°æ®å¯¹è±¡\n\nfunction component(){\n  const global = usecontext(globalcontext); //å¨å½æ°ç»ä»¶ä¸­å£°æä¸ä¸ªåéæ¥ä»£è¡¨è¯¥å±äº«æ°æ®å¯¹è±¡çvalueå¼\n\n  //è¥æ³è·åå±äº«æ°æ®å¯¹è±¡ä¸­çå±æ§xxxçå¼ï¼ç´æ¥ä½¿ç¨global.xxxå³å¯\n  return <div>\n    {global.xxx}\n  </div>\n}\n\n\n# æè§£è¯´æï¼\n\n1ãå­ç»ä»¶(å½æ°ç»ä»¶)éè¦åå¼å¥å±äº«æ°æ®å¯¹è±¡globalcontextï¼\n2ãåé¨å®ä¹ä¸ä¸ªå¸¸églobalï¼ç¨æ¥æ¥æ¶usecontextå½æ°è¿åglobalcontextçvalueå¼ï¼\n3ãå½æ°ç»ä»¶å¨returnæ¶ï¼å¯ä»¥ä¸ä½¿ç¨<globalcount.customer>æ ç­¾ï¼èæ¯ç´æ¥ä½¿ç¨global.xxæ¥è·åå±äº«æ°æ®ï¼\n4ãè¯·æ³¨æï¼è¿éæ§è¡çä¾ç¶æ¯ååæ°æ®æµï¼åªå¯ä»¥è·åglobal.xxï¼ä¸å¯ä»¥ç´æ¥æ´æ¹global.xx;\n\n# 'å¼å¥globalcontext'è¡¥åè¯´æ\n\nç¤ºä¾ä¸­æ¯éè¿importæ¹å¼å¼å¥çï¼å¦æç´æ¥æglobalcontextå®ä¹å¨è¯¥ç»ä»¶åé¨ï¼é£ä¸æ¯å°±ä¸ç¨importäºåï¼\nç­ï¼æ¯çï¼ä½ å¯ä»¥è¿ä¹åãåªä¸è¿å®ä¹å¨å¤é¨åç¬çæ¨¡åä¸­ï¼åä¸ªç»ä»¶é½å¯ä»¥å¼ç¨ã\n\n# 'global'è¡¥åè¯´æ\n\nä¸ºäºä»£ç è¯­ä¹åï¼ä¸è¿°ä»£ç ä¸­ä½¿ç¨å°äºglobalè¿ä¸ªåè¯ï¼ä½æ¯è¯·æ³¨æï¼è¯¥åè¯ååçjsä¸­global(å¨å±åé)æ ä»»ä½å³èãå®éé¡¹ç®ä¸­ä½ å¯ä»¥ä½¿ç¨ä»»æå·æè¯­ä¹çç¸å³åè¯ãæ¯å¦å®ä¹ç¨æ·å±äº«æ°æ®ä½ å¯ä»¥å®ä¹ä¸ºusercontextãæ°é»å±äº«æ°æ®ä½ å¯ä»¥å®ä¹ä¸ºnewscontextç­ã\n\n\n# usecontextä½¿ç¨ç¤ºä¾ï¼\n\nä¸¾ä¾ï¼è¥æreactç»ä»¶ä¸å±ç±3å±ç»ä»¶åµå¥èæï¼ä»å¤å°éåå«æ¯appcomponentãmiddlecomponentãchildcomponentãappcomponentéè¦ä¼ éæ°æ®ç»childcomponentã\n\nè¥ä½¿ç¨usecontextæ¥å®ç°ï¼ä»£ç ç¤ºä¾å¦ä¸ï¼\n\n//global-context.js\nimport react from 'react';\nconst globalcontext = react.createcontext(); //è¯·æ³¨æï¼è¿éè¿å¯ä»¥ç»react.createcontext()ä¼ å¥ä¸ä¸ªé»è®¤å¼\n//ä¾å¦ï¼const globalcontext = react.createcontext({name:'yang',age:18})\n//åå¦<globalcontext.provider>ä¸­æ²¡æè®¾ç½®valueçå¼ï¼å°±ä¼ä½¿ç¨ä¸é¢å®ä¹çé»è®¤å¼\nexport default globalcontext;\n\n...\n\n//component.js\nimport react, { usecontext } from 'react';\nimport globalcontext from './global-context';\n\nfunction appcomponent() {\n  //æ ç­¾<globalcontext.provider>ä¸­åä¸ä¼ éæ°æ®ï¼å¿é¡»ä½¿ç¨valueè¿ä¸ªå±æ§ï¼ä¸æ°æ®å¿é¡»æ¯é®å¼å¯¹ç±»åçobject\n  //å¦æä¸æ·»å valueï¼é£ä¹å­ç»ä»¶è·åå°çå±äº«æ°æ®valueå¼æ¯react.createcontext(defaultvalues)ä¸­çé»è®¤å¼defaultvalues\n  return <div>\n    <globalcontext.provider value={{name:'puxiao',age:34}}>\n        <middlecomponent />\n    </globalcontext.provider>\n  </div>\n}\n\nfunction middlecomponent(){\n  //middlecomponent ä¸éè¦åä»»ä½ âå±æ§æ°æ®ä¼ éæ¥åâï¼å æ­¤éä½è¯¥ç»ä»¶æ°æ®ä¼ éå¤ææ§ï¼æé«ç»ä»¶å¯å¤ç¨æ§\n  return <div>\n    <childcomponent />\n  </div>\n}\n\nfunction childcomponent(){\n  const global = usecontext(globalcontext); //è·åå±äº«æ°æ®å¯¹è±¡çvalueå¼\n  //å¿æ<globalcontext.consumer>æ ç­¾ï¼ç´æ¥ç¨globalè·åéè¦çå¼\n  return <div>\n    {global.name} - {global.age}\n  </div>\n}\n\nexport default appcomponent;\n\n\nåå¦childcomponentä¸ä½¿ç¨usecontextï¼èæ¯ä½¿ç¨<globalcontext.consumer>æ ç­¾ï¼é£ä¹ä»£ç ç¸åºä¿®æ¹ä¸ºï¼\n\nfunction childcomponent(){\n  return <globalcontext.consumer>\n    {\n        global => {\n            return <div>{global.name} - {global.age}</div>\n        }\n    }\n  </globalcontext.consumer>\n}\n\n\nä½¿ç¨usecontextå¯ä»¥å¤§å¤§éä½è·åæ°æ®ä»£ç å¤ææ§ã\n\nè¯·æ³¨æï¼usecontextåªæ¯ç®åäºè·åå±äº«æ°æ®valueçä»£ç ï¼ä½æ¯å¯¹äº<xxxcontext.provider>çä½¿ç¨æ²¡æåä»»ä½æ¹åï¼å¦æç»ä»¶éè¦è®¾ç½®2ä¸ªxxxcontextï¼é£ä¹ä¾ç¶éè¦è¿è¡<xxxcontext.provider>åµå¥ã\n\nä¸è¿°ä»£ç ä¸­appcomponentåªåä¸ä¼ éåºå»1ä¸ªå±äº«æ°æ®å¯¹è±¡valueå¼ï¼é£å¦æéè¦åæ¶ä¼ éå¤ä¸ªå±äº«æ°æ®å¯¹è±¡çvalueå¼ï¼é£è¯¥å¦ä½å®ç°ï¼\nå³äºè¿ä¸ªé®é¢ï¼ä¼å¨ usecontexté«çº§ç¨æ³ä¸­è®²è§£ã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºusecontextåºç¡ç¨æ³å·²ç»è®²å®ã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"07 useContexté«çº§ç¨æ³",frontmatter:{title:"07 useContexté«çº§ç¨æ³",date:"2023-09-07T11:40:56.000Z",permalink:"/pages/15da39/"},regularPath:"/03.react/07.useContext%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95.html",relativePath:"03.react/07.useContexté«çº§ç¨æ³.md",key:"v-7c321b48",path:"/pages/15da39/",headers:[{level:2,title:"åæ¶ä¼ éå¤ä¸ªå±äº«æ°æ®å¼ç»1ä¸ªå­ç»ä»¶",slug:"åæ¶ä¼ éå¤ä¸ªå±äº«æ°æ®å¼ç»1ä¸ªå­ç»ä»¶",normalizedTitle:"åæ¶ä¼ éå¤ä¸ªå±äº«æ°æ®å¼ç»1ä¸ªå­ç»ä»¶",charIndex:75},{level:2,title:"åæ¶å°1ä¸ªå±äº«æ°æ®å¼ä¼ éç»å¤ä¸ªå­ç»ä»¶",slug:"åæ¶å°1ä¸ªå±äº«æ°æ®å¼ä¼ éç»å¤ä¸ªå­ç»ä»¶",normalizedTitle:"åæ¶å°1ä¸ªå±äº«æ°æ®å¼ä¼ éç»å¤ä¸ªå­ç»ä»¶",charIndex:1034},{level:2,title:"ä¸ºä»ä¹ä¸ä½¿ç¨Reduxï¼",slug:"ä¸ºä»ä¹ä¸ä½¿ç¨redux",normalizedTitle:"ä¸ºä»ä¹ä¸ä½¿ç¨reduxï¼",charIndex:1343}],headersStr:"åæ¶ä¼ éå¤ä¸ªå±äº«æ°æ®å¼ç»1ä¸ªå­ç»ä»¶ åæ¶å°1ä¸ªå±äº«æ°æ®å¼ä¼ éç»å¤ä¸ªå­ç»ä»¶ ä¸ºä»ä¹ä¸ä½¿ç¨Reduxï¼",content:"# 07 useContexté«çº§ç¨æ³\n\næè°é«çº§ç¨æ³ï¼åªä¸è¿æ¯ä¸äºæ·±å±ç¥è¯ç¹åå®ç¨æå·§ï¼ä½ çè³å¯ä»¥ææ¬ç« å½åå¯¹åé¢ç¥è¯ç¹çä¸ä¸ªå·©åºåå­¦ä¹ ã\n\n\n# åæ¶ä¼ éå¤ä¸ªå±äº«æ°æ®å¼ç»1ä¸ªå­ç»ä»¶\n\nå®ç°ä»¥ä¸ç»ä»¶éæ±ï¼\n1ãæ2ä¸ªå±äº«æ°æ®å¯¹è±¡ UserContextãNewsContextï¼\n2ãç¶ç»ä»¶ä¸ºAppComponentãå­ç»ä»¶ä¸ºChildComponentï¼\n3ãç¶ç»ä»¶éè¦åæ¶å°UserContextãNewsContextçæ°æ®åæ¶ä¼ éç»å­ç»ä»¶ï¼\n\nå®ç°ä»£ç ï¼\n\n    import React,{ useContext } from 'react'\n\n    const UserContext = React.createContext();\n    const NewsContext = React.createContext();\n\n    function AppComponent() {\n      return (\n        <UserContext.Provider value={{name:'puxiao'}}>\n            <NewsContext.Provider value={{title:'Hello React Hook.'}}>\n                <ChildComponent />\n            </NewsContext.Provider>\n        </UserContext.Provider>\n      )\n    }\n\n    function ChildComponent(){\n      const user = useContext(UserContext);\n      const news = useContext(NewsContext);\n      return <div>\n        {user.name} - {news.title}\n      </div>\n    }\n\n    export default AppComponent;\n\n\nä»£ç åæï¼\n1ãç¶ç»ä»¶åæ¶è¦å®ç°ä¼ é2ä¸ªå±äº«æ°æ®å¯¹è±¡valueå¼ï¼éè¦ä½¿ç¨<XxxContext.Provider value={obj}>æ ç­¾è¿è¡2æ¬¡åµå¥ã\n2ãå­ç»ä»¶ä½¿ç¨äºuseContextï¼ä»å¯ä»¥èªç±éæä½¿ç¨ç¶ç»ä»¶ä¼ éè¿æ¥çå±äº«æ°æ®valueï¼å¹¶ä¸éè¦å¤æ¬¡åµå¥è·åã\n\n\n# åæ¶å°1ä¸ªå±äº«æ°æ®å¼ä¼ éç»å¤ä¸ªå­ç»ä»¶\n\nä½¿ç¨<XxxContext.Provider></XxxContext.Provider>æ ç­¾å°å¤ä¸ªå­ç»ä»¶åè£¹èµ·æ¥ï¼å³å¯å®ç°ã\n\n    <XxxContext.Provider value={{name:'puxiao'}}>\n        <ComponentA />\n        <ComponentB />\n        <ComponentC />\n    </XxxContext.Provider>\n\n\n3ä¸ªå­ç»ä»¶<ComponentA />ã<ComponentB />ã<ComponentC />é½å¯ä½¿ç¨useContextè·åå±äº«æ°æ®å¼ã\n\n\n# ä¸ºä»ä¹ä¸ä½¿ç¨Reduxï¼\n\nå¨Hookåºç°ä»¥åï¼Reactä¸»è¦è´è´£è§å¾å±çæ¸²æï¼å¹¶ä¸è´è´£ç»ä»¶æ°æ®ç¶æç®¡çï¼æä»¥ææäºç¬¬ä¸æ¹Reduxæ¨¡åï¼ä¸é¨æ¥è´è´£Reactçæ°æ®ç®¡çã\n\nä½æ¯èªä»æäºHookåï¼ä½¿ç¨React Hook è¿è¡å½æ°ç»ä»¶å¼åï¼å®ç°æ°æ®ç¶æç®¡çåå¾åå®å¯è¡ãåªè¦æ ¹æ®å®éé¡¹ç®éæ±ï¼ä½¿ç¨useContextä»¥åä¸ä¸ç« èè¦å­¦ä¹ çuseReducerï¼ä¸å®ç¨åº¦ä¸æ¯å¯ä»¥æ»¡è¶³å¸¸è§éæ±çã\n\næ¯ç«ä½¿ç¨Reduxä¼å¢å¤§é¡¹ç®å¤æåº¦ï¼æ­¤å¤è¿è¦è±è´¹å­¦ä¹ Reduxææ¬ã\n\nå·ä½éæ±å·ä½åæï¼ä¸å¿è¿åè¿½æ±Reduxã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseContexté«çº§ç¨æ³å·²ç»è®²å®ï¼useContextéä½äºç»ä»¶ä¹é´æ°æ®ä¼ éçå¤ææ§ï¼è®©æä»¬ç¼åä»£ç æ´å å¿æææ¦ï¼èä¸ç¨å»å³å¿å±å±åµå¥é®é¢ã\n\næ¥ä¸æ¥å­¦ä¹ ç¬¬4ä¸ªHookå½æ°useReducerã",normalizedContent:"# 07 usecontexté«çº§ç¨æ³\n\næè°é«çº§ç¨æ³ï¼åªä¸è¿æ¯ä¸äºæ·±å±ç¥è¯ç¹åå®ç¨æå·§ï¼ä½ çè³å¯ä»¥ææ¬ç« å½åå¯¹åé¢ç¥è¯ç¹çä¸ä¸ªå·©åºåå­¦ä¹ ã\n\n\n# åæ¶ä¼ éå¤ä¸ªå±äº«æ°æ®å¼ç»1ä¸ªå­ç»ä»¶\n\nå®ç°ä»¥ä¸ç»ä»¶éæ±ï¼\n1ãæ2ä¸ªå±äº«æ°æ®å¯¹è±¡ usercontextãnewscontextï¼\n2ãç¶ç»ä»¶ä¸ºappcomponentãå­ç»ä»¶ä¸ºchildcomponentï¼\n3ãç¶ç»ä»¶éè¦åæ¶å°usercontextãnewscontextçæ°æ®åæ¶ä¼ éç»å­ç»ä»¶ï¼\n\nå®ç°ä»£ç ï¼\n\n    import react,{ usecontext } from 'react'\n\n    const usercontext = react.createcontext();\n    const newscontext = react.createcontext();\n\n    function appcomponent() {\n      return (\n        <usercontext.provider value={{name:'puxiao'}}>\n            <newscontext.provider value={{title:'hello react hook.'}}>\n                <childcomponent />\n            </newscontext.provider>\n        </usercontext.provider>\n      )\n    }\n\n    function childcomponent(){\n      const user = usecontext(usercontext);\n      const news = usecontext(newscontext);\n      return <div>\n        {user.name} - {news.title}\n      </div>\n    }\n\n    export default appcomponent;\n\n\nä»£ç åæï¼\n1ãç¶ç»ä»¶åæ¶è¦å®ç°ä¼ é2ä¸ªå±äº«æ°æ®å¯¹è±¡valueå¼ï¼éè¦ä½¿ç¨<xxxcontext.provider value={obj}>æ ç­¾è¿è¡2æ¬¡åµå¥ã\n2ãå­ç»ä»¶ä½¿ç¨äºusecontextï¼ä»å¯ä»¥èªç±éæä½¿ç¨ç¶ç»ä»¶ä¼ éè¿æ¥çå±äº«æ°æ®valueï¼å¹¶ä¸éè¦å¤æ¬¡åµå¥è·åã\n\n\n# åæ¶å°1ä¸ªå±äº«æ°æ®å¼ä¼ éç»å¤ä¸ªå­ç»ä»¶\n\nä½¿ç¨<xxxcontext.provider></xxxcontext.provider>æ ç­¾å°å¤ä¸ªå­ç»ä»¶åè£¹èµ·æ¥ï¼å³å¯å®ç°ã\n\n    <xxxcontext.provider value={{name:'puxiao'}}>\n        <componenta />\n        <componentb />\n        <componentc />\n    </xxxcontext.provider>\n\n\n3ä¸ªå­ç»ä»¶<componenta />ã<componentb />ã<componentc />é½å¯ä½¿ç¨usecontextè·åå±äº«æ°æ®å¼ã\n\n\n# ä¸ºä»ä¹ä¸ä½¿ç¨reduxï¼\n\nå¨hookåºç°ä»¥åï¼reactä¸»è¦è´è´£è§å¾å±çæ¸²æï¼å¹¶ä¸è´è´£ç»ä»¶æ°æ®ç¶æç®¡çï¼æä»¥ææäºç¬¬ä¸æ¹reduxæ¨¡åï¼ä¸é¨æ¥è´è´£reactçæ°æ®ç®¡çã\n\nä½æ¯èªä»æäºhookåï¼ä½¿ç¨react hook è¿è¡å½æ°ç»ä»¶å¼åï¼å®ç°æ°æ®ç¶æç®¡çåå¾åå®å¯è¡ãåªè¦æ ¹æ®å®éé¡¹ç®éæ±ï¼ä½¿ç¨usecontextä»¥åä¸ä¸ç« èè¦å­¦ä¹ çusereducerï¼ä¸å®ç¨åº¦ä¸æ¯å¯ä»¥æ»¡è¶³å¸¸è§éæ±çã\n\næ¯ç«ä½¿ç¨reduxä¼å¢å¤§é¡¹ç®å¤æåº¦ï¼æ­¤å¤è¿è¦è±è´¹å­¦ä¹ reduxææ¬ã\n\nå·ä½éæ±å·ä½åæï¼ä¸å¿è¿åè¿½æ±reduxã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºusecontexté«çº§ç¨æ³å·²ç»è®²å®ï¼usecontextéä½äºç»ä»¶ä¹é´æ°æ®ä¼ éçå¤ææ§ï¼è®©æä»¬ç¼åä»£ç æ´å å¿æææ¦ï¼èä¸ç¨å»å³å¿å±å±åµå¥é®é¢ã\n\næ¥ä¸æ¥å­¦ä¹ ç¬¬4ä¸ªhookå½æ°usereducerã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"08 useReduceråºç¡ç¨æ³",frontmatter:{title:"08 useReduceråºç¡ç¨æ³",date:"2023-09-07T17:36:58.000Z",permalink:"/pages/ab6774/"},regularPath:"/03.react/08.useReducer%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95.html",relativePath:"03.react/08.useReduceråºç¡ç¨æ³.md",key:"v-79108ef8",path:"/pages/ab6774/",headers:[{level:2,title:"useReduceræ¦å¿µè§£é",slug:"usereduceræ¦å¿µè§£é",normalizedTitle:"usereduceræ¦å¿µè§£é",charIndex:24},{level:2,title:"useReduceræ¯æ¥è§£å³ä»ä¹é®é¢çï¼",slug:"usereduceræ¯æ¥è§£å³ä»ä¹é®é¢ç",normalizedTitle:"usereduceræ¯æ¥è§£å³ä»ä¹é®é¢çï¼",charIndex:318},{level:2,title:"useReducerå½æ°æºç ï¼",slug:"usereducerå½æ°æºç ",normalizedTitle:"usereducerå½æ°æºç ï¼",charIndex:530},{level:2,title:"useReduceråºæ¬ç¨æ³",slug:"usereduceråºæ¬ç¨æ³",normalizedTitle:"usereduceråºæ¬ç¨æ³",charIndex:1038},{level:5,title:"ä»£ç å½¢å¼ï¼",slug:"ä»£ç å½¢å¼",normalizedTitle:"ä»£ç å½¢å¼ï¼",charIndex:1452},{level:5,title:"æè§£è¯´æï¼",slug:"æè§£è¯´æ",normalizedTitle:"æè§£è¯´æï¼",charIndex:2066},{level:4,title:"'reducer'è¡¥åè¯´æ",slug:"reducer-è¡¥åè¯´æ",normalizedTitle:"'reducer'è¡¥åè¯´æ",charIndex:2106},{level:4,title:"'xxx'è¡¥åè¯´æ",slug:"xxx-è¡¥åè¯´æ",normalizedTitle:"'xxx'è¡¥åè¯´æ",charIndex:2306},{level:4,title:"'dispatch'è¡¥åè¯´æ",slug:"dispatch-è¡¥åè¯´æ",normalizedTitle:"'dispatch'è¡¥åè¯´æ",charIndex:2405},{level:4,title:"'initialValue'è¡¥åè¯´æ",slug:"initialvalue-è¡¥åè¯´æ",normalizedTitle:"'initialvalue'è¡¥åè¯´æ",charIndex:2565},{level:2,title:"useReducerä½¿ç¨ç¤ºä¾1ï¼",slug:"usereducerä½¿ç¨ç¤ºä¾1",normalizedTitle:"usereducerä½¿ç¨ç¤ºä¾1ï¼",charIndex:2755},{level:2,title:"useReducerä½¿ç¨ç¤ºä¾2",slug:"usereducerä½¿ç¨ç¤ºä¾2",normalizedTitle:"usereducerä½¿ç¨ç¤ºä¾2",charIndex:4043}],headersStr:"useReduceræ¦å¿µè§£é useReduceræ¯æ¥è§£å³ä»ä¹é®é¢çï¼ useReducerå½æ°æºç ï¼ useReduceråºæ¬ç¨æ³ ä»£ç å½¢å¼ï¼ æè§£è¯´æï¼ 'reducer'è¡¥åè¯´æ 'xxx'è¡¥åè¯´æ 'dispatch'è¡¥åè¯´æ 'initialValue'è¡¥åè¯´æ useReducerä½¿ç¨ç¤ºä¾1ï¼ useReducerä½¿ç¨ç¤ºä¾2",content:"# 08 useReduceråºç¡ç¨æ³\n\n\n# useReduceræ¦å¿µè§£é\n\næä»¬ç¬¬åä¸ªè¦å­¦ä¹ çHook(é©å­å½æ°)æ¯useReducerï¼ä»çä½ç¨æ¯âå¾ä½âæäºèªå®ä¹æ°æ®å¯¹åºçdispatchæå¼åçæ°æ®æ´æ¹äºä»¶ãuseReducerå¯ä»¥æ¿ä»£useStateï¼å®ç°æ´ä¸ºå¤æé»è¾çæ°æ®ä¿®æ¹ã\n\nå¨React 16.8çæ¬ä»¥åï¼éå¸¸éè¦ä½¿ç¨ç¬¬ä¸æ¹Reduxæ¥ç®¡çReactçå¬å±æ°æ®ï¼ä½èªä» React Hook æ¦å¿µåºç°ä»¥åï¼å¯ä»¥ä½¿ç¨ useContext + useReducer è½»æ¾å®ç° Redux ç¸ä¼¼åè½ãè¿ä¸é¨åä¼å¨ âuseReduceré«çº§ç¨æ³â ä¸­åè¯¦ç»è®²è§£ã\n\nè®©æä»¬åå°useReduceråºç¡å­¦ä¹ ä¸­ã\n\n\n# useReduceræ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼useReduceræ¯useStateçåçº§ç(å®éä¸åºè¯¥æ¯åå§ç)ï¼å¯ä»¥å®ç°å¤æé»è¾ä¿®æ¹ï¼èä¸æ¯åuseStateé£æ ·åªæ¯ç´æ¥èµå¼ä¿®æ¹ã\n\nè¡¥åè¯´æï¼\n1ãå¨Reactæºç ä¸­ï¼å®éä¸useStateå°±æ¯ç±useReducerå®ç°çï¼æä»¥useReduceråç¡®æ¥è¯´æ¯useStateçåå§çã\n2ãæ è®ºåªä¸ä¸ªHookå½æ°ï¼æ¬è´¨ä¸é½æ¯éè¿äºä»¶é©±å¨æ¥å®ç°è§å¾å±æ´æ°çã\n\n\n# useReducerå½æ°æºç ï¼\n\nåå°useReducerçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸Reactæºç ä¸­çReactHooks.jsã\n\n//å¤æ³¨ï¼æºç éç¨TypeScriptç¼åï¼å¦æä¸æTSä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\nexport function useReducer<S, I, A>(\n  reducer: (S, A) => S,\n  initialArg: I,\n  init?: I => S,\n): [S, Dispatch<A>] {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useReducer(reducer, initialArg, init);\n}\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨Hookâï¼å¹¶ä¸æ¯âHookæºç åæâãä¹æä»¥è´´åºæºç åªæ¯æ³è®©ä½ éç¹çä¸ä¸useReducerå½æ°çç¬¬3ä¸ªåæ°ãä¸è¬æä»¬åªä¼ 2ä¸ªåæ°ï¼å¦ææä¸å¤©ä½ çå°æäººä¸ºäºæäºä¸å¸¸ç¨çç®çä¼ äº3ä¸ªåæ°ï¼ä½ åºè¯¥çè§£ï¼ç¬¬3ä¸ªåæ°å¶å®åªæ¯ç¬¬1åç¬¬2ä¸ªåæ°çæç§è½¬åãäºå®ä¸ä½ å¯ä»¥å®å¨å¿½ç¥è¿ä¸ªé®é¢ï¼æ¯æ¬¡å¼ä¼ 2ä¸ªåæ°å³å¯ã^_^\n\n\n# useReduceråºæ¬ç¨æ³\n\nuseReducer(reducer,initialValue)å½æ°éå¸¸ä¼ å¥2ä¸ªåæ°ï¼ç¬¬1ä¸ªåæ°ä¸ºæä»¬å®ä¹çä¸ä¸ªâç±dispatchå¼åçæ°æ®ä¿®æ¹å¤çå½æ°âï¼ç¬¬2ä¸ªåæ°ä¸ºèªå®ä¹æ°æ®çé»è®¤å¼ï¼useReducerå½æ°ä¼è¿åèªå®ä¹åéçå¼ç¨åè¯¥èªå®ä¹åéå¯¹åºçâdispatchâã\n\nè¯·æ³¨æï¼å½ä½ çå°äºdispatchï¼è¯å®æ³å°äºåçJSä¸­çEventEmitterï¼äºå®ä¸React Hookå¸®æä»¬åäºåºå±çäºä»¶é©±å¨å¤çï¼æä»¬æ¿å°çdispatchä»¥åâäºä»¶å¤çå½æ°âreducerï¼é½æ¶è¢«React Hook å°è£è¿åçï¼å¹¶ä¸æ¯çæ­£çæåºåäºä»¶å¤çå½æ°ã\n\nä½æ¯ä¸ºäºæ´å®¹æè®©ä½ çè§£ï¼æ¬æä¾ç¶ä¼å¨è®²è§£useReduceræ¶ä½¿ç¨å°âäºä»¶æåºãäºä»¶å¤çå½æ°âç­æå­ã\n\nå¦æä½ äºè§£äºä»¶é©±å¨ï¼ä½¿ç¨è¿EventEmitterï¼æèä½ ä½¿ç¨è¿Reduxï¼é£ä¹ä½ ä¼å¾å®¹æçè§£useReducerçç¨æ³ã\n\n# ä»£ç å½¢å¼ï¼\n\nimport React, { useReducer } from 'react'; //å¼å¥useReducer\n\n//å®ä¹å¥½âäºä»¶å¤çå½æ°â reducer\nfunction reducer(state, action) {\n  switch (action) {\n    case 'xx':\n        return xxxx;\n    case 'xx':\n        return xxxx;\n    default:\n        return xxxx;\n  }\n}\n\nfunction Component(){\n  //å£°æä¸ä¸ªåéxxxï¼ä»¥åå¯¹åºä¿®æ¹xxxçdispatch\n  //å°äºä»¶å¤çå½æ°reduceråé»è®¤å¼initialValueä½ä¸ºåæ°ä¼ éç»useReducer\n  const [xxx, dispatch] = useReducer(reducer, initialValue); \n\n  //è¥æ³è·åxxxçå¼ï¼ç´æ¥ä½¿ç¨xxxå³å¯\n  \n  //è¥æ³ä¿®æ¹xxxçå¼ï¼éè¿dispatchæ¥ä¿®æ¹\n  dispatch('xx');\n}\n\n//è¯·æ³¨æï¼ä¸è¿°ä»£ç ä¸­çactionåªæ¯æåºç¡çå­ç¬¦ä¸²å½¢å¼ï¼äºå®ä¸actionå¯ä»¥æ¯å¤å±æ§çobjectï¼è¿æ ·å¯ä»¥èªå®ä¹æ´å¤å±æ§åæ´å¤åæ°å¼\n//ä¾å¦ action å¯ä»¥æ¯ {type:'xx',param:xxx}\n\n\n# æè§£è¯´æï¼\n\n1ãå·ä½è®²è§£å·²å¨ä¸é¢ç¤ºä¾ä»£ç ä¸­åäºå¤é¡¹æ³¨éï¼æ­¤å¤ä¸åéå¤ï¼\n\n# 'reducer'è¡¥åè¯´æ\n\n1ãreducerè±æåè¯æ¬èº«æææ¯âåéå¨ãè¿ååâï¼ä½æ¯æ¬æä¸­ä¸ç´æreducerç§°å¼ä¸ºâäºä»¶å¤çå½æ°âï¼ä½äºå®ä¸reducerç¡®å®æ®æ¼ä¸ä¸ªäºä»¶å¤çå½æ°ã\n2ãåä¸ä¸è¦æuseReducerä¸­çreducer å åçJSä¸­çArray.prototype.reduce()å¼æ··æ·ï¼ä»ä»¬ä¸¤ä¸ªåªæ¯åå¥½é½ä½¿ç¨äºè¿ä¸ªreduceåè¯èå·²ï¼ä¸¤èæ¬èº«æ²¡æä»»ä½åå¨å³èã\n\n# 'xxx'è¡¥åè¯´æ\n\nåè®¾æä»¬å®ä¹çåéåä¸ºxxxï¼é£ä¹åªè½éè¿dispatchæ¥ä¿®æ¹xxxï¼ä¸è¦å°è¯éè¿ xxx = newValue è¿ç§å½¢å¼ç´æ¥ä¿®æ¹åéçå¼ï¼React ä¸åè®¸è¿æ ·åã\n\n# 'dispatch'è¡¥åè¯´æ\n\nåæ¬¡å¼ºè°ï¼dispacthå¹¶ä¸æ¯çæ­£çEvent.dispatchï¼ä½æ¯ä½ å®å¨å¯ä»¥æå®å½æEvent.dispatchæ¥çè§£ï¼åªä¸è¿useReducerä¸­çdispacth(xxx)å½æ°æåºåå®¹ä¸æ¯eventï¼èæ¯ä¸ä¸ªåå«ä¿®æ¹ä¿¡æ¯çå¯¹è±¡ï¼è¯¥å¯¹è±¡ä¸ä»å¯ä»¥æ¯å­ç¬¦ä¸²ï¼è¿å¯ä»¥æ¯å¤æå¯¹è±¡ã\n\n# 'initialValue'è¡¥åè¯´æ\n\ninitialValueæ¯æä»¬èªå®ä¹åéçé»è®¤å¼ï¼è¯¥å¼å¯ä»¥æ¯ç®åç±»å(numberãstring)ï¼ä¹å¯ä»¥æ¯å¤æç±»å(objectãarray)ã\næ¨èå»ºè®®ï¼å³ä½¿è¯¥å¼æ¯ç®åç±»åï¼ä¹å»ºè®®åç¬å®ä¹åºæ¥èä¸æ¯ç´æ¥å°å¼åå¨useReducerå½æ°ä¸­ï¼å ä¸ºåç¬å®ä¹å¯ä»¥è®©æä»¬æ´å æ¸æ°è¯»ææ°æ®ç»æï¼å°¤å¶æ¯initialValueä¸ºå¤æç±»åæ¶ã\n\n\n# useReducerä½¿ç¨ç¤ºä¾1ï¼\n\nä¸¾ä¾ï¼è¥æReactç»ä»¶åé¨æä¸ä¸ªåécountï¼é»è®¤å¼ä¸º0ï¼æ3ä¸ªbuttonï¼ç¹å»ä¹ååå«å¯ä»¥ä¿®æ¹countçå¼ã3ä¸ªæé®å·ä½çåè½ä¸ºï¼ç¬¬1ä¸ªbuttonç¹å»ä¹åcount+1ï¼ç¬¬2ä¸ªbuttonç¹å»ä¹åcount -1ï¼ç¬¬3ä¸ªbuttonç¹å»ä¹å count x 2 (ç¿»å)ã\n\nè¥ä½¿ç¨useStateæ¥å®ç°ï¼é£è¯å®æ²¡é®é¢ï¼æ¯ä¸ªbuttonç¹å»ä¹ååå«è¿ç®å¾å°å¯¹åºçæ°å¼ï¼å°è¯¥å¼ç´æ¥éè¿setCountèµäºç»countã\n\nè¥ä½¿ç¨useReduceræ¥å®ç°ç¸ååè½ï¼ä»£ç ç¤ºä¾å¦ä¸ï¼\n\nimport React, { useReducer } from 'react';\n\nfunction reducer(state,action){\n  switch(action){\n    case 'add':\n        return state + 1;\n    case 'sub':\n        return state - 1;\n    case 'mul':\n        return state * 2;\n    default:\n        console.log('what?');\n        return state;\n  }\n}\n\nfunction CountComponent() {\n  const [count, dispatch] = useReducer(reducer,0);\n\n  return <div>\n    {count}\n    <button onClick={() => {dispatch('add')}} >add</button>\n    <button onClick={() => {dispatch('sub')}} >sub</button>\n    <button onClick={() => {dispatch('mul')}} >mul</button>\n  </div>;\n}\n\nexport default CountComponent;\n\n\nä»£ç åæï¼\n3ä¸ªæé®ç¹å»ä¹åï¼ä¸åå·ä½å»ç´æ¥ä¿®æ¹countçå¼ï¼èæ¯éç¨ dispatche('xxx')çå½¢å¼ âæåºä¿®æ¹countçäºä»¶âï¼äºä»¶å¤çå½æ°reducerâæè·å°ä¿®æ¹countçäºä»¶åâï¼æ ¹æ®è¯¥äºä»¶æºå¸¦çå½ä»¤ç±»åæ¥è¿ä¸æ­¥å¤æ­ï¼å¹¶çæ­£æ§è¡å¯¹countçä¿®æ¹ã\n\nè¯·æ³¨æä¸é¢è¿å¥è¯ä¸­å å¼å·çè¯­å¥ï¼æ¬æåªæ¯ä»¥äºä»¶é©±å¨çè¯­è¨æ¥æè¿°æ´ä¸ªè¿ç¨ï¼ç®çå¸æä½ è½æ´å å®¹æçè§£ã\n\n3ä¸ªæé®åªæ¯è´è´£éç¥reducerâæå¸æåä»ä¹äºæâï¼å·ä½æä¹åå®å¨ç±reduceræ¥æ§è¡ãè¿æ ·å®ç°äºä¿®æ¹æ°æ®å·ä½æ§è¡é»è¾ä¸æé®ç¹å»å¤çå½æ°çæ½ç¦»ã\n\nå¦æä¸ä½¿ç¨useReducerï¼èæ¯ä½¿ç¨ä¹åå­¦ä¹ è¿çuseStateï¼é£ä¹å¯¹countçæ¯ä¸ç§ä¿®æ¹é»è¾ä»£ç ï¼é½å¿é¡»åæ£åå¨æ¯ä¸ªæé®çç¹å»äºä»¶å¤çå½æ°ä¸­ã\n\nè¥åªæ¯ä¿®æ¹countçåè½ï¼é£ä¹useReducerçä¼å¿è¿æªå¨é¨ä½ç°åºæ¥ï¼æä»¬æ¥ççå¦å¤ä¸ä¸ªç¤ºä¾ã\n\n\n# useReducerä½¿ç¨ç¤ºä¾2\n\nä¸¾ä¾ï¼å¨ç¤ºä¾1ä¸­å¯¹count æ§è¡çä¿®æ¹ï¼æ°å¼åå¨é½æ¯åºå®çï¼å³ +1ã-1ãx 2ãåè®¾æä»¬å¸ææé®ç¹å»ä¹åï¼è½å¤èªä¸»æ§å¶å¢å å¤å°ãåå¤å°ãæä¹ä»¥å ï¼è¿ä¸ªææè¯¥æä¹å®ç°å¢ï¼\n\nå¾ç®åï¼æä»¬å°dispatch('xxx')ä¸­çxxxç±å­ç¬¦ä¸²æ¹ä¸ºobjï¼objå¯ä»¥æºå¸¦æ´å¤å±æ§ä½ä¸ºåæ°ä¼ ç»reducerã æ¯å¦ä¹åå¯¹ \"å \"çå½ä»¤ dispatch('add')ï¼ä¿®æ¹ä¸º dispatch({type:'add',param:2})ã reducerå¯ä»¥éè¿action.typeæ¥åºåæ¯åªç§å½ä»¤ãéè¿action.paramæ¥è·åå¯¹åºçåæ°ã\n\nä¸ºäºç®åä»£ç ï¼æä»¬å°å¨ç¹å»æé®åï¼éæºäº§çä¸ä¸ªæ°å­ï¼å¹¶å°è¯¥æ°å­ä½ä¸º param çå¼ï¼ä¼ éç»reducerã\n\nä¿®æ¹åçä»£ç ä¸ºï¼\n\nimport React, { useReducer } from 'react';\n\nfunction reducer(state,action){\n  //æ ¹æ®action.typeæ¥å¤æ­è¯¥æ§è¡åªç§ä¿®æ¹\n  switch(action.type){\n    case 'add':\n      //count æç»å å¤å°ï¼åå³äº action.param çå¼\n      return state + action.param;\n    case 'sub':\n      return state - action.param;\n    case 'mul':\n      return state * action.param;\n    default:\n      console.log('what?');\n      return state;\n  }\n}\n\nfunction getRandom(){\n  return Math.floor(Math.random()*10);\n}\n\nfunction CountComponent() {\n  const [count, dispatch] = useReducer(reducer,0);\n\n  return <div>\n    {count}\n    <button onClick={() => {dispatch({type:'add',param:getRandom()})}} >add</button>\n    <button onClick={() => {dispatch({type:'sub',param:getRandom()})}} >sub</button>\n    <button onClick={() => {dispatch({type:'mul',param:getRandom()})}} >mul</button>\n  </div>;\n}\n\nexport default CountComponent;\n\n\nåæ ·çéçï¼æä»¬å¯ä»¥æç¤ºä¾ä¸­çcountç±ç®åç±»åæ¹ä¸ºå¤æç±»åï¼æ¥å¨å­æ´å¤çåéã ä½æ¯ï¼å»ºè®®ä¸è¦æ useReducer å¯¹åºçåéè®¾è®¡çè¿äºå¤æã\n\nä½¿ç¨useReducerï¼å¯ä»¥è®©æä»¬ä½¿ç¨æ¯è¾å¤æçé»è¾ååæ°å¯¹åé¨åéè¿è¡ä¿®æ¹ã\n\nä¸è¿ä½ æ¯å¦åç°ï¼ç¤ºä¾1åç¤ºä¾2ä¸­ææçåéé½æ¯å¨åä¸ä¸ªç»ä»¶åå®ä¹åä¿®æ¹çï¼ç°å®é¡¹ç®ä¸­è¯å®çµæ¯å°ä¸åæ¨¡åç»ä»¶ä¹é´å±äº«å¹¶ä¿®æ¹æä¸ªåéï¼é£åè¯¥æä¹åå¢ï¼\nå¨ä¸ä¸ç« è useReduceré«çº§ç¨æ³ ä¸­ï¼æä»¬ä¼è¯¦ç»è®²è¿°å¦ä½ç¨ useReducer + useContext æ¥å®ç°å¨å±ä¸åå±çº§ç»ä»¶å±äº«å¹¶ä¿®æ¹æåéã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseReduceråºç¡ç¨æ³å·²ç»è®²å®ã",normalizedContent:"# 08 usereduceråºç¡ç¨æ³\n\n\n# usereduceræ¦å¿µè§£é\n\næä»¬ç¬¬åä¸ªè¦å­¦ä¹ çhook(é©å­å½æ°)æ¯usereducerï¼ä»çä½ç¨æ¯âå¾ä½âæäºèªå®ä¹æ°æ®å¯¹åºçdispatchæå¼åçæ°æ®æ´æ¹äºä»¶ãusereducerå¯ä»¥æ¿ä»£usestateï¼å®ç°æ´ä¸ºå¤æé»è¾çæ°æ®ä¿®æ¹ã\n\nå¨react 16.8çæ¬ä»¥åï¼éå¸¸éè¦ä½¿ç¨ç¬¬ä¸æ¹reduxæ¥ç®¡çreactçå¬å±æ°æ®ï¼ä½èªä» react hook æ¦å¿µåºç°ä»¥åï¼å¯ä»¥ä½¿ç¨ usecontext + usereducer è½»æ¾å®ç° redux ç¸ä¼¼åè½ãè¿ä¸é¨åä¼å¨ âusereduceré«çº§ç¨æ³â ä¸­åè¯¦ç»è®²è§£ã\n\nè®©æä»¬åå°usereduceråºç¡å­¦ä¹ ä¸­ã\n\n\n# usereduceræ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼usereduceræ¯usestateçåçº§ç(å®éä¸åºè¯¥æ¯åå§ç)ï¼å¯ä»¥å®ç°å¤æé»è¾ä¿®æ¹ï¼èä¸æ¯åusestateé£æ ·åªæ¯ç´æ¥èµå¼ä¿®æ¹ã\n\nè¡¥åè¯´æï¼\n1ãå¨reactæºç ä¸­ï¼å®éä¸usestateå°±æ¯ç±usereducerå®ç°çï¼æä»¥usereduceråç¡®æ¥è¯´æ¯usestateçåå§çã\n2ãæ è®ºåªä¸ä¸ªhookå½æ°ï¼æ¬è´¨ä¸é½æ¯éè¿äºä»¶é©±å¨æ¥å®ç°è§å¾å±æ´æ°çã\n\n\n# usereducerå½æ°æºç ï¼\n\nåå°usereducerçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸reactæºç ä¸­çreacthooks.jsã\n\n//å¤æ³¨ï¼æºç éç¨typescriptç¼åï¼å¦æä¸ætsä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\nexport function usereducer<s, i, a>(\n  reducer: (s, a) => s,\n  initialarg: i,\n  init?: i => s,\n): [s, dispatch<a>] {\n  const dispatcher = resolvedispatcher();\n  return dispatcher.usereducer(reducer, initialarg, init);\n}\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨hookâï¼å¹¶ä¸æ¯âhookæºç åæâãä¹æä»¥è´´åºæºç åªæ¯æ³è®©ä½ éç¹çä¸ä¸usereducerå½æ°çç¬¬3ä¸ªåæ°ãä¸è¬æä»¬åªä¼ 2ä¸ªåæ°ï¼å¦ææä¸å¤©ä½ çå°æäººä¸ºäºæäºä¸å¸¸ç¨çç®çä¼ äº3ä¸ªåæ°ï¼ä½ åºè¯¥çè§£ï¼ç¬¬3ä¸ªåæ°å¶å®åªæ¯ç¬¬1åç¬¬2ä¸ªåæ°çæç§è½¬åãäºå®ä¸ä½ å¯ä»¥å®å¨å¿½ç¥è¿ä¸ªé®é¢ï¼æ¯æ¬¡å¼ä¼ 2ä¸ªåæ°å³å¯ã^_^\n\n\n# usereduceråºæ¬ç¨æ³\n\nusereducer(reducer,initialvalue)å½æ°éå¸¸ä¼ å¥2ä¸ªåæ°ï¼ç¬¬1ä¸ªåæ°ä¸ºæä»¬å®ä¹çä¸ä¸ªâç±dispatchå¼åçæ°æ®ä¿®æ¹å¤çå½æ°âï¼ç¬¬2ä¸ªåæ°ä¸ºèªå®ä¹æ°æ®çé»è®¤å¼ï¼usereducerå½æ°ä¼è¿åèªå®ä¹åéçå¼ç¨åè¯¥èªå®ä¹åéå¯¹åºçâdispatchâã\n\nè¯·æ³¨æï¼å½ä½ çå°äºdispatchï¼è¯å®æ³å°äºåçjsä¸­çeventemitterï¼äºå®ä¸react hookå¸®æä»¬åäºåºå±çäºä»¶é©±å¨å¤çï¼æä»¬æ¿å°çdispatchä»¥åâäºä»¶å¤çå½æ°âreducerï¼é½æ¶è¢«react hook å°è£è¿åçï¼å¹¶ä¸æ¯çæ­£çæåºåäºä»¶å¤çå½æ°ã\n\nä½æ¯ä¸ºäºæ´å®¹æè®©ä½ çè§£ï¼æ¬æä¾ç¶ä¼å¨è®²è§£usereduceræ¶ä½¿ç¨å°âäºä»¶æåºãäºä»¶å¤çå½æ°âç­æå­ã\n\nå¦æä½ äºè§£äºä»¶é©±å¨ï¼ä½¿ç¨è¿eventemitterï¼æèä½ ä½¿ç¨è¿reduxï¼é£ä¹ä½ ä¼å¾å®¹æçè§£usereducerçç¨æ³ã\n\n# ä»£ç å½¢å¼ï¼\n\nimport react, { usereducer } from 'react'; //å¼å¥usereducer\n\n//å®ä¹å¥½âäºä»¶å¤çå½æ°â reducer\nfunction reducer(state, action) {\n  switch (action) {\n    case 'xx':\n        return xxxx;\n    case 'xx':\n        return xxxx;\n    default:\n        return xxxx;\n  }\n}\n\nfunction component(){\n  //å£°æä¸ä¸ªåéxxxï¼ä»¥åå¯¹åºä¿®æ¹xxxçdispatch\n  //å°äºä»¶å¤çå½æ°reduceråé»è®¤å¼initialvalueä½ä¸ºåæ°ä¼ éç»usereducer\n  const [xxx, dispatch] = usereducer(reducer, initialvalue); \n\n  //è¥æ³è·åxxxçå¼ï¼ç´æ¥ä½¿ç¨xxxå³å¯\n  \n  //è¥æ³ä¿®æ¹xxxçå¼ï¼éè¿dispatchæ¥ä¿®æ¹\n  dispatch('xx');\n}\n\n//è¯·æ³¨æï¼ä¸è¿°ä»£ç ä¸­çactionåªæ¯æåºç¡çå­ç¬¦ä¸²å½¢å¼ï¼äºå®ä¸actionå¯ä»¥æ¯å¤å±æ§çobjectï¼è¿æ ·å¯ä»¥èªå®ä¹æ´å¤å±æ§åæ´å¤åæ°å¼\n//ä¾å¦ action å¯ä»¥æ¯ {type:'xx',param:xxx}\n\n\n# æè§£è¯´æï¼\n\n1ãå·ä½è®²è§£å·²å¨ä¸é¢ç¤ºä¾ä»£ç ä¸­åäºå¤é¡¹æ³¨éï¼æ­¤å¤ä¸åéå¤ï¼\n\n# 'reducer'è¡¥åè¯´æ\n\n1ãreducerè±æåè¯æ¬èº«æææ¯âåéå¨ãè¿ååâï¼ä½æ¯æ¬æä¸­ä¸ç´æreducerç§°å¼ä¸ºâäºä»¶å¤çå½æ°âï¼ä½äºå®ä¸reducerç¡®å®æ®æ¼ä¸ä¸ªäºä»¶å¤çå½æ°ã\n2ãåä¸ä¸è¦æusereducerä¸­çreducer å åçjsä¸­çarray.prototype.reduce()å¼æ··æ·ï¼ä»ä»¬ä¸¤ä¸ªåªæ¯åå¥½é½ä½¿ç¨äºè¿ä¸ªreduceåè¯èå·²ï¼ä¸¤èæ¬èº«æ²¡æä»»ä½åå¨å³èã\n\n# 'xxx'è¡¥åè¯´æ\n\nåè®¾æä»¬å®ä¹çåéåä¸ºxxxï¼é£ä¹åªè½éè¿dispatchæ¥ä¿®æ¹xxxï¼ä¸è¦å°è¯éè¿ xxx = newvalue è¿ç§å½¢å¼ç´æ¥ä¿®æ¹åéçå¼ï¼react ä¸åè®¸è¿æ ·åã\n\n# 'dispatch'è¡¥åè¯´æ\n\nåæ¬¡å¼ºè°ï¼dispacthå¹¶ä¸æ¯çæ­£çevent.dispatchï¼ä½æ¯ä½ å®å¨å¯ä»¥æå®å½æevent.dispatchæ¥çè§£ï¼åªä¸è¿usereducerä¸­çdispacth(xxx)å½æ°æåºåå®¹ä¸æ¯eventï¼èæ¯ä¸ä¸ªåå«ä¿®æ¹ä¿¡æ¯çå¯¹è±¡ï¼è¯¥å¯¹è±¡ä¸ä»å¯ä»¥æ¯å­ç¬¦ä¸²ï¼è¿å¯ä»¥æ¯å¤æå¯¹è±¡ã\n\n# 'initialvalue'è¡¥åè¯´æ\n\ninitialvalueæ¯æä»¬èªå®ä¹åéçé»è®¤å¼ï¼è¯¥å¼å¯ä»¥æ¯ç®åç±»å(numberãstring)ï¼ä¹å¯ä»¥æ¯å¤æç±»å(objectãarray)ã\næ¨èå»ºè®®ï¼å³ä½¿è¯¥å¼æ¯ç®åç±»åï¼ä¹å»ºè®®åç¬å®ä¹åºæ¥èä¸æ¯ç´æ¥å°å¼åå¨usereducerå½æ°ä¸­ï¼å ä¸ºåç¬å®ä¹å¯ä»¥è®©æä»¬æ´å æ¸æ°è¯»ææ°æ®ç»æï¼å°¤å¶æ¯initialvalueä¸ºå¤æç±»åæ¶ã\n\n\n# usereducerä½¿ç¨ç¤ºä¾1ï¼\n\nä¸¾ä¾ï¼è¥æreactç»ä»¶åé¨æä¸ä¸ªåécountï¼é»è®¤å¼ä¸º0ï¼æ3ä¸ªbuttonï¼ç¹å»ä¹ååå«å¯ä»¥ä¿®æ¹countçå¼ã3ä¸ªæé®å·ä½çåè½ä¸ºï¼ç¬¬1ä¸ªbuttonç¹å»ä¹åcount+1ï¼ç¬¬2ä¸ªbuttonç¹å»ä¹åcount -1ï¼ç¬¬3ä¸ªbuttonç¹å»ä¹å count x 2 (ç¿»å)ã\n\nè¥ä½¿ç¨usestateæ¥å®ç°ï¼é£è¯å®æ²¡é®é¢ï¼æ¯ä¸ªbuttonç¹å»ä¹ååå«è¿ç®å¾å°å¯¹åºçæ°å¼ï¼å°è¯¥å¼ç´æ¥éè¿setcountèµäºç»countã\n\nè¥ä½¿ç¨usereduceræ¥å®ç°ç¸ååè½ï¼ä»£ç ç¤ºä¾å¦ä¸ï¼\n\nimport react, { usereducer } from 'react';\n\nfunction reducer(state,action){\n  switch(action){\n    case 'add':\n        return state + 1;\n    case 'sub':\n        return state - 1;\n    case 'mul':\n        return state * 2;\n    default:\n        console.log('what?');\n        return state;\n  }\n}\n\nfunction countcomponent() {\n  const [count, dispatch] = usereducer(reducer,0);\n\n  return <div>\n    {count}\n    <button onclick={() => {dispatch('add')}} >add</button>\n    <button onclick={() => {dispatch('sub')}} >sub</button>\n    <button onclick={() => {dispatch('mul')}} >mul</button>\n  </div>;\n}\n\nexport default countcomponent;\n\n\nä»£ç åæï¼\n3ä¸ªæé®ç¹å»ä¹åï¼ä¸åå·ä½å»ç´æ¥ä¿®æ¹countçå¼ï¼èæ¯éç¨ dispatche('xxx')çå½¢å¼ âæåºä¿®æ¹countçäºä»¶âï¼äºä»¶å¤çå½æ°reducerâæè·å°ä¿®æ¹countçäºä»¶åâï¼æ ¹æ®è¯¥äºä»¶æºå¸¦çå½ä»¤ç±»åæ¥è¿ä¸æ­¥å¤æ­ï¼å¹¶çæ­£æ§è¡å¯¹countçä¿®æ¹ã\n\nè¯·æ³¨æä¸é¢è¿å¥è¯ä¸­å å¼å·çè¯­å¥ï¼æ¬æåªæ¯ä»¥äºä»¶é©±å¨çè¯­è¨æ¥æè¿°æ´ä¸ªè¿ç¨ï¼ç®çå¸æä½ è½æ´å å®¹æçè§£ã\n\n3ä¸ªæé®åªæ¯è´è´£éç¥reducerâæå¸æåä»ä¹äºæâï¼å·ä½æä¹åå®å¨ç±reduceræ¥æ§è¡ãè¿æ ·å®ç°äºä¿®æ¹æ°æ®å·ä½æ§è¡é»è¾ä¸æé®ç¹å»å¤çå½æ°çæ½ç¦»ã\n\nå¦æä¸ä½¿ç¨usereducerï¼èæ¯ä½¿ç¨ä¹åå­¦ä¹ è¿çusestateï¼é£ä¹å¯¹countçæ¯ä¸ç§ä¿®æ¹é»è¾ä»£ç ï¼é½å¿é¡»åæ£åå¨æ¯ä¸ªæé®çç¹å»äºä»¶å¤çå½æ°ä¸­ã\n\nè¥åªæ¯ä¿®æ¹countçåè½ï¼é£ä¹usereducerçä¼å¿è¿æªå¨é¨ä½ç°åºæ¥ï¼æä»¬æ¥ççå¦å¤ä¸ä¸ªç¤ºä¾ã\n\n\n# usereducerä½¿ç¨ç¤ºä¾2\n\nä¸¾ä¾ï¼å¨ç¤ºä¾1ä¸­å¯¹count æ§è¡çä¿®æ¹ï¼æ°å¼åå¨é½æ¯åºå®çï¼å³ +1ã-1ãx 2ãåè®¾æä»¬å¸ææé®ç¹å»ä¹åï¼è½å¤èªä¸»æ§å¶å¢å å¤å°ãåå¤å°ãæä¹ä»¥å ï¼è¿ä¸ªææè¯¥æä¹å®ç°å¢ï¼\n\nå¾ç®åï¼æä»¬å°dispatch('xxx')ä¸­çxxxç±å­ç¬¦ä¸²æ¹ä¸ºobjï¼objå¯ä»¥æºå¸¦æ´å¤å±æ§ä½ä¸ºåæ°ä¼ ç»reducerã æ¯å¦ä¹åå¯¹ \"å \"çå½ä»¤ dispatch('add')ï¼ä¿®æ¹ä¸º dispatch({type:'add',param:2})ã reducerå¯ä»¥éè¿action.typeæ¥åºåæ¯åªç§å½ä»¤ãéè¿action.paramæ¥è·åå¯¹åºçåæ°ã\n\nä¸ºäºç®åä»£ç ï¼æä»¬å°å¨ç¹å»æé®åï¼éæºäº§çä¸ä¸ªæ°å­ï¼å¹¶å°è¯¥æ°å­ä½ä¸º param çå¼ï¼ä¼ éç»reducerã\n\nä¿®æ¹åçä»£ç ä¸ºï¼\n\nimport react, { usereducer } from 'react';\n\nfunction reducer(state,action){\n  //æ ¹æ®action.typeæ¥å¤æ­è¯¥æ§è¡åªç§ä¿®æ¹\n  switch(action.type){\n    case 'add':\n      //count æç»å å¤å°ï¼åå³äº action.param çå¼\n      return state + action.param;\n    case 'sub':\n      return state - action.param;\n    case 'mul':\n      return state * action.param;\n    default:\n      console.log('what?');\n      return state;\n  }\n}\n\nfunction getrandom(){\n  return math.floor(math.random()*10);\n}\n\nfunction countcomponent() {\n  const [count, dispatch] = usereducer(reducer,0);\n\n  return <div>\n    {count}\n    <button onclick={() => {dispatch({type:'add',param:getrandom()})}} >add</button>\n    <button onclick={() => {dispatch({type:'sub',param:getrandom()})}} >sub</button>\n    <button onclick={() => {dispatch({type:'mul',param:getrandom()})}} >mul</button>\n  </div>;\n}\n\nexport default countcomponent;\n\n\nåæ ·çéçï¼æä»¬å¯ä»¥æç¤ºä¾ä¸­çcountç±ç®åç±»åæ¹ä¸ºå¤æç±»åï¼æ¥å¨å­æ´å¤çåéã ä½æ¯ï¼å»ºè®®ä¸è¦æ usereducer å¯¹åºçåéè®¾è®¡çè¿äºå¤æã\n\nä½¿ç¨usereducerï¼å¯ä»¥è®©æä»¬ä½¿ç¨æ¯è¾å¤æçé»è¾ååæ°å¯¹åé¨åéè¿è¡ä¿®æ¹ã\n\nä¸è¿ä½ æ¯å¦åç°ï¼ç¤ºä¾1åç¤ºä¾2ä¸­ææçåéé½æ¯å¨åä¸ä¸ªç»ä»¶åå®ä¹åä¿®æ¹çï¼ç°å®é¡¹ç®ä¸­è¯å®çµæ¯å°ä¸åæ¨¡åç»ä»¶ä¹é´å±äº«å¹¶ä¿®æ¹æä¸ªåéï¼é£åè¯¥æä¹åå¢ï¼\nå¨ä¸ä¸ç« è usereduceré«çº§ç¨æ³ ä¸­ï¼æä»¬ä¼è¯¦ç»è®²è¿°å¦ä½ç¨ usereducer + usecontext æ¥å®ç°å¨å±ä¸åå±çº§ç»ä»¶å±äº«å¹¶ä¿®æ¹æåéã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºusereduceråºç¡ç¨æ³å·²ç»è®²å®ã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"09 useReduceré«çº§ç¨æ³",frontmatter:{title:"09 useReduceré«çº§ç¨æ³",date:"2023-09-07T17:37:05.000Z",permalink:"/pages/fd7fdb/"},regularPath:"/03.react/09.useReducer%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95.html",relativePath:"03.react/09.useReduceré«çº§ç¨æ³.md",key:"v-f8c0a0dc",path:"/pages/fd7fdb/",headers:[{level:2,title:"ä½¿ç¨useReduceræ¥ç®¡çå¤æç±»åçæ°æ®",slug:"ä½¿ç¨usereduceræ¥ç®¡çå¤æç±»åçæ°æ®",normalizedTitle:"ä½¿ç¨usereduceræ¥ç®¡çå¤æç±»åçæ°æ®",charIndex:76},{level:2,title:"ä½¿ç¨useContextåuseReducerå®ç°æä½å¨å±å±äº«æ°æ®",slug:"ä½¿ç¨usecontextåusereducerå®ç°æä½å¨å±å±äº«æ°æ®",normalizedTitle:"ä½¿ç¨usecontextåusereducerå®ç°æä½å¨å±å±äº«æ°æ®",charIndex:1738},{level:4,title:"éæ±åæ",slug:"éæ±åæ",normalizedTitle:"éæ±åæ",charIndex:1904},{level:4,title:"å®ç°åç",slug:"å®ç°åç",normalizedTitle:"å®ç°åç",charIndex:1988},{level:4,title:"å®ç°æè·¯",slug:"å®ç°æè·¯",normalizedTitle:"å®ç°æè·¯",charIndex:2045},{level:4,title:"è¡¥åè¯´æ",slug:"è¡¥åè¯´æ",normalizedTitle:"è¡¥åè¯´æ",charIndex:2366},{level:4,title:"ä¼ªä»£ç æ¼ç¤º",slug:"ä¼ªä»£ç æ¼ç¤º",normalizedTitle:"ä¼ªä»£ç æ¼ç¤º",charIndex:2511},{level:2,title:"ä¸ºä»ä¹ä¸ä½¿ç¨Reduxï¼",slug:"ä¸ºä»ä¹ä¸ä½¿ç¨redux",normalizedTitle:"ä¸ºä»ä¹ä¸ä½¿ç¨reduxï¼",charIndex:5121},{level:2,title:"å¿æ Reduxï¼å¿æ useReducer+useContextï¼æ¥æ± Recoil å§ï¼",slug:"å¿æ-redux-å¿æ-usereducer-usecontext-æ¥æ±-recoil-å§",normalizedTitle:"å¿æ reduxï¼å¿æ usereducer+usecontextï¼æ¥æ± recoil å§ï¼",charIndex:5245},{level:2,title:"ä»ä¹æ¶åç¨useStateï¼ä»ä¹æ¶åç¨useReducerï¼",slug:"ä»ä¹æ¶åç¨usestate-ä»ä¹æ¶åç¨usereducer",normalizedTitle:"ä»ä¹æ¶åç¨usestateï¼ä»ä¹æ¶åç¨usereducerï¼",charIndex:5462}],headersStr:"ä½¿ç¨useReduceræ¥ç®¡çå¤æç±»åçæ°æ® ä½¿ç¨useContextåuseReducerå®ç°æä½å¨å±å±äº«æ°æ® éæ±åæ å®ç°åç å®ç°æè·¯ è¡¥åè¯´æ ä¼ªä»£ç æ¼ç¤º ä¸ºä»ä¹ä¸ä½¿ç¨Reduxï¼ å¿æ Reduxï¼å¿æ useReducer+useContextï¼æ¥æ± Recoil å§ï¼ ä»ä¹æ¶åç¨useStateï¼ä»ä¹æ¶åç¨useReducerï¼",content:"# 09 useReduceré«çº§ç¨æ³\n\næè°é«çº§ç¨æ³ï¼åªä¸è¿æ¯ä¸äºæ·±å±ç¥è¯ç¹åå®ç¨æå·§ï¼ä½ çè³å¯ä»¥ææ¬ç« å½åå¯¹åé¢ç¥è¯ç¹çä¸ä¸ªå·©åºåå­¦ä¹ ã\n\n\n\n# ä½¿ç¨useReduceræ¥ç®¡çå¤æç±»åçæ°æ®\n\nä¸¾ä¾ï¼è¥æç»ä»¶åéè¿ajaxè¯·æ±æ°æ®ï¼è·åææ°ä¸æ¡ç«åç­ä¿¡æå­ï¼éè¦ç»ä»¶æ¾ç¤ºæ´ä¸ªajaxè¿ç¨åç»æï¼\n1ãå½ajaxå¼å§è¯·æ±æ¶ï¼çé¢æ¾ç¤ºâloading...âï¼\n2ãå½ajaxè¯·æ±åçéè¯¯æ¶ï¼çé¢æ¾ç¤ºâwrong!â;\n3ãå½ajaxè¯·æ±æåè·åæ°æ®æ¶ï¼çé¢æ¾ç¤ºè·åå°çæ°æ®åå®¹ï¼\n\nå¦ææä»¬ä½¿ç¨useStateæ¥å®ç°ä¸è¿°åè½ï¼ä¼ªä»£ç å¦ä¸ï¼\n\nfunction Component() {\n  const [loading,setLoading] = useState(true); //æ¯å¦ajaxè¯·æ±ä¸­ï¼é»è®¤ä¸ºtrue\n  const [result,setResult] = useState(''); //è¯·æ±æ°æ®åå®¹ï¼é»è®¤ä¸º''\n  const [error,setError] = useState(false); //è¯·æ±æ¯å¦åçéè¯¯ï¼é»è®¤ä¸ºfalse\n\n  {\n      //ajaxè¯·æ±æå\n      setLoading(false);\n      setResult('You have a good news!');//è¯·æ³¨æï¼è¿æ¯ä¸è¡ä¼ªä»£ç ï¼åªæ¯ä¸ºäºæ¼ç¤ºï¼å¹¶ä¸æ¯çæ­£ajaxè·åçç»æ\n      setError(false);\n\n      //ajaxè¯·æ±éè¯¯\n      setLoading(false);\n      setError(true);\n  }\n\n  return <div>\n    {loading ? 'loading...' : result}\n    {error ? 'wrong!' : null}\n  </div>\n}\n\n\nå¦ææä»¬ä½¿ç¨useReduceræ¥å®ç°ï¼åå¯å°ä¸è¿°3ä¸ªåéé½æ¾å¨æä»¬å®ä¹çåéstateä¸­ï¼ä¼ªä»£ç å¦ä¸ï¼\n\nconst initralData = {loading: true,result: '',error: false};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'succes':\n        return {loading:false,result:action.res,error:false}\n    case 'error':\n        return {loading:false,error:true}\n  }\n}\n\nfunction Component() {\n  const [state, dispatch] = useReducer(reducer, initralData);\n\n  {\n      //ajaxè¯·æ±æå\n      dispatch({type:'succes',res:'You have a good news!'});\n\n      //ajaxè¯·æ±éè¯¯\n      dispatch({type:'error'});\n  }\n\n  return <div>\n    {state.loading ? 'loading...' : state.result}\n    {state.error ? 'wrong!' : null}\n  </div>\n}\n\n\nä½ å¯è½ä¼æçé®ï¼\n1ãä¸ºä»ä¹çä¸å»ä½¿ç¨useReduceråä»£ç åå¾æ´å¤ï¼\nç­ï¼å ä¸ºä½¿ç¨useReducerï¼æä»¬å°ä¿®æ¹æ°æ®æåä¸º2ä¸ªé¨åï¼å³âæåºä¿®æ¹äºä»¶åäºä»¶ä¿®æ¹å¤çå½æ°âãè½ç¶ä»£ç å¢å¤äºï¼ä½æ¯é»è¾æ´å æ¸æ°ã\n\n2ãä¸ºä»ä¹ä¸ä½¿ç¨useStateï¼åæ¶æå®å¯¹åºçåéä¹åæä¸ä¸ªobjï¼å°±åuseReducerçinitralDataé£ç§ï¼\nç­ï¼åçº¯ä»1æ¬¡ajaxè¯·æ±å¾é¾çåºä½¿ç¨useStateæuseReducerçå·®å¼ï¼ä½æ¯è¯æ³ä¸ä¸å¤æ¬¡ä¸ajaxè¿åå¼å¨ç»æç±»åä¸å®¹æåçåæ´ï¼é£ä¹ä½¿ç¨useReducerè¿ç§æ´å å©äºä»£ç éè¯»ãåè½æ©å±ã\n\n\n\n# ä½¿ç¨useContextåuseReducerå®ç°æä½å¨å±å±äº«æ°æ®\n\nè¯æ³ä¸ä¸ï¼å¦ææ³å®ç°ä»¥ä¸ç»ä»¶éæ±ï¼\n1ãç¶ç»ä»¶ä¸­å®ä¹æåéxxï¼\n2ãä»»ä½å±çº§ä¸çå­ç»ä»¶é½å¯ä»¥è½»æ¾è·ååéxxãå¹¶ä¸å¯ä»¥âä¿®æ¹âåéxxï¼\n\næ³¨æè¿éçä¿®æ¹æ¯å å¼å·çï¼å ä¸ºäºå®ä¸ä½ æ°¸è¿æ æ³ä»¥ç´æ¥èµå¼çæ¹å¼è¿è¡ä¿®æ¹ï¼æ°¸è¿é½éè¦è°ç¨ç¶çº§ç»ä»¶æä¾çæ¹æ³æ¥ä¿®æ¹ã\n\n# éæ±åæ\n\né¦åè¿ä¸ªåè½æ¯ç±»ç»ä»¶æ æ³åå°çï¼ä¹æ¯React 16.8çæ¬ä»¥åæ ¹æ¬ä¸è½å®ç°çï¼ä»å¤©ï¼å½ä½ ä½¿ç¨Hookå¯è½»æ¾å®ç°ç±»ä¼¼ Redux å±äº«æ°æ®ç®¡çåè½ã\n\n# å®ç°åç\n\nç¨ useContext å®ç°âè·åå¨å±æ°æ®â\nç¨ useReducer å®ç°âä¿®æ¹å¨å±æ°æ®â\n\n# å®ç°æè·¯\n\n1ãç¨React.createContext()å®ä¹ä¸ä¸ªå¨å±æ°æ®å¯¹è±¡ï¼\n2ãå¨ç¶ç»ä»¶ä¸­ç¨ useReducer å®ä¹å¨å±åéxxåè´è´£æåºä¿®æ¹äºä»¶çdispatchï¼\n3ãå¨ç¶ç»ä»¶ä¹å¤ï¼å®ä¹è´è´£å·ä½ä¿®æ¹å¨å±åéçå¤çå½æ°reducerï¼æ ¹æ®ä¿®æ¹xxäºä»¶ç±»åååæ°ï¼æ§è¡ä¿®æ¹xxçå¼ï¼\n4ãå¨ç¶ç»ä»¶ä¸­ç¨ <XxxContext.Provider value={{xx,dispatch}}> æ ç­¾æ å¨å±å±äº«æ°æ®åè´è´£æåºä¿®æ¹xxçdispatch æ´é²ç»å­ç»ä»¶ï¼\n5ãå¨å­ç»ä»¶ä¸­ç¨ useContext è·åå¨å±åéï¼\n6ãå¨å­ç»ä»¶ä¸­ç¨ xxContext.dispatch å»æåºä¿®æ¹xxçäºä»¶ï¼æºå¸¦ä¿®æ¹äºä»¶ç±»åååæ°ï¼\n\n# è¡¥åè¯´æ\n\nä¸é¢ä¸ç´æå°äº âæåºäºä»¶â âäºä»¶å¤çå½æ°â \"dispatch\" é½æ¯å­é¢ä¸çï¼ä¸æ¯çæ­£æä¹ä¸çäºä»¶é©±å¨ã è¿äºé½åªæ¯ React æ´é²ç»æä»¬çå½æ°æå½¢åã çæ­£çäºä»¶é©±å¨æ¯ç± React Hook åºå±ä¸ºæä»¬å®æçã\n\nä»¥ä¸è§ç¹ä»ä¸ºä¸ªäººçè§£ï¼ä¸è½ä¿è¯100%æ­£ç¡®ã\n\n# ä¼ªä»£ç æ¼ç¤º\n\nåè®¾Reactç»ä»¶éæ±ä¸ºï¼\n1ãæå¨å±æ°æ®åécountï¼\n2ãä¸åå±çº§çå­ç»ä»¶åå¯è·åå¹¶ä¿®æ¹å¨å±åécountï¼\n\nå±äº«å¯¹è±¡ ä»£ç å¦ä¸ï¼\n\nimport React from 'react';\nconst CountContext = React.createContext();\nexport default CountContext;\n\n\nç¶ç»ä»¶ ä»£ç å¦ä¸ï¼\n\n    import React, { useReducer } from 'react';\n    import CountContext from './CountContext';\n    import ComponentA from './ComponentA';\n    import ComponentB from './ComponentB';\n    import ComponentC from './ComponentC';\n    \n    const initialCount = 0; //å®ä¹countçé»è®¤å¼\n    \n    //ä¿®æ¹countäºä»¶å¤çå½æ°ï¼æ ¹æ®ä¿®æ¹åæ°è¿è¡å¤ç\n    function reducer(state, action) {\n    //æ³¨æè¿éåå¤æ­äºä»¶ç±»åï¼ç¶åç»åæºå¸¦çåæ°param æ¥æç»ä¿®æ¹count\n    switch (action.type) {\n        case 'add':\n            return state + action.param;\n        case 'sub':\n            return state - action.param;\n        case 'mul':\n            return state * action.param;\n        case 'reset':\n            return initialCount;\n        default:\n            console.log('what?');\n            return state;\n    }\n    }\n    \n    function ParentComponent() {\n      //å®ä¹å¨å±åécountï¼ä»¥åè´è´£æåºä¿®æ¹äºä»¶çdispatch\n      const [count, dispatch] = useReducer(reducer, initialCount);\n    \n      //è¯·æ³¨æï¼value={{count,dispatch} æ¯æ´ä¸ªä»£ç çæ ¸å¿ï¼æå°countãdispatchæ´é²ç»ææå­ç»ä»¶\n      return <CountContext.Provider value={{count,dispatch}}>\n        <div>\n            ParentComponent - count={count}\n            <ComponentA />\n            <ComponentB />\n            <ComponentC />\n        </div>\n      </CountContext.Provider>\n    }\n    \n    export default ParentComponent;\n\n\nå­ç»ä»¶A ä»£ç å¦ä¸ï¼\n\nimport React,{ useState, useContext } from 'react';\nimport CountContext from './CountContext';\n\nfunction CopmpoentA() {\n  const [param,setParam] = useState(1);\n  //å¼å¥å¨å±å±äº«å¯¹è±¡ï¼è·åå¨å±åécountï¼ä»¥åä¿®æ¹countå¯¹åºçdispatch\n  const countContext = useContext(CountContext);\n\n  const inputChangeHandler = (eve) => {\n    setParam(eve.target.value);\n  }\n\n  const doHandler = () => {\n    //è¥æ³ä¿®æ¹å¨å±countï¼åè·åcountå¯¹åºçä¿®æ¹æåºäºä»¶å¯¹è±¡dispatchï¼ç¶åéè¿dispatchå°ä¿®æ¹åå®¹æåº\n    //æåºçä¿®æ¹åå®¹ä¸ºï¼{type:'add',param:xxx}ï¼å³åè¯countçä¿®æ¹äºä»¶å¤çå½æ°ï¼æ¬æ¬¡ä¿®æ¹çç±»åä¸ºaddï¼åæ°æ¯param\n    //è¿éçaddåparamå®å¨æ¯æ ¹æ®èªå·±å®ééæ±èªå·±å®ä¹ç\n    countContext.dispatch({type:'add',param:Number(param)});\n  }\n\n  const resetHandler = () => {\n    countContext.dispatch({type:'reset'});\n  }\n\n  return <div>\n        ComponentA - count={countContext.count}\n        <input type='number' value={param} onChange={inputChangeHandler} />\n        <button onClick={doHandler}>add {param}</button>\n        <button onClick={resetHandler}>reset</button>\n    </div>\n}\n\nexport default CopmpoentA;\n\n\næ»ç»ï¼\n1ã3ä¸ªå­ç»ä»¶ä»ä»¬ä¸»è¦åºå«æ¯ç»ä»¶å doHandler å½æ°ï¼å¯¹countè¿è¡ä¸åå½¢å¼çä¿®æ¹ï¼\n2ã3ä¸ªå­ç»ä»¶åå«å¯ä»¥å®ç°å¯¹å¨å±åé count çè·åä¸ä¿®æ¹ï¼\n3ãå½ä»»ä½ä¸ä¸ªå­ç»ä»¶å¯¹countè¿è¡äºä¿®æ¹ï¼é½ä¼ç«å³åæ å¨å¶ä»å­ç»ä»¶ä¸­ï¼å®ç°å­ç»ä»¶ä¹é´çæ°æ®å±äº«ã\n\nè³æ­¤ï¼å®ç°äºæ¯è¾ç®åçï¼ç±»ä¼¼ Redux å¨å±æ°æ®ç®¡çææã\n\n\n\n# ä¸ºä»ä¹ä¸ä½¿ç¨Reduxï¼\n\nè¿ä¸ªé®é¢ä»¥åæåºè¿ï¼ç°å¨å¯ä»¥æç¡®åç­ï¼å ä¸ºæèªå·±ä½¿ç¨ useReducer + useContext èªå·±å¯ä»¥è½»æ¾å®ç°ï¼å¹²åè¿è¦ç¨Reduxã\nåè§ Reduxã\n\n\n\n> ä»¥ä¸åå®¹æ´æ°äº 2021.05.18\n\n\n# å¿æ Reduxï¼å¿æ useReducer+useContextï¼æ¥æ± Recoil å§ï¼\n\nå¼ºçæ¨èä½¿ç¨ React å¼åäººåéå¯¹ Hooks å½æ°ç»ä»¶æ¨åºçæ°ä¸ä»£ç¶æç®¡çåºï¼Recoil\n\nRecoil å®æ¹ç½ç«ï¼https://recoiljs.org/\n\næåç Recoil æç¨ï¼https://github.com/puxiao/recoil-tutorial\n\n> ä»¥ä¸åå®¹æ´æ°äº 2021.05.18\n\n\n\n\n# ä»ä¹æ¶åç¨useStateï¼ä»ä¹æ¶åç¨useReducerï¼\n\næ¬äººçå»ºè®®æ¯ï¼ç»ä»¶èªå·±åé¨çç®åé»è¾åéç¨useStateãå¤ä¸ªç»ä»¶ä¹é´å±äº«çå¤æé»è¾åéç¨useReducerã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseReduceré«çº§ç¨æ³å·²ç»è®²å®ï¼useReducerå¯ä»¥è®©æä»¬å®ç°å¤æé»è¾çæ°æ®ä¿®æ¹ï¼ç»åuseContextæ´è½åå°å¨å±æ°æ®å±äº«åä¿®æ¹ã\n\nç®åå·²ç»å­¦ä¹ è¿ç4ä¸ªHookå½æ°useStateãuseEffectãuseContextãuseReducerï¼ä»ä»¬é½æ¯ç¨æ¥å®ç°ç»ä»¶æäºå·ä½ä¸å¡åè½çï¼èæ¥ä¸æ¥è¦å­¦ä¹ çHookå½æ°åæ¯ç¨æ¥æé«ç»ä»¶æ´ä½æ§è½çï¼ä¾å¦ç¬¬5ä¸ªHookå½æ°useCallbackåç¬¬6ä¸ªHookå½æ°useMemoã",normalizedContent:"# 09 usereduceré«çº§ç¨æ³\n\næè°é«çº§ç¨æ³ï¼åªä¸è¿æ¯ä¸äºæ·±å±ç¥è¯ç¹åå®ç¨æå·§ï¼ä½ çè³å¯ä»¥ææ¬ç« å½åå¯¹åé¢ç¥è¯ç¹çä¸ä¸ªå·©åºåå­¦ä¹ ã\n\n\n\n# ä½¿ç¨usereduceræ¥ç®¡çå¤æç±»åçæ°æ®\n\nä¸¾ä¾ï¼è¥æç»ä»¶åéè¿ajaxè¯·æ±æ°æ®ï¼è·åææ°ä¸æ¡ç«åç­ä¿¡æå­ï¼éè¦ç»ä»¶æ¾ç¤ºæ´ä¸ªajaxè¿ç¨åç»æï¼\n1ãå½ajaxå¼å§è¯·æ±æ¶ï¼çé¢æ¾ç¤ºâloading...âï¼\n2ãå½ajaxè¯·æ±åçéè¯¯æ¶ï¼çé¢æ¾ç¤ºâwrong!â;\n3ãå½ajaxè¯·æ±æåè·åæ°æ®æ¶ï¼çé¢æ¾ç¤ºè·åå°çæ°æ®åå®¹ï¼\n\nå¦ææä»¬ä½¿ç¨usestateæ¥å®ç°ä¸è¿°åè½ï¼ä¼ªä»£ç å¦ä¸ï¼\n\nfunction component() {\n  const [loading,setloading] = usestate(true); //æ¯å¦ajaxè¯·æ±ä¸­ï¼é»è®¤ä¸ºtrue\n  const [result,setresult] = usestate(''); //è¯·æ±æ°æ®åå®¹ï¼é»è®¤ä¸º''\n  const [error,seterror] = usestate(false); //è¯·æ±æ¯å¦åçéè¯¯ï¼é»è®¤ä¸ºfalse\n\n  {\n      //ajaxè¯·æ±æå\n      setloading(false);\n      setresult('you have a good news!');//è¯·æ³¨æï¼è¿æ¯ä¸è¡ä¼ªä»£ç ï¼åªæ¯ä¸ºäºæ¼ç¤ºï¼å¹¶ä¸æ¯çæ­£ajaxè·åçç»æ\n      seterror(false);\n\n      //ajaxè¯·æ±éè¯¯\n      setloading(false);\n      seterror(true);\n  }\n\n  return <div>\n    {loading ? 'loading...' : result}\n    {error ? 'wrong!' : null}\n  </div>\n}\n\n\nå¦ææä»¬ä½¿ç¨usereduceræ¥å®ç°ï¼åå¯å°ä¸è¿°3ä¸ªåéé½æ¾å¨æä»¬å®ä¹çåéstateä¸­ï¼ä¼ªä»£ç å¦ä¸ï¼\n\nconst initraldata = {loading: true,result: '',error: false};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'succes':\n        return {loading:false,result:action.res,error:false}\n    case 'error':\n        return {loading:false,error:true}\n  }\n}\n\nfunction component() {\n  const [state, dispatch] = usereducer(reducer, initraldata);\n\n  {\n      //ajaxè¯·æ±æå\n      dispatch({type:'succes',res:'you have a good news!'});\n\n      //ajaxè¯·æ±éè¯¯\n      dispatch({type:'error'});\n  }\n\n  return <div>\n    {state.loading ? 'loading...' : state.result}\n    {state.error ? 'wrong!' : null}\n  </div>\n}\n\n\nä½ å¯è½ä¼æçé®ï¼\n1ãä¸ºä»ä¹çä¸å»ä½¿ç¨usereduceråä»£ç åå¾æ´å¤ï¼\nç­ï¼å ä¸ºä½¿ç¨usereducerï¼æä»¬å°ä¿®æ¹æ°æ®æåä¸º2ä¸ªé¨åï¼å³âæåºä¿®æ¹äºä»¶åäºä»¶ä¿®æ¹å¤çå½æ°âãè½ç¶ä»£ç å¢å¤äºï¼ä½æ¯é»è¾æ´å æ¸æ°ã\n\n2ãä¸ºä»ä¹ä¸ä½¿ç¨usestateï¼åæ¶æå®å¯¹åºçåéä¹åæä¸ä¸ªobjï¼å°±åusereducerçinitraldataé£ç§ï¼\nç­ï¼åçº¯ä»1æ¬¡ajaxè¯·æ±å¾é¾çåºä½¿ç¨usestateæusereducerçå·®å¼ï¼ä½æ¯è¯æ³ä¸ä¸å¤æ¬¡ä¸ajaxè¿åå¼å¨ç»æç±»åä¸å®¹æåçåæ´ï¼é£ä¹ä½¿ç¨usereducerè¿ç§æ´å å©äºä»£ç éè¯»ãåè½æ©å±ã\n\n\n\n# ä½¿ç¨usecontextåusereducerå®ç°æä½å¨å±å±äº«æ°æ®\n\nè¯æ³ä¸ä¸ï¼å¦ææ³å®ç°ä»¥ä¸ç»ä»¶éæ±ï¼\n1ãç¶ç»ä»¶ä¸­å®ä¹æåéxxï¼\n2ãä»»ä½å±çº§ä¸çå­ç»ä»¶é½å¯ä»¥è½»æ¾è·ååéxxãå¹¶ä¸å¯ä»¥âä¿®æ¹âåéxxï¼\n\næ³¨æè¿éçä¿®æ¹æ¯å å¼å·çï¼å ä¸ºäºå®ä¸ä½ æ°¸è¿æ æ³ä»¥ç´æ¥èµå¼çæ¹å¼è¿è¡ä¿®æ¹ï¼æ°¸è¿é½éè¦è°ç¨ç¶çº§ç»ä»¶æä¾çæ¹æ³æ¥ä¿®æ¹ã\n\n# éæ±åæ\n\né¦åè¿ä¸ªåè½æ¯ç±»ç»ä»¶æ æ³åå°çï¼ä¹æ¯react 16.8çæ¬ä»¥åæ ¹æ¬ä¸è½å®ç°çï¼ä»å¤©ï¼å½ä½ ä½¿ç¨hookå¯è½»æ¾å®ç°ç±»ä¼¼ redux å±äº«æ°æ®ç®¡çåè½ã\n\n# å®ç°åç\n\nç¨ usecontext å®ç°âè·åå¨å±æ°æ®â\nç¨ usereducer å®ç°âä¿®æ¹å¨å±æ°æ®â\n\n# å®ç°æè·¯\n\n1ãç¨react.createcontext()å®ä¹ä¸ä¸ªå¨å±æ°æ®å¯¹è±¡ï¼\n2ãå¨ç¶ç»ä»¶ä¸­ç¨ usereducer å®ä¹å¨å±åéxxåè´è´£æåºä¿®æ¹äºä»¶çdispatchï¼\n3ãå¨ç¶ç»ä»¶ä¹å¤ï¼å®ä¹è´è´£å·ä½ä¿®æ¹å¨å±åéçå¤çå½æ°reducerï¼æ ¹æ®ä¿®æ¹xxäºä»¶ç±»åååæ°ï¼æ§è¡ä¿®æ¹xxçå¼ï¼\n4ãå¨ç¶ç»ä»¶ä¸­ç¨ <xxxcontext.provider value={{xx,dispatch}}> æ ç­¾æ å¨å±å±äº«æ°æ®åè´è´£æåºä¿®æ¹xxçdispatch æ´é²ç»å­ç»ä»¶ï¼\n5ãå¨å­ç»ä»¶ä¸­ç¨ usecontext è·åå¨å±åéï¼\n6ãå¨å­ç»ä»¶ä¸­ç¨ xxcontext.dispatch å»æåºä¿®æ¹xxçäºä»¶ï¼æºå¸¦ä¿®æ¹äºä»¶ç±»åååæ°ï¼\n\n# è¡¥åè¯´æ\n\nä¸é¢ä¸ç´æå°äº âæåºäºä»¶â âäºä»¶å¤çå½æ°â \"dispatch\" é½æ¯å­é¢ä¸çï¼ä¸æ¯çæ­£æä¹ä¸çäºä»¶é©±å¨ã è¿äºé½åªæ¯ react æ´é²ç»æä»¬çå½æ°æå½¢åã çæ­£çäºä»¶é©±å¨æ¯ç± react hook åºå±ä¸ºæä»¬å®æçã\n\nä»¥ä¸è§ç¹ä»ä¸ºä¸ªäººçè§£ï¼ä¸è½ä¿è¯100%æ­£ç¡®ã\n\n# ä¼ªä»£ç æ¼ç¤º\n\nåè®¾reactç»ä»¶éæ±ä¸ºï¼\n1ãæå¨å±æ°æ®åécountï¼\n2ãä¸åå±çº§çå­ç»ä»¶åå¯è·åå¹¶ä¿®æ¹å¨å±åécountï¼\n\nå±äº«å¯¹è±¡ ä»£ç å¦ä¸ï¼\n\nimport react from 'react';\nconst countcontext = react.createcontext();\nexport default countcontext;\n\n\nç¶ç»ä»¶ ä»£ç å¦ä¸ï¼\n\n    import react, { usereducer } from 'react';\n    import countcontext from './countcontext';\n    import componenta from './componenta';\n    import componentb from './componentb';\n    import componentc from './componentc';\n    \n    const initialcount = 0; //å®ä¹countçé»è®¤å¼\n    \n    //ä¿®æ¹countäºä»¶å¤çå½æ°ï¼æ ¹æ®ä¿®æ¹åæ°è¿è¡å¤ç\n    function reducer(state, action) {\n    //æ³¨æè¿éåå¤æ­äºä»¶ç±»åï¼ç¶åç»åæºå¸¦çåæ°param æ¥æç»ä¿®æ¹count\n    switch (action.type) {\n        case 'add':\n            return state + action.param;\n        case 'sub':\n            return state - action.param;\n        case 'mul':\n            return state * action.param;\n        case 'reset':\n            return initialcount;\n        default:\n            console.log('what?');\n            return state;\n    }\n    }\n    \n    function parentcomponent() {\n      //å®ä¹å¨å±åécountï¼ä»¥åè´è´£æåºä¿®æ¹äºä»¶çdispatch\n      const [count, dispatch] = usereducer(reducer, initialcount);\n    \n      //è¯·æ³¨æï¼value={{count,dispatch} æ¯æ´ä¸ªä»£ç çæ ¸å¿ï¼æå°countãdispatchæ´é²ç»ææå­ç»ä»¶\n      return <countcontext.provider value={{count,dispatch}}>\n        <div>\n            parentcomponent - count={count}\n            <componenta />\n            <componentb />\n            <componentc />\n        </div>\n      </countcontext.provider>\n    }\n    \n    export default parentcomponent;\n\n\nå­ç»ä»¶a ä»£ç å¦ä¸ï¼\n\nimport react,{ usestate, usecontext } from 'react';\nimport countcontext from './countcontext';\n\nfunction copmpoenta() {\n  const [param,setparam] = usestate(1);\n  //å¼å¥å¨å±å±äº«å¯¹è±¡ï¼è·åå¨å±åécountï¼ä»¥åä¿®æ¹countå¯¹åºçdispatch\n  const countcontext = usecontext(countcontext);\n\n  const inputchangehandler = (eve) => {\n    setparam(eve.target.value);\n  }\n\n  const dohandler = () => {\n    //è¥æ³ä¿®æ¹å¨å±countï¼åè·åcountå¯¹åºçä¿®æ¹æåºäºä»¶å¯¹è±¡dispatchï¼ç¶åéè¿dispatchå°ä¿®æ¹åå®¹æåº\n    //æåºçä¿®æ¹åå®¹ä¸ºï¼{type:'add',param:xxx}ï¼å³åè¯countçä¿®æ¹äºä»¶å¤çå½æ°ï¼æ¬æ¬¡ä¿®æ¹çç±»åä¸ºaddï¼åæ°æ¯param\n    //è¿éçaddåparamå®å¨æ¯æ ¹æ®èªå·±å®ééæ±èªå·±å®ä¹ç\n    countcontext.dispatch({type:'add',param:number(param)});\n  }\n\n  const resethandler = () => {\n    countcontext.dispatch({type:'reset'});\n  }\n\n  return <div>\n        componenta - count={countcontext.count}\n        <input type='number' value={param} onchange={inputchangehandler} />\n        <button onclick={dohandler}>add {param}</button>\n        <button onclick={resethandler}>reset</button>\n    </div>\n}\n\nexport default copmpoenta;\n\n\næ»ç»ï¼\n1ã3ä¸ªå­ç»ä»¶ä»ä»¬ä¸»è¦åºå«æ¯ç»ä»¶å dohandler å½æ°ï¼å¯¹countè¿è¡ä¸åå½¢å¼çä¿®æ¹ï¼\n2ã3ä¸ªå­ç»ä»¶åå«å¯ä»¥å®ç°å¯¹å¨å±åé count çè·åä¸ä¿®æ¹ï¼\n3ãå½ä»»ä½ä¸ä¸ªå­ç»ä»¶å¯¹countè¿è¡äºä¿®æ¹ï¼é½ä¼ç«å³åæ å¨å¶ä»å­ç»ä»¶ä¸­ï¼å®ç°å­ç»ä»¶ä¹é´çæ°æ®å±äº«ã\n\nè³æ­¤ï¼å®ç°äºæ¯è¾ç®åçï¼ç±»ä¼¼ redux å¨å±æ°æ®ç®¡çææã\n\n\n\n# ä¸ºä»ä¹ä¸ä½¿ç¨reduxï¼\n\nè¿ä¸ªé®é¢ä»¥åæåºè¿ï¼ç°å¨å¯ä»¥æç¡®åç­ï¼å ä¸ºæèªå·±ä½¿ç¨ usereducer + usecontext èªå·±å¯ä»¥è½»æ¾å®ç°ï¼å¹²åè¿è¦ç¨reduxã\nåè§ reduxã\n\n\n\n> ä»¥ä¸åå®¹æ´æ°äº 2021.05.18\n\n\n# å¿æ reduxï¼å¿æ usereducer+usecontextï¼æ¥æ± recoil å§ï¼\n\nå¼ºçæ¨èä½¿ç¨ react å¼åäººåéå¯¹ hooks å½æ°ç»ä»¶æ¨åºçæ°ä¸ä»£ç¶æç®¡çåºï¼recoil\n\nrecoil å®æ¹ç½ç«ï¼https://recoiljs.org/\n\næåç recoil æç¨ï¼https://github.com/puxiao/recoil-tutorial\n\n> ä»¥ä¸åå®¹æ´æ°äº 2021.05.18\n\n\n\n\n# ä»ä¹æ¶åç¨usestateï¼ä»ä¹æ¶åç¨usereducerï¼\n\næ¬äººçå»ºè®®æ¯ï¼ç»ä»¶èªå·±åé¨çç®åé»è¾åéç¨usestateãå¤ä¸ªç»ä»¶ä¹é´å±äº«çå¤æé»è¾åéç¨usereducerã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºusereduceré«çº§ç¨æ³å·²ç»è®²å®ï¼usereducerå¯ä»¥è®©æä»¬å®ç°å¤æé»è¾çæ°æ®ä¿®æ¹ï¼ç»åusecontextæ´è½åå°å¨å±æ°æ®å±äº«åä¿®æ¹ã\n\nç®åå·²ç»å­¦ä¹ è¿ç4ä¸ªhookå½æ°usestateãuseeffectãusecontextãusereducerï¼ä»ä»¬é½æ¯ç¨æ¥å®ç°ç»ä»¶æäºå·ä½ä¸å¡åè½çï¼èæ¥ä¸æ¥è¦å­¦ä¹ çhookå½æ°åæ¯ç¨æ¥æé«ç»ä»¶æ´ä½æ§è½çï¼ä¾å¦ç¬¬5ä¸ªhookå½æ°usecallbackåç¬¬6ä¸ªhookå½æ°usememoã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"10 useCallbackåºç¡ç¨æ³",frontmatter:{title:"10 useCallbackåºç¡ç¨æ³",date:"2023-09-11T15:22:43.000Z",permalink:"/pages/9d19f1/"},regularPath:"/03.react/10.useCallback%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95.html",relativePath:"03.react/10.useCallbackåºç¡ç¨æ³.md",key:"v-349dd31c",path:"/pages/9d19f1/",headers:[{level:2,title:"useCallbackæ¦å¿µè§£é",slug:"usecallbackæ¦å¿µè§£é",normalizedTitle:"usecallbackæ¦å¿µè§£é",charIndex:25},{level:5,title:"reactååé¾ï¼",slug:"reactååé¾",normalizedTitle:"reactååé¾ï¼",charIndex:181},{level:5,title:"ç¬¬1ä¸ªç¥è¯ç¹ï¼React.memo() çç¨æ³",slug:"ç¬¬1ä¸ªç¥è¯ç¹-react-memo-çç¨æ³",normalizedTitle:"ç¬¬1ä¸ªç¥è¯ç¹ï¼react.memo() çç¨æ³",charIndex:2421},{level:5,title:"ç¬¬2ä¸ªç¥è¯ç¹ï¼=== ç­æ¯è¿ç®",slug:"ç¬¬2ä¸ªç¥è¯ç¹-ç­æ¯è¿ç®",normalizedTitle:"ç¬¬2ä¸ªç¥è¯ç¹ï¼=== ç­æ¯è¿ç®",charIndex:3653},{level:2,title:"useCallbackæ¯æ¥è§£å³ä»ä¹é®é¢çï¼",slug:"usecallbackæ¯æ¥è§£å³ä»ä¹é®é¢ç",normalizedTitle:"usecallbackæ¯æ¥è§£å³ä»ä¹é®é¢çï¼",charIndex:4359},{level:2,title:"useCallbackå½æ°æºç ï¼",slug:"usecallbackå½æ°æºç ",normalizedTitle:"usecallbackå½æ°æºç ï¼",charIndex:5591},{level:2,title:"useCallbackåºæ¬ç¨æ³",slug:"usecallbackåºæ¬ç¨æ³",normalizedTitle:"usecallbackåºæ¬ç¨æ³",charIndex:6276},{level:5,title:"ä»£ç å½¢å¼ï¼",slug:"ä»£ç å½¢å¼",normalizedTitle:"ä»£ç å½¢å¼ï¼",charIndex:6791},{level:5,title:"æè§£è¯´æï¼",slug:"æè§£è¯´æ",normalizedTitle:"æè§£è¯´æï¼",charIndex:7194},{level:4,title:"'age'è¡¥åè¯´æ",slug:"age-è¡¥åè¯´æ",normalizedTitle:"'age'è¡¥åè¯´æ",charIndex:7234},{level:4,title:"'clickHandler'è¡¥åè¯´æ",slug:"clickhandler-è¡¥åè¯´æ",normalizedTitle:"'clickhandler'è¡¥åè¯´æ",charIndex:7428},{level:4,title:"''è¡¥åè¯´æ",slug:"button-è¡¥åè¯´æ",normalizedTitle:"''è¡¥åè¯´æ",charIndex:null},{level:2,title:"useCallbackä½¿ç¨ç¤ºä¾ï¼",slug:"usecallbackä½¿ç¨ç¤ºä¾",normalizedTitle:"usecallbackä½¿ç¨ç¤ºä¾ï¼",charIndex:7688},{level:2,title:"æèé¢",slug:"æèé¢",normalizedTitle:"æèé¢",charIndex:9834}],headersStr:"useCallbackæ¦å¿µè§£é reactååé¾ï¼ ç¬¬1ä¸ªç¥è¯ç¹ï¼React.memo() çç¨æ³ ç¬¬2ä¸ªç¥è¯ç¹ï¼=== ç­æ¯è¿ç® useCallbackæ¯æ¥è§£å³ä»ä¹é®é¢çï¼ useCallbackå½æ°æºç ï¼ useCallbackåºæ¬ç¨æ³ ä»£ç å½¢å¼ï¼ æè§£è¯´æï¼ 'age'è¡¥åè¯´æ 'clickHandler'è¡¥åè¯´æ ''è¡¥åè¯´æ useCallbackä½¿ç¨ç¤ºä¾ï¼ æèé¢",content:"# 10 useCallbackåºç¡ç¨æ³\n\n\n# useCallbackæ¦å¿µè§£é\n\næä»¬ç¬¬äºä¸ªè¦å­¦ä¹ çHook(é©å­å½æ°)æ¯useCallbackï¼ä»çä½ç¨æ¯âå¾ä½âç»ä»¶å±æ§ä¸­æäºå¤çå½æ°ï¼åå»ºè¿äºå½æ°å¯¹åºå¨reactååé¾ä¸çåéå¼ç¨ãuseCallbackç¬¬2ä¸ªåæ°æ¯å¤çå½æ°ä¸­çä¾èµåéï¼åªæå½ä¾èµåéåçæ¹åæ¶æä¼éæ°ä¿®æ¹å¹¶åå»ºæ°çä¸ä»½å¤çå½æ°ã\n\n# reactååé¾ï¼\n\næå¯¹reactååé¾ä¹ä¸å¤ªæï¼ä½ å¯ä»¥ç®åå¾æ reactååé¾ çè§£æ âreactå®ä¹çä¸ååå­âãæä»¬ä½¿ç¨æäº hook å®ä¹çâåéæå½æ°âé½å­æ¾å¨è¿ååå­éãè¿ååå­éä¿å­çåéæå½æ°ï¼å¹¶ä¸ä¼å ä¸ºç»ä»¶éæ°æ¸²æèæ¶å¤±ã\n1ãå½æä»¬éè¦ä½¿ç¨æ¶å¯ä»¥âå¯¹è±¡çå¼ç¨åâä»è¯¥åå­éè·åï¼ä¾å¦useContext\n2ãå½å¸ææ´æ¹æäºåéæ¶ï¼å¯ä»¥éè¿ç¹å®çå½æ°æ¥ä¿®æ¹è¯¥åå­ä¸­åéçå¼ï¼ä¾å¦useStateä¸­çsetXxxx()\n3ãå½æäºå½æ°ä¾èµåéåçæ¹åæ¶ï¼reactå¯ä»¥éæ°çæãå¹¶ä¿®æ¹è¯¥åå­ä¸­å¯¹åºçå½æ°ï¼ä¾å¦useReducerãuseCallback\n\n> æ­¤å¤æ´æ°ä¸2020å¹´10æ13æ¥\n> ä»å¤©å­¦ä¹ äºä¸ä¸ JS ååé¾ï¼æ¯ä¸ä¸ªå¯¹è±¡æèè¯´ç± function åå»ºçå¯¹è±¡ï¼ä»ä»¬é½æä¸ä¸ªå±æ§ __proto__ï¼è¯¥å±æ§å¼ä¸ºåå»ºè¯¥å¯¹è±¡çæé å½æ°çååå¯¹è±¡ï¼åç§° éå¼ååï¼èè¿ä¸å±çéå¼ååä¹æ __proto__ å±æ§ï¼å³ __proto__.__proto__ å±æ§å¼ä¸º Object.prototypeï¼è¿å¯ä»¥ç»§ç»­åå¾ä¸æ·±å¥ __proto__.__proto__.__proto__ä¸ºäºé¿åæ­»å¾ªç¯ï¼æç»å°æ­¤ï¼å³ Object.prototype.__proto__ ä¸º nullãä½ä¸ºæé å½æ°å¯¹è±¡ï¼æå±æ§ prototypeï¼å±æ§å¼ä¸ºè¯¥å½æ°çæ¾ç¤ºååå¯¹è±¡ãconstructor åè¡¨ç¤ºååå¯¹è±¡çæé å½æ°æ¬èº«ã\n> \n> const arr = [1, 2, 3]\n> console.log(arr.__proto__ === Array.prototype) // true\n> console.log(arr.__proto__.__proto__ === Object.prototype) // true\n> console.log(Object.prototype.__proto__ === null) // true\n> \n> function MyFun() { this.name = 'puxiao' }\n> const myFun = new MyFun()\n> console.log(myFun.__proto__ === MyFun.prototype) // true\n> console.log(MyFun.__proto__ === Function.prototype) // true\n> console.log(myFun.__proto__.__proto__ === Object.prototype) // true\n> console.log(myFun.__proto__.__proto__.__proto__) // null\n> console.log(Object.prototype.__proto__) // null\n\n> è¦æ³æ´å å®¹æçè§£ä¸é¢ä»£ç ï¼å°±éè¦æç½ï¼æè° object æ¯æ { }ï¼è Object å¶å®æ¯ JS åç½®çå¯¹è±¡å½æ°ãåç æè° array æ¯æ []ï¼è Array å¶å®æ¯ JS åç½®ç æ°ç»å½æ°\n\n> æ­£æ¯ JS ä¸­ __prototype__(éå¼åå) prototype(æ¾å¼åå) constructor(ååå¯¹è±¡æå¨çæé å½æ°æ¬èº«) è¿ 3ä¸ªæ¦å¿µï¼æç»ç»åæäº åºå¤§ç JS åè½ãæä»¬å¹³æ¶å®ä¹çä»»ä½ ç±»ãå¯¹è±¡ãå½æ° é½åºå¨è¿ç§ é¾æ¡ ä¸­ï¼ä»¥åå¯¹ è¿ä¸ªé¾æ¡ä¸­æä¸ªç¯èå±æ§åè½çæ©å±ï¼è¿ç§ç»ç»å½¢å¼å°±å« JS ååé¾ã\n\n> JS ååè¿æä¸ä¸ªååå°±æ¯å¯ä»¥æ éå¾å»æ©å±èªèº«å±æ§ï¼å½åçº§å«çååæ©å±å±æ§ä¹åï¼ä¸å±çº§å«çå¯¹è±¡èªå¨å°±æ¥æè¯¥å±æ§ã\n> \n> é£ä¹æä»¬å¯ä»¥å¤§æ¦æ¨çåºæ¥ï¼Reactå°±æ¯å·§å¦å©ç¨äºè¿ç§ JS ååé¾çååï¼å°åºå±æ¨¡åéè¦ç¨å°çå¤çå½æ°æåå°æ´é«(æèè¯´æ´å åå§)ççº§å«ä¸­ãè¿æ ·å³ä½¿åºå±ä¸­åçäºååï¼ä½æ¯ä»ä¾ç¶æ¥æé«å±ä¸­å®ä¹å¥½çå½æ°å¼ç¨ã\n\nè¯·éç¹çæâä¿®æ¹âè¿ä¸ªè¯ï¼å ä¸ºâä¿®æ¹âçµæ¯å°reactæä¸ºéç§å´æå¶éè¦çä¸å±æ¦å¿µã\nâä¿®æ¹âæ3ç§æåµï¼\n1ãç¨å®å¨ä¸ä¸æ ·çæ°å¼å»æ¿æ¢ä¹åçæ§å¼ ââ> è¿ä¼è§¦åreactéæ°æ¸²æ ââ> ä¾å¦{age:34}å»æ¿æ¢{age:18}\n2ãç¨åæ§å¼çä¼¼ä¸æ¨¡ä¸æ ·çæ°å¼å»æ¿æ¢ä¹åçæ§å¼ ââ> è¿ä¾ç¶ä¼è§¦åreactéæ°æ¸²æï¼å ä¸ºreactåºå±å¯¹æ°æ§å¼åå¯¹æ¯æ¶ä½¿ç¨çæ¯ Object.iså¤æ­ï¼å­é¢ä¸çä¼¼ä¸æ¨¡ä¸æ ·æ²¡æç¨ï¼reactä¾ç¶ä¼è®¤ä¸ºè¿æ¯2ä¸ªå¯¹è±¡ï¼ä¾ç¶ä¼è§¦åreactéæ°æ¸²æ ââ> ä¾å¦{age:18}å»æ¿æ¢{age:18}\n3ãç¨æ§å¼çå¼ç¨å»æ¿æ¢æ§å¼ ââ> è¿æ¬¡å°±ä¸ä¼è§¦åéæ°æ¸²æ ââ> ä¾å¦let obj={age:18}; let obj2=objï¼ç¨obj2å»æ¿æ¢obj\n\nä¸ºäºæé«reactæ§è½ï¼å°±éè¦ç¨æ§å¼çå¼ç¨å»æ¿æ¢æ§å¼ï¼ä»èé»æ­¢æ¬æ¬¡æ è°çæ¸²æã\n\né®é¢çå³é®å°±å¨äºâå¦ä½è·åæ§å¼çå¼ç¨âï¼\nç­ï¼å¯¹äºå½æ°æ¥è¯´å¯ä»¥ä½¿ç¨useCallbackã\n\nå¨æ¬ç« æä»¥åçç« èä¸­ï¼æä¾ç¶ä¼ä½¿ç¨ reactååé¾ è¿ä¸ªè¯ï¼ä½ é½æç§æåæè¯´çâreactå®ä¹çä¸ååå­âæ¦å¿µå»çè§£å°±å¥½äºã\n\næµåäºæ²¡ï¼æå·²ç»å°½éæ»ç»å¾è®©ä½ å®¹æçè§£äºï¼å¦æä½ ä¼¼æéææ²¡æå³ç³»ï¼æ¬æåé¢ä¼éè¿ç¤ºä¾ä»£ç ä¼è®©ä½ æç½å¦ä½ä½¿ç¨ã\n\nè®©æä»¬åå¿æuseCallbackï¼åæ¥å­¦ä¹ ä¸ä¸ä»¥ä¸2ä¸ªç¥è¯ç¹ã\n\n# ç¬¬1ä¸ªç¥è¯ç¹ï¼React.memo() çç¨æ³\n\né¦åæä»¬ç¥éï¼é»è®¤æåµä¸å¦æç¶ç»ä»¶éæ°æ¸²æï¼é£ä¹è¯¥ç¶ç»ä»¶ä¸çææå­ç»ä»¶é½ä¼éçç¶çº§çéæ°æ¸²æèéæ°æ¸²æã\n1ãæ è®ºå­ç»ä»¶æ¯ç±»ç»ä»¶ææ¯å½æ°ç»ä»¶ã\n2ãæ è®ºå­ç»ä»¶å¨æ¬æ¬¡æ¸²æè¿ç¨ä¸­ï¼å­ç»ä»¶æ¯å¦æä»»ä½ç¸å³çæ°æ®ååã\n\nä¸¾ä¾ï¼åè®¾æç¶ç»ä»¶ä¸­æ3ä¸ªå­ç»ä»¶ï¼å­ç»ä»¶Aãå­ç»ä»¶Bãå­ç»ä»¶Cãè¥å ä¸ºå­ç»ä»¶Aåçäºæäºæä½ï¼å¼åç¶ç»ä»¶éæ°æ¸²æï¼è¿æ¶å³ä½¿å­ç»ä»¶Båå­ç»ä»¶Cæ²¡æä»»ä½éè¦æ´æ¹çå°æ¹ï¼ä½æ¯é»è®¤ä»ä»¬ä¸¤ä¸ªä¹ä¼éæ°è¢«æ¸²æä¸æ¬¡ã\n\nä¸ºäºåå°è¿ä¸ªä¸å¿è¦çéæ°æ¸²æï¼å¦ææ¯ç±»ç»ä»¶ï¼å¯ä»¥å¨ç»ä»¶shouldComponentUpdate(åå¤è¦å¼å§æ´æ°å)çå½å¨æå½æ°ä¸­ï¼éè¿æ¯è¾propsåstateä¸­ååä¸¤æ¬¡çå¼ï¼å¦æå®å¨ç¸ç­åè·³è¿æ¬æ¬¡æ¸²æï¼æ¹ä¸ºç´æ¥ä½¿ç¨ä¸ä¸æ¬¡æ¸²æç»æï¼ä»¥æ­¤æé«æ§è½æåã\n\nä¼ªä»£ç å¦ä¸ï¼\n\nshouldComponentUpdate(nextProps,nextStates){\n  //å¤æ­xxxå¼æ¯å¦ç¸åï¼å¦æç¸ååä¸è¿è¡éæ°æ¸²æ\n  return (nextProps.xxx !== this.props.xxx); //æ³¨ææ¯ !== èä¸æ¯ !=\n}\n\n\nä¸ºäºç®åæä»¬è¿ä¸æ­¥æä½ï¼å¯ä»¥å°ç±»ç»ä»¶ç±é»è®¤ç»§æ¿èªReact.Componentæ¹ä¸ºReact.PureComponentãReact.PureComponenté»è®¤ä¼å¸®æä»¬å®æä¸é¢çæµå±å¯¹æ¯ï¼ä»¥è·³è¿æ¬æ¬¡éæ°æ¸²æã\n\nè¯·æ³¨æï¼React.PureComponentä¼å¯¹propsä¸ææå¯æä¸¾å±æ§åä¸éæµå±å¯¹æ¯ãèä¸å shouldComponentUpdateä¸­å¯ä»¥æéå¯¹æ§çåªå¯¹æå±æ§åå¯¹æ¯ã\n\nä¸é¢è®²çé½æ¯ç±»ç»ä»¶ï¼ä¸ä¹å¯¹åºçæ¯React.memo()ï¼è¿ä¸ªæ¯éå¯¹å½æ°ç»ä»¶çï¼ä½ç¨åReact.PureComponentå®å¨ç¸åã\n\nReact.memo()çä½¿ç¨æ¹æ³å¾ç®åï¼å°±æ¯æè¦å¯¼åºçå½æ°ç»ä»¶åè£¹å¨React.memoä¸­å³å¯ã\n\nä¼ªä»£ç å¦ä¸ï¼\n\nimport React from 'react'\nfunction Xxxx() {\n  return <div>xx</div>;\n}\nexport default React.memo(Xxxx); //ä½¿ç¨React.memoåè£¹ä½è¦å¯¼åºçå½æ°ç»ä»¶\n\n\nè¯·è®°ä½ä»¥ä¸2ç¹ï¼\n1ãReact.memo()åªä¼å¸®æä»¬åæµå±å¯¹æ¯ï¼ä¾å¦props.name='puxiao'æprops.list=[1,2,3]ï¼å¦ææ¯propsä¸­åå«å¤æçæ°æ®ç»æï¼ä¾å¦props.obj.list=[{age:34}]ï¼é£ä¹æå¯è½è¾¾ä¸å°ä½ çé¢æï¼å ä¸ºä¸ä¼åå°æ·±å±æ¬¡å¯¹æ¯ã\n2ãä½¿ç¨React.memoä»ä»æ¯è®©è¯¥å½æ°ç»ä»¶å·å¤äºå¯ä»¥è·³è¿æ¬æ¬¡æ¸²æçåºç¡ï¼è¥ç»ä»¶å¨ä½¿ç¨çæ¶åå±æ§å¼ä¸­ææäºå¤çå½æ°ï¼é£ä¹è¿éè¦éåuseCallbackæå¯ä»¥åå°è·³è¿æ¬æ¬¡éæ°æ¸²æã\n\nåµï¼è¯é¢ååå°useCallbackä¸é¢äºã\n\n# ç¬¬2ä¸ªç¥è¯ç¹ï¼=== ç­æ¯è¿ç®\n\nå¨åçJSä¸­ï¼ä½ è®¤ä¸º\n1ã{}==={} ä¸ºtrueè¿æ¯falseï¼\n2ã{a:2}==={a:2} ä¸ºtrueè¿æ¯falseï¼\n\nè¿æ¯ä¸éå¾ç®åå´å¾å®¹æè¿·æäººçé¢ç®ï¼è¥ä½ å¯¹åçJSä¸­ === ç­æ¯è¿ç®ä¸å¤æ·±å¥äºè§£ï¼ä½ å¾å®¹æä¼è®¤ä¸ºç»ææ¯trueã\n\nå¦æä½ è½»æ¾åç­åºæ¥ï¼ä»¥ä¸åä¸ºfalseï¼é£ä¹æ­åä½ æ¯ä¸ªæç½äººã\nå¦æä½ çæäºä¸ä¸æèä½ çç­æ¡æ¯trueï¼é£ä¹ä½ å¯ä»¥èªå·±å»JSéæµè¯ä¸ä¸çç»ææ¯ä»ä¹ã\n\nç­æ¡æ¯2èåæ¯falseã\n\nä»¥{}==={}ä¸ºä¾ï¼è½ç¶ä»å­é¢ä¸ === å·¦å³ä¸¤ä¾§å®å¨ç¸åçï¼ä½æ¯å®éä¸å¨JSä¸­ å·¦å³ä¸¤ä¾§åå«ä¸ºç¬ç«ç{}å¯¹è±¡ï¼åèªå æåèªçåå­ç©ºé´ï¼å æ­¤ä»ä»¬å¯¹æ¯çç»ææ¯falseã\n\nç¸åï¼çä¸é¢çä»£ç ï¼\n\nlet obj = {};\nlet obj2 = obj;\nobj2.name='react';\nconsole.log(obj===obj2); //true\n\n\nä¸é¢è¾åºç»æä¸ºtrueï¼ä¸ºä½obj===obj2ä¸ºtrueï¼ å ä¸º objåobj2é½æ¯å¯¹åä¸ä¸ªå¯¹è±¡çå¼ç¨ï¼æä»¥å¯¹æ¯ç»æä¸ºtrueï¼å ä¸ºä»ä»¬æç»æååä¸ä¸ªå¯¹è±¡ã\n\nè¿è®°å¾æ¬æå¼å¤´å¯¹äºuseCallbackæ¦å¿µè§£éä¸­çé£æ®µæå­åï¼useCallbackçä½ç¨æ¯âå¾ä½âç»ä»¶å±æ§ä¸­æäºå¤çå½æ°ï¼åå»ºè¿äºå½æ°å¯¹åºå¨reactååé¾ä¸çåéå¼ç¨ã\n\nåµï¼è¯é¢ååå°useCallbackä¸é¢äºã\n\nåéç¹ï¼è®°ä½âuseCallbackâåâååé¾ä¸å¤çå½æ°çå¼ç¨âè¿ä¸¤ä¸ªå³é®è¯ï¼åºæ¬ä¸ä½ å°±å¯¹useCallbackçåççè§£ä¸å¤§åäºã\n\nè®©æä»¬åå°useCallbackåºç¡å­¦ä¹ ä¸­ã\n\n\n# useCallbackæ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼useCallbackæ¯éè¿è·åå½æ°å¨reactååé¾ä¸çå¼ç¨ï¼å½å³å°éæ°æ¸²ææ¶ï¼ç¨æ§å¼çå¼ç¨å»æ¿æ¢æ§å¼ï¼éåReact.memoï¼è¾¾å°âé»æ­¢ç»ä»¶ä¸å¿è¦çéæ°æ¸²æâã\n\nè¯¦ç»è§£éï¼\nuseCallbackå¯ä»¥å°ç»ä»¶çæäºå¤çå½æ°æè½½å°reactåºå±ååé¾ä¸ï¼å¹¶è¿åè¯¥å¤çå½æ°çå¼ç¨ï¼å½ç»ä»¶æ¯æ¬¡å³å°è¦éæ°æ¸²ææ¶ï¼ç¡®ä¿propsä¸­è¯¥å¤çå½æ°ä¸ºåä¸å½æ°(å ä¸ºæ¯åä¸å¯¹è±¡å¼ç¨ï¼æä»¥===è¿ç®ç»æä¸å®ä¸ºtrue)ï¼è·³è¿æ¬æ¬¡æ æä¹çéæ°æ¸²æï¼è¾¾å°æé«ç»ä»¶æ§è½çç®çãå½ç¶åææ¯è¯¥ç»ä»¶å¨å¯¼åºæ¶ä½¿ç¨äºReact.memo()ã\n\nè¡¥åè¯´æï¼\nåè®¾æç»ä»¶ä½¿ç¨å°äºmyfunè¿ä¸ªå¤çå½æ°ï¼åå¿ä¸ä¸åé¢æå°çJSä¸­===è¿ç®è§åï¼èèä¸ä¸ã\n\né»è®¤ä¸ä½¿ç¨useCallbackï¼å¶å®ç»ä»¶æ§è¡äºä»¥ä¸ä¼ªä»£ç ï¼\n\nlet obj = {}; //ä¸ä¸æ¬¡æ¸²ææ¶åå»ºçprops\nobj.myfun={xxx}; //propsä¸­çmyfunå±æ§å¼ï¼å®ä¸ºç¬ç«åå»ºç{xxx}\n\nlet obj2 = {}; //æ¬æ¬¡æ¸²ææ¶åå»ºçprops\nobj2.myfun={xxx}; //propsä¸­çmyfunå±æ§å¼ï¼å®ä¸ºç¬ç«åå»ºç{xxx}\n\nif(obj.myfun === obj2.myfun){\n  //è·³è¿æ¬æ¬¡éæ°æ¸²æï¼æ¹ä¸ºä½¿ç¨ä¸ä¸æ¬¡æ¸²æç»æå³å¯\n}\n\n\nç±äºobj.myfun å obj2.myfun ä¸ºåå«ç¬ç«åå»ºçå½æ°{xxx}ï¼æä»¥å¯¹æ¯ç»æä¸ºfalseï¼ä¹å°±æå³çæ æ³è·³è¿æ¬æ¬¡éæ°æ¸²æï¼å°½ç®¡å½æ°{xxx}å­é¢ç¸åã\n\nç¸åï¼å¦æä½¿ç¨useCallbackï¼å¶å®ç»ä»¶æ§è¡äºä»¥ä¸ä¼ªä»£ç ï¼\n\nlet myfun = {xxx}; //ç¬ç«å®ä¹å¤çå½æ°myfun\n\nlet obj = {}; //ä¸ä¸æ¬¡æ¸²ææ¶åå»ºçprops\nobj.myfun = myfun; //propsä¸­çmyfunå±æ§å¼ï¼å®ä¸ºmyfunçå¼ç¨\n\nlet obj2 = {}; //æ¬æ¬¡æ¸²ææ¶åå»ºçprops\nobj2.myfun = myfun; //propsä¸­çmyfunå±æ§å¼ï¼å®ä¸ºmyfunçå¼ç¨\n\nif(obj.myfun === obj2.myfun){\n  //è·³è¿æ¬æ¬¡éæ°æ¸²æï¼æ¹ä¸ºä½¿ç¨ä¸ä¸æ¬¡æ¸²æç»æå³å¯\n}\n\n\næ­¤æ¶ obj.myfun å obj2.myfun åä¸ºmyfunçå¼ç¨ï¼å æ­¤è¯¥å¯¹æ¯ç»æä¸ºtrueï¼ä¹å°±æå³çå¯ä»¥é¡ºå©è·³è¿æ¬æ¬¡æ¸²æï¼è¾¾å°æé«ç»ä»¶æ§è½çç®çã\n\nä»¥ä¸æ¯ä»£ç ä»ä»æ¯ä¸ºäºç¤ºæé»è®¤å­ç»ä»¶ä¸ºä»ä¹ä¼è¢«è¿«éæ°æ¸²æï¼ä»¥åuseCallbackä½ç¨æºçã\n\nåªæçè§£äºè¿ä¸ªæºçï¼æä¼æç½ä½æ¶ä½¿ç¨useCallbackã åè®°ä¸è¦æ»¥ç¨useCallbackã\n\nå¤è¯´ä¸å¥ï¼ä½ æ¯å¦è§å¾React Hook å¾ç»ï¼ å¯¹ï¼è¿å°±æ¯Hookå­¦ä¹ èµ·æ¥é¾åº¦å¤§çä¸äºåå ï¼ä½å½ä½ ååçè§£Reactçç¼ç¨å²å­¦ææ³åï¼ç¨èµ·æ¥ä¼å¦é±¼å¾æ°´ãå æ²¹ï¼\n\n\n# useCallbackå½æ°æºç ï¼\n\nåå°useCallbackçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸Reactæºç ä¸­çReactHooks.jsã\n\n    //å¤æ³¨ï¼æºç éç¨TypeScriptç¼åï¼å¦æä¸æTSä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\n    export function useCallback<T>(\n      callback: T,\n      deps: Array<mixed> | void | null,\n    ): T {\n      const dispatcher = resolveDispatcher();\n      return dispatcher.useCallback(callback, deps);\n    }\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨Hookâï¼å¹¶ä¸æ¯âHookæºç åæâã^_^\nä¸è¿è¯·æ³¨æç¬¬2ä¸ªåæ°ï¼depsä¸ºè¯¥å½æ°ä¾èµçæ°æ®åéï¼å¼ä¸ºArray<mixed> æ void æ nullã æå³çå¦æè¯¥å½æ°æ²¡æä¾èµçæåµä¸ï¼å¯ä»¥ä¼ å¥ç©ºæ°ç»[]ævoidænullãä¸ªäººå»ºè®®æ¯ä¼ å¥ç©ºæ°ç»ã\n\nè¡¥åä¸ç¹TypeScriptç¥è¯(å ä¸ºææè¿åå­¦äºTypeScript)ï¼\nå <T>(callback:T):T è¿ç§ç±»åå®ä¹ç§°ä¸ºâæ³åâï¼éé¢ T çå«ä¹ä¸ºâä¸æ¨¡ä¸æ ·çåç±»åâã\nä¸¾ä¾ï¼\n1ãè¥Tä¸ºfunctionï¼å³åæ°callbackç±»åä¸ºfunctionï¼é£ä¹å½æ°è¿åå¼ä¹ä¸ºfunctionã\n2ãè¥Tä¸ºobjectï¼å³åæ°callbackç±»åä¸ºobjectï¼é£ä¹å½æ°è¿åå¼ä¹ä¸ºobjectã\n\n\n# useCallbackåºæ¬ç¨æ³\n\nuseCallback(callback,deps)å½æ°éå¸¸ä¼ å¥2ä¸ªåæ°ï¼ç¬¬1ä¸ªåæ°ä¸ºæä»¬å®ä¹çä¸ä¸ªâå¤çå½æ°âï¼éå¸¸ä¸ºä¸ä¸ªç®­å¤´å½æ°ãç¬¬2ä¸ªåæ°ä¸ºè¯¥å¤çå½æ°ä¸­å­å¨çä¾èµåéï¼è¯·æ³¨æå¡æ¯å¤çå½æ°ä¸­æçæ°æ®åéé½éè¦æ¾å¥depsä¸­ãå¦æå¤çå½æ°æ²¡æä»»ä½ä¾èµåéï¼å¯ä»¥ä¼ å¥ä¸ä¸ªç©ºæ°ç»[]ã\n\nç¹å«å¼ºè°ä¸ä¸ï¼useCallbackä¸­çç¬¬2ä¸ªä¾èµåéæ°ç»åuseEffectä¸­ç¬¬2ä¸ªä¾èµåéæ°ç»ï¼ä½ç¨å®å¨ä¸ç¸åã\nuseEffectä¸­ç¬¬2ä¸ªä¾èµåéæ°ç»æ¯çæ­£èµ·ä½ç¨çï¼æ¯å·æå³é®æ§è´¨çãèuseCallbackä¸­ç¬¬2ä¸ªä¾èµåéæ°ç»ç®åä½ç¨æ¥è¯´ä»ä»æ¯èµ·å°ä¸ä¸ªè¾å©ä½ç¨ã\n\nä»ä»æ¯è¾å©ï¼è¾å©ä»ä¹äºï¼çè³ä½ è¿å¯è½ä¼æä¸ä¸ªçé®ï¼æ¢ç¶å¤çå½æ°ä¸­ææçä¾èµåéé½éè¦åä¸ºç¬¬2ä¸ªåæ°çåå®¹ï¼ä¸ºå¥Reactä¸æºè½ä¸äºï¼è®©æä»¬ä¸ä¼ ç¬¬2ä¸ªåæ°ï¼çç¥æè¿ä¸æ­¥ï¼\n\nå¨Reactå®æ¹ææ¡£ä¸­ï¼éå¯¹ç¬¬2ä¸ªåæ°æä»¥ä¸è¿æ®µè¯ï¼\n\n> æ³¨æï¼ä¾èµé¡¹æ°ç»ä¸ä¼ä½ä¸ºåæ°ä¼ ç»åè°å½æ°ãè½ç¶ä»æ¦å¿µä¸æ¥è¯´å®è¡¨ç°ä¸ºï¼ææåè°å½æ°ä¸­å¼ç¨çå¼é½åºè¯¥åºç°å¨ä¾èµé¡¹æ°ç»ä¸­ãæªæ¥ç¼è¯å¨ä¼æ´å æºè½ï¼å±æ¶èªå¨åå»ºæ°ç»å°æä¸ºå¯è½ã\n\nèªå·±ä½ä¼å§ï¼ä½ åï¼ä½ ç»åã\n\n# ä»£ç å½¢å¼ï¼\n\nimport Button from './button'; //å¼å¥æä»¬èªå®ä¹çä¸ä¸ªç»ä»¶<Button>\n\n//ç»ä»¶åé¨å£°æä¸ä¸ªageåé\nconst [age,setAge] = useState(34);\n\n//éè¿useCallbackï¼å°é¼ æ ç¹å»å¤çå½æ°ä¿å­å°Reactåºå±ååé¾ä¸­ï¼å¹¶è·åè¯¥å½æ°çå¼ç¨ï¼å°å¼ç¨èµå¼ç»clickHandler\nconst clickHandler = useCallback(() => {\n    setAge(age+1);\n  },[age]);\n//ç±äºè¯¥å¤çå½æ°ä¸­ä½¿ç¨å°äºageè¿ä¸ªåéï¼å æ­¤useCallbackçç¬¬2ä¸ªåæ°ä¸­ï¼éè¦å°ageæ·»å è¿å»\n\n//ä½¿ç¨è¯¥å¤çå½æ°ï¼å®ä¸ºä½¿ç¨è¯¥å¤çå½æ°çå¨Reactåºå±ååé¾ä¸çå¼ç¨\nreturn <Button clickHandler={clickHandler}></Button>\n\n\n# æè§£è¯´æï¼\n\n1ãå·ä½è®²è§£å·²å¨ä¸é¢ç¤ºä¾ä»£ç ä¸­åäºå¤é¡¹æ³¨éï¼æ­¤å¤ä¸åéå¤ï¼\n\n# 'age'è¡¥åè¯´æ\n\n1ãä¸è¿°ä»£ç ç¤ºä¾ä¸­ï¼ageä¸ºè¯¥ç»ä»¶éè¿useStateåå»ºçåé¨åéï¼äºå®ä¸ä¹å¯ä»¥æ¯ç¶ç»ä»¶éè¿å±æ§ä¼ å¼çprops.xxä¸­çåéã\n2ãåªè¦ä¾èµåéä¸åçååï¼é£ä¹éæ°æ¸²ææ¶å°±å¯ä»¥ä¸ç´ä½¿ç¨ä¹ååå»ºçé£ä¸ªå½æ°ï¼è¾¾å°é»æ­¢æ¬æ¬¡æ¸²æï¼æåæ§è½çç®çãä½æ¯å¦æä¾èµåéåçååï¼é£ä¹ä¸æ¬¡éæ°æ¸²ææ¶æ ¹æ®åééæ°åå»ºä¸ä»½å¤çå½æ°å¹¶æ¿æ¢Reactåºå±ååé¾ä¸åæçå¤çå½æ°ã\n\n# 'clickHandler'è¡¥åè¯´æ\n\nåæ¬¡å¼ºè°ï¼clickHandlerå®éä¸æ¯çæ­£çå¤çå½æ°å¨Reactåºå±ååé¾ä¸çå¼ç¨ã\n\n# '<Button>'è¡¥åè¯´æ\n\n<Button\\>ä¸ºæä»¬èªå®ä¹çä¸ä¸ªç»ä»¶ï¼å¨ä¸è¿°ä»£ç ä¸­ç¸å½äºâå­ç»ä»¶âã\n\nä¸é¢çç¤ºä¾ä¼ªä»£ç ä»ä»æ¯ä¸ºäºæ¼ç¤ºuseCallbackçä½¿ç¨æ¹æ³ï¼å®éç»ä»¶è¿ç¨ä¸­ï¼å¦æç¶ç»ä»¶ä¸­åªæ1ä¸ªå­ç»ä»¶ï¼é£å¶å®å®å¨æ²¡æå¿è¦ä½¿ç¨useCallbackãåªæç¶ç»ä»¶åæ¶æå¤ä¸ªå­ç»ä»¶æ¶ï¼ææå¿è¦å»åæ§è½ä¼åï¼é²æ­¢æä¸ä¸ªå­ç»ä»¶å¼åçéæ°æ¸²æä¹å¯¼è´å¶ä»å­ç»ä»¶è·çéæ°æ¸²æã\n\n\n# useCallbackä½¿ç¨ç¤ºä¾ï¼\n\nè¥æä»¬æä¸ä¸ªèªå®ç»ä»¶<Button>ï¼ä»£ç å¦ä¸ï¼\n\nimport React from 'react'\nfunction Button({label,clickHandler}) {\n    //ä¸ºäºæ¹ä¾¿æä»¬æ¥çè¯¥å­ç»ä»¶æ¯å¦è¢«éæ°æ¸²æï¼è¿éå¢å ä¸è¡console.logä»£ç \n    console.log(`rendering ... ${label}`);\n    return <button onClick={clickHandler}>{label}</button>;\n}\nexport default React.memo(Button); //ä½¿ç¨React.memo()åè£¹ä½è¦å¯¼åºçç»ä»¶\n\n\nç°å¨ï¼æä»¬è¦å®ç°ä¸ä¸ªç»ä»¶ï¼åè½å¦ä¸ï¼\n1ãç»ä»¶åé¨æ2ä¸ªåéageï¼salary\n2ãæ2ä¸ªèªå®ä¹ç»ä»¶Buttonï¼ç¹å»ä¹ååå«å¯ä»¥ä¿®æ¹ageï¼salaryå¼\n\nè¥æä»¬ä¸ä½¿ç¨useCallbackï¼ä»£ç ç¤ºä¾å¦ä¸ï¼\n\nimport React,{useState,useCallback,useEffect} from 'react';\nimport Button from './button';\n\nfunction Mybutton() {\n  const [age,setAge] = useState(34);\n  const [salary,setSalary] = useState(7000);\n\n  useEffect(() => {\n    document.title = `Hooks - ${Math.floor(Math.random()*100)}`;\n  });\n\n  const clickHandler01 = () => {\n    setAge(age+1);\n  };\n\n  const clickHandler02 = () => {\n    setSalary(salary+1);\n  };\n\n  return (\n    <div>\n        {age} - {salary}\n        <Button label='Bt01' clickHandler={clickHandler01}></Button>\n        <Button label='Bt02' clickHandler={clickHandler02}></Button>\n    </div>\n  )\n}\n\n\nå®éè¿è¡ä¸­ä½ ä¼åç°ï¼æ è®ºç¹å»åªä¸ªæé®ï¼é½ä¼æ¶å°ï¼\nrendering ... Bt01\nrendering ... Bt02\n\nä½ åªæ¯ç¹å»æä½äºå¶ä¸­ä¸ä¸ªæé®ï¼å¦å¤ä¸ä¸ªæé®ä¹è¦è·çéæ°æ¸²æä¸æ¬¡ï¼è¯æ³ä¸ä¸å¦æè¯¥ç»ä»¶ä¸­æ100ä¸ªå­ç»ä»¶é½è¦è·çéæ°æ¸²æï¼é£ççæ¯æ§è½æµªè´¹ã\n\næä»¬åçä¸ä¸å¦æä½¿ç¨useCallbackï¼ä»£ç ç¤ºä¾å¦ä¸ï¼\n\nimport React,{useState,useCallback,useEffect} from 'react';\nimport Button from './button';\n\nfunction Mybutton() {\n  const [age,setAge] = useState(34);\n  const [salary,setSalary] = useState(7000);\n\n  useEffect(() => {\n    document.title = `Hooks - ${Math.floor(Math.random()*100)}`;\n  });\n\n  //ä½¿ç¨useCallback()åè£¹ä½åæ¥çå¤çå½æ°\n  const clickHandler01 = useCallback(() => {\n    setAge(age+1);\n  },[age]);\n\n  //ä½¿ç¨useCallback()åè£¹ä½åæ¥çå¤çå½æ°\n  const clickHandler02 = useCallback(() => {\n    setSalary(salary+1);\n  },[salary]);\n\n  return (\n    <div>\n        {age} - {salary}\n        <Button label='Bt01' clickHandler={clickHandler01}></Button>\n        <Button label='Bt02' clickHandler={clickHandler02}></Button>\n    </div>\n  )\n}\n\n\nä¿®æ¹åçä»£ç ï¼å®éè¿è¡å°±ä¼åç°ï¼å½ç¹å»æä¸ªæé®æ¶ï¼ä»ä»æ¯å½åæé®éæ°åäºä¸æ¬¡æ¸²æï¼å¦å¤ä¸ä¸ªæé®åæ²¡æéæ°æ¸²æï¼èæ¯ç´æ¥ä½¿ç¨ä¸ä¸æ¬¡æ¸²æç»æã\n\nä½¿ç¨useCallbackåå°å­ç»ä»¶æ²¡æå¿è¦çæ¸²æç®çè¾¾æã\n\nuseCallbackç¨æ³å¾ç®åï¼å°±æ¯åè£¹ä½åæ¬çå¤çå½æ°ãå³é®ç¹å¨äºä½ è¦çè§£useCallbackèåçæºçï¼æè½ç¥éå¨ä»ä¹æåµä¸å¯ä»¥ä½¿ç¨useCallbackãå¦åå¾å®¹ææ»¥ç¨ useCallbackï¼åèé ææ§è½çæµªè´¹ã\n\n\n# æèé¢\n\nåè®¾ä¸é¢ç¤ºä¾ä»£ç ä¸­ï¼åä»¥ä¸ä¿®æ¹ï¼æ¯ä¸ªæé®ä¸æ°å¢ä¸ä¸ªå±æ§ï¼random={Math.floor(Math.random()*100)}\n\n<Button label='Bt01' clickHandler={clickHandler01}></Button>\n<Button label='Bt02' clickHandler={clickHandler02}></Button>\nä¿®æ¹ä¸º\n<Button label='Bt01' clickHandler={clickHandler01} random={Math.floor(Math.random()*100)}></Button>\n<Button label='Bt02' clickHandler={clickHandler02} random={Math.floor(Math.random()*100)}></Button>\n\n\né£ä¹è¯·é®ï¼æ­¤æ¶æä»¬éå¯¹æ§è½ä¼åèä½¿ç¨çuseCallbackè¿ææä¹åï¼\n\nç­ï¼æ²¡æä»»ä½æä¹ï¼è½ç¶æä»¬ä½¿ç¨useCallbackä¿è¯äºæ¯æ¬¡clickHandleræ¯ç¸åçï¼å¯æ¯ random çå¼æ¯æ¬¡å´æ¯éæºä¸ä¸æ ·çï¼å°½ç®¡å­ç»ä»¶<Button>å¹¶æ²¡æä½¿ç¨å° random è¿ä¸ªå¼ï¼ä½æ¯å®çå å¥é æäº props æ¯æ¬¡é½ä¸ä¸æ ·(å¶å®æ¯ props.random ä¸ä¸æ ·)ï¼ç»æå°±æ¯å­ç»ä»¶æ¯ä¸æ¬¡é½ä¼è¢«éæ°æ¸²æãæä»¥æ­¤æ¶useCallbackå·²ç»å¤±å»äºå­å¨çæä¹ã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseCallbackåºç¡ç¨æ³å·²ç»è®²å®ï¼æ²¡æé«çº§ç¨æ³ï¼ç´æ¥è¿å¥ä¸ä¸ä¸ªHookã",normalizedContent:"# 10 usecallbackåºç¡ç¨æ³\n\n\n# usecallbackæ¦å¿µè§£é\n\næä»¬ç¬¬äºä¸ªè¦å­¦ä¹ çhook(é©å­å½æ°)æ¯usecallbackï¼ä»çä½ç¨æ¯âå¾ä½âç»ä»¶å±æ§ä¸­æäºå¤çå½æ°ï¼åå»ºè¿äºå½æ°å¯¹åºå¨reactååé¾ä¸çåéå¼ç¨ãusecallbackç¬¬2ä¸ªåæ°æ¯å¤çå½æ°ä¸­çä¾èµåéï¼åªæå½ä¾èµåéåçæ¹åæ¶æä¼éæ°ä¿®æ¹å¹¶åå»ºæ°çä¸ä»½å¤çå½æ°ã\n\n# reactååé¾ï¼\n\næå¯¹reactååé¾ä¹ä¸å¤ªæï¼ä½ å¯ä»¥ç®åå¾æ reactååé¾ çè§£æ âreactå®ä¹çä¸ååå­âãæä»¬ä½¿ç¨æäº hook å®ä¹çâåéæå½æ°âé½å­æ¾å¨è¿ååå­éãè¿ååå­éä¿å­çåéæå½æ°ï¼å¹¶ä¸ä¼å ä¸ºç»ä»¶éæ°æ¸²æèæ¶å¤±ã\n1ãå½æä»¬éè¦ä½¿ç¨æ¶å¯ä»¥âå¯¹è±¡çå¼ç¨åâä»è¯¥åå­éè·åï¼ä¾å¦usecontext\n2ãå½å¸ææ´æ¹æäºåéæ¶ï¼å¯ä»¥éè¿ç¹å®çå½æ°æ¥ä¿®æ¹è¯¥åå­ä¸­åéçå¼ï¼ä¾å¦usestateä¸­çsetxxxx()\n3ãå½æäºå½æ°ä¾èµåéåçæ¹åæ¶ï¼reactå¯ä»¥éæ°çæãå¹¶ä¿®æ¹è¯¥åå­ä¸­å¯¹åºçå½æ°ï¼ä¾å¦usereducerãusecallback\n\n> æ­¤å¤æ´æ°ä¸2020å¹´10æ13æ¥\n> ä»å¤©å­¦ä¹ äºä¸ä¸ js ååé¾ï¼æ¯ä¸ä¸ªå¯¹è±¡æèè¯´ç± function åå»ºçå¯¹è±¡ï¼ä»ä»¬é½æä¸ä¸ªå±æ§ __proto__ï¼è¯¥å±æ§å¼ä¸ºåå»ºè¯¥å¯¹è±¡çæé å½æ°çååå¯¹è±¡ï¼åç§° éå¼ååï¼èè¿ä¸å±çéå¼ååä¹æ __proto__ å±æ§ï¼å³ __proto__.__proto__ å±æ§å¼ä¸º object.prototypeï¼è¿å¯ä»¥ç»§ç»­åå¾ä¸æ·±å¥ __proto__.__proto__.__proto__ä¸ºäºé¿åæ­»å¾ªç¯ï¼æç»å°æ­¤ï¼å³ object.prototype.__proto__ ä¸º nullãä½ä¸ºæé å½æ°å¯¹è±¡ï¼æå±æ§ prototypeï¼å±æ§å¼ä¸ºè¯¥å½æ°çæ¾ç¤ºååå¯¹è±¡ãconstructor åè¡¨ç¤ºååå¯¹è±¡çæé å½æ°æ¬èº«ã\n> \n> const arr = [1, 2, 3]\n> console.log(arr.__proto__ === array.prototype) // true\n> console.log(arr.__proto__.__proto__ === object.prototype) // true\n> console.log(object.prototype.__proto__ === null) // true\n> \n> function myfun() { this.name = 'puxiao' }\n> const myfun = new myfun()\n> console.log(myfun.__proto__ === myfun.prototype) // true\n> console.log(myfun.__proto__ === function.prototype) // true\n> console.log(myfun.__proto__.__proto__ === object.prototype) // true\n> console.log(myfun.__proto__.__proto__.__proto__) // null\n> console.log(object.prototype.__proto__) // null\n\n> è¦æ³æ´å å®¹æçè§£ä¸é¢ä»£ç ï¼å°±éè¦æç½ï¼æè° object æ¯æ { }ï¼è object å¶å®æ¯ js åç½®çå¯¹è±¡å½æ°ãåç æè° array æ¯æ []ï¼è array å¶å®æ¯ js åç½®ç æ°ç»å½æ°\n\n> æ­£æ¯ js ä¸­ __prototype__(éå¼åå) prototype(æ¾å¼åå) constructor(ååå¯¹è±¡æå¨çæé å½æ°æ¬èº«) è¿ 3ä¸ªæ¦å¿µï¼æç»ç»åæäº åºå¤§ç js åè½ãæä»¬å¹³æ¶å®ä¹çä»»ä½ ç±»ãå¯¹è±¡ãå½æ° é½åºå¨è¿ç§ é¾æ¡ ä¸­ï¼ä»¥åå¯¹ è¿ä¸ªé¾æ¡ä¸­æä¸ªç¯èå±æ§åè½çæ©å±ï¼è¿ç§ç»ç»å½¢å¼å°±å« js ååé¾ã\n\n> js ååè¿æä¸ä¸ªååå°±æ¯å¯ä»¥æ éå¾å»æ©å±èªèº«å±æ§ï¼å½åçº§å«çååæ©å±å±æ§ä¹åï¼ä¸å±çº§å«çå¯¹è±¡èªå¨å°±æ¥æè¯¥å±æ§ã\n> \n> é£ä¹æä»¬å¯ä»¥å¤§æ¦æ¨çåºæ¥ï¼reactå°±æ¯å·§å¦å©ç¨äºè¿ç§ js ååé¾çååï¼å°åºå±æ¨¡åéè¦ç¨å°çå¤çå½æ°æåå°æ´é«(æèè¯´æ´å åå§)ççº§å«ä¸­ãè¿æ ·å³ä½¿åºå±ä¸­åçäºååï¼ä½æ¯ä»ä¾ç¶æ¥æé«å±ä¸­å®ä¹å¥½çå½æ°å¼ç¨ã\n\nè¯·éç¹çæâä¿®æ¹âè¿ä¸ªè¯ï¼å ä¸ºâä¿®æ¹âçµæ¯å°reactæä¸ºéç§å´æå¶éè¦çä¸å±æ¦å¿µã\nâä¿®æ¹âæ3ç§æåµï¼\n1ãç¨å®å¨ä¸ä¸æ ·çæ°å¼å»æ¿æ¢ä¹åçæ§å¼ ââ> è¿ä¼è§¦åreactéæ°æ¸²æ ââ> ä¾å¦{age:34}å»æ¿æ¢{age:18}\n2ãç¨åæ§å¼çä¼¼ä¸æ¨¡ä¸æ ·çæ°å¼å»æ¿æ¢ä¹åçæ§å¼ ââ> è¿ä¾ç¶ä¼è§¦åreactéæ°æ¸²æï¼å ä¸ºreactåºå±å¯¹æ°æ§å¼åå¯¹æ¯æ¶ä½¿ç¨çæ¯ object.iså¤æ­ï¼å­é¢ä¸çä¼¼ä¸æ¨¡ä¸æ ·æ²¡æç¨ï¼reactä¾ç¶ä¼è®¤ä¸ºè¿æ¯2ä¸ªå¯¹è±¡ï¼ä¾ç¶ä¼è§¦åreactéæ°æ¸²æ ââ> ä¾å¦{age:18}å»æ¿æ¢{age:18}\n3ãç¨æ§å¼çå¼ç¨å»æ¿æ¢æ§å¼ ââ> è¿æ¬¡å°±ä¸ä¼è§¦åéæ°æ¸²æ ââ> ä¾å¦let obj={age:18}; let obj2=objï¼ç¨obj2å»æ¿æ¢obj\n\nä¸ºäºæé«reactæ§è½ï¼å°±éè¦ç¨æ§å¼çå¼ç¨å»æ¿æ¢æ§å¼ï¼ä»èé»æ­¢æ¬æ¬¡æ è°çæ¸²æã\n\né®é¢çå³é®å°±å¨äºâå¦ä½è·åæ§å¼çå¼ç¨âï¼\nç­ï¼å¯¹äºå½æ°æ¥è¯´å¯ä»¥ä½¿ç¨usecallbackã\n\nå¨æ¬ç« æä»¥åçç« èä¸­ï¼æä¾ç¶ä¼ä½¿ç¨ reactååé¾ è¿ä¸ªè¯ï¼ä½ é½æç§æåæè¯´çâreactå®ä¹çä¸ååå­âæ¦å¿µå»çè§£å°±å¥½äºã\n\næµåäºæ²¡ï¼æå·²ç»å°½éæ»ç»å¾è®©ä½ å®¹æçè§£äºï¼å¦æä½ ä¼¼æéææ²¡æå³ç³»ï¼æ¬æåé¢ä¼éè¿ç¤ºä¾ä»£ç ä¼è®©ä½ æç½å¦ä½ä½¿ç¨ã\n\nè®©æä»¬åå¿æusecallbackï¼åæ¥å­¦ä¹ ä¸ä¸ä»¥ä¸2ä¸ªç¥è¯ç¹ã\n\n# ç¬¬1ä¸ªç¥è¯ç¹ï¼react.memo() çç¨æ³\n\né¦åæä»¬ç¥éï¼é»è®¤æåµä¸å¦æç¶ç»ä»¶éæ°æ¸²æï¼é£ä¹è¯¥ç¶ç»ä»¶ä¸çææå­ç»ä»¶é½ä¼éçç¶çº§çéæ°æ¸²æèéæ°æ¸²æã\n1ãæ è®ºå­ç»ä»¶æ¯ç±»ç»ä»¶ææ¯å½æ°ç»ä»¶ã\n2ãæ è®ºå­ç»ä»¶å¨æ¬æ¬¡æ¸²æè¿ç¨ä¸­ï¼å­ç»ä»¶æ¯å¦æä»»ä½ç¸å³çæ°æ®ååã\n\nä¸¾ä¾ï¼åè®¾æç¶ç»ä»¶ä¸­æ3ä¸ªå­ç»ä»¶ï¼å­ç»ä»¶aãå­ç»ä»¶bãå­ç»ä»¶cãè¥å ä¸ºå­ç»ä»¶aåçäºæäºæä½ï¼å¼åç¶ç»ä»¶éæ°æ¸²æï¼è¿æ¶å³ä½¿å­ç»ä»¶båå­ç»ä»¶cæ²¡æä»»ä½éè¦æ´æ¹çå°æ¹ï¼ä½æ¯é»è®¤ä»ä»¬ä¸¤ä¸ªä¹ä¼éæ°è¢«æ¸²æä¸æ¬¡ã\n\nä¸ºäºåå°è¿ä¸ªä¸å¿è¦çéæ°æ¸²æï¼å¦ææ¯ç±»ç»ä»¶ï¼å¯ä»¥å¨ç»ä»¶shouldcomponentupdate(åå¤è¦å¼å§æ´æ°å)çå½å¨æå½æ°ä¸­ï¼éè¿æ¯è¾propsåstateä¸­ååä¸¤æ¬¡çå¼ï¼å¦æå®å¨ç¸ç­åè·³è¿æ¬æ¬¡æ¸²æï¼æ¹ä¸ºç´æ¥ä½¿ç¨ä¸ä¸æ¬¡æ¸²æç»æï¼ä»¥æ­¤æé«æ§è½æåã\n\nä¼ªä»£ç å¦ä¸ï¼\n\nshouldcomponentupdate(nextprops,nextstates){\n  //å¤æ­xxxå¼æ¯å¦ç¸åï¼å¦æç¸ååä¸è¿è¡éæ°æ¸²æ\n  return (nextprops.xxx !== this.props.xxx); //æ³¨ææ¯ !== èä¸æ¯ !=\n}\n\n\nä¸ºäºç®åæä»¬è¿ä¸æ­¥æä½ï¼å¯ä»¥å°ç±»ç»ä»¶ç±é»è®¤ç»§æ¿èªreact.componentæ¹ä¸ºreact.purecomponentãreact.purecomponenté»è®¤ä¼å¸®æä»¬å®æä¸é¢çæµå±å¯¹æ¯ï¼ä»¥è·³è¿æ¬æ¬¡éæ°æ¸²æã\n\nè¯·æ³¨æï¼react.purecomponentä¼å¯¹propsä¸ææå¯æä¸¾å±æ§åä¸éæµå±å¯¹æ¯ãèä¸å shouldcomponentupdateä¸­å¯ä»¥æéå¯¹æ§çåªå¯¹æå±æ§åå¯¹æ¯ã\n\nä¸é¢è®²çé½æ¯ç±»ç»ä»¶ï¼ä¸ä¹å¯¹åºçæ¯react.memo()ï¼è¿ä¸ªæ¯éå¯¹å½æ°ç»ä»¶çï¼ä½ç¨åreact.purecomponentå®å¨ç¸åã\n\nreact.memo()çä½¿ç¨æ¹æ³å¾ç®åï¼å°±æ¯æè¦å¯¼åºçå½æ°ç»ä»¶åè£¹å¨react.memoä¸­å³å¯ã\n\nä¼ªä»£ç å¦ä¸ï¼\n\nimport react from 'react'\nfunction xxxx() {\n  return <div>xx</div>;\n}\nexport default react.memo(xxxx); //ä½¿ç¨react.memoåè£¹ä½è¦å¯¼åºçå½æ°ç»ä»¶\n\n\nè¯·è®°ä½ä»¥ä¸2ç¹ï¼\n1ãreact.memo()åªä¼å¸®æä»¬åæµå±å¯¹æ¯ï¼ä¾å¦props.name='puxiao'æprops.list=[1,2,3]ï¼å¦ææ¯propsä¸­åå«å¤æçæ°æ®ç»æï¼ä¾å¦props.obj.list=[{age:34}]ï¼é£ä¹æå¯è½è¾¾ä¸å°ä½ çé¢æï¼å ä¸ºä¸ä¼åå°æ·±å±æ¬¡å¯¹æ¯ã\n2ãä½¿ç¨react.memoä»ä»æ¯è®©è¯¥å½æ°ç»ä»¶å·å¤äºå¯ä»¥è·³è¿æ¬æ¬¡æ¸²æçåºç¡ï¼è¥ç»ä»¶å¨ä½¿ç¨çæ¶åå±æ§å¼ä¸­ææäºå¤çå½æ°ï¼é£ä¹è¿éè¦éåusecallbackæå¯ä»¥åå°è·³è¿æ¬æ¬¡éæ°æ¸²æã\n\nåµï¼è¯é¢ååå°usecallbackä¸é¢äºã\n\n# ç¬¬2ä¸ªç¥è¯ç¹ï¼=== ç­æ¯è¿ç®\n\nå¨åçjsä¸­ï¼ä½ è®¤ä¸º\n1ã{}==={} ä¸ºtrueè¿æ¯falseï¼\n2ã{a:2}==={a:2} ä¸ºtrueè¿æ¯falseï¼\n\nè¿æ¯ä¸éå¾ç®åå´å¾å®¹æè¿·æäººçé¢ç®ï¼è¥ä½ å¯¹åçjsä¸­ === ç­æ¯è¿ç®ä¸å¤æ·±å¥äºè§£ï¼ä½ å¾å®¹æä¼è®¤ä¸ºç»ææ¯trueã\n\nå¦æä½ è½»æ¾åç­åºæ¥ï¼ä»¥ä¸åä¸ºfalseï¼é£ä¹æ­åä½ æ¯ä¸ªæç½äººã\nå¦æä½ çæäºä¸ä¸æèä½ çç­æ¡æ¯trueï¼é£ä¹ä½ å¯ä»¥èªå·±å»jséæµè¯ä¸ä¸çç»ææ¯ä»ä¹ã\n\nç­æ¡æ¯2èåæ¯falseã\n\nä»¥{}==={}ä¸ºä¾ï¼è½ç¶ä»å­é¢ä¸ === å·¦å³ä¸¤ä¾§å®å¨ç¸åçï¼ä½æ¯å®éä¸å¨jsä¸­ å·¦å³ä¸¤ä¾§åå«ä¸ºç¬ç«ç{}å¯¹è±¡ï¼åèªå æåèªçåå­ç©ºé´ï¼å æ­¤ä»ä»¬å¯¹æ¯çç»ææ¯falseã\n\nç¸åï¼çä¸é¢çä»£ç ï¼\n\nlet obj = {};\nlet obj2 = obj;\nobj2.name='react';\nconsole.log(obj===obj2); //true\n\n\nä¸é¢è¾åºç»æä¸ºtrueï¼ä¸ºä½obj===obj2ä¸ºtrueï¼ å ä¸º objåobj2é½æ¯å¯¹åä¸ä¸ªå¯¹è±¡çå¼ç¨ï¼æä»¥å¯¹æ¯ç»æä¸ºtrueï¼å ä¸ºä»ä»¬æç»æååä¸ä¸ªå¯¹è±¡ã\n\nè¿è®°å¾æ¬æå¼å¤´å¯¹äºusecallbackæ¦å¿µè§£éä¸­çé£æ®µæå­åï¼usecallbackçä½ç¨æ¯âå¾ä½âç»ä»¶å±æ§ä¸­æäºå¤çå½æ°ï¼åå»ºè¿äºå½æ°å¯¹åºå¨reactååé¾ä¸çåéå¼ç¨ã\n\nåµï¼è¯é¢ååå°usecallbackä¸é¢äºã\n\nåéç¹ï¼è®°ä½âusecallbackâåâååé¾ä¸å¤çå½æ°çå¼ç¨âè¿ä¸¤ä¸ªå³é®è¯ï¼åºæ¬ä¸ä½ å°±å¯¹usecallbackçåççè§£ä¸å¤§åäºã\n\nè®©æä»¬åå°usecallbackåºç¡å­¦ä¹ ä¸­ã\n\n\n# usecallbackæ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼usecallbackæ¯éè¿è·åå½æ°å¨reactååé¾ä¸çå¼ç¨ï¼å½å³å°éæ°æ¸²ææ¶ï¼ç¨æ§å¼çå¼ç¨å»æ¿æ¢æ§å¼ï¼éåreact.memoï¼è¾¾å°âé»æ­¢ç»ä»¶ä¸å¿è¦çéæ°æ¸²æâã\n\nè¯¦ç»è§£éï¼\nusecallbackå¯ä»¥å°ç»ä»¶çæäºå¤çå½æ°æè½½å°reactåºå±ååé¾ä¸ï¼å¹¶è¿åè¯¥å¤çå½æ°çå¼ç¨ï¼å½ç»ä»¶æ¯æ¬¡å³å°è¦éæ°æ¸²ææ¶ï¼ç¡®ä¿propsä¸­è¯¥å¤çå½æ°ä¸ºåä¸å½æ°(å ä¸ºæ¯åä¸å¯¹è±¡å¼ç¨ï¼æä»¥===è¿ç®ç»æä¸å®ä¸ºtrue)ï¼è·³è¿æ¬æ¬¡æ æä¹çéæ°æ¸²æï¼è¾¾å°æé«ç»ä»¶æ§è½çç®çãå½ç¶åææ¯è¯¥ç»ä»¶å¨å¯¼åºæ¶ä½¿ç¨äºreact.memo()ã\n\nè¡¥åè¯´æï¼\nåè®¾æç»ä»¶ä½¿ç¨å°äºmyfunè¿ä¸ªå¤çå½æ°ï¼åå¿ä¸ä¸åé¢æå°çjsä¸­===è¿ç®è§åï¼èèä¸ä¸ã\n\né»è®¤ä¸ä½¿ç¨usecallbackï¼å¶å®ç»ä»¶æ§è¡äºä»¥ä¸ä¼ªä»£ç ï¼\n\nlet obj = {}; //ä¸ä¸æ¬¡æ¸²ææ¶åå»ºçprops\nobj.myfun={xxx}; //propsä¸­çmyfunå±æ§å¼ï¼å®ä¸ºç¬ç«åå»ºç{xxx}\n\nlet obj2 = {}; //æ¬æ¬¡æ¸²ææ¶åå»ºçprops\nobj2.myfun={xxx}; //propsä¸­çmyfunå±æ§å¼ï¼å®ä¸ºç¬ç«åå»ºç{xxx}\n\nif(obj.myfun === obj2.myfun){\n  //è·³è¿æ¬æ¬¡éæ°æ¸²æï¼æ¹ä¸ºä½¿ç¨ä¸ä¸æ¬¡æ¸²æç»æå³å¯\n}\n\n\nç±äºobj.myfun å obj2.myfun ä¸ºåå«ç¬ç«åå»ºçå½æ°{xxx}ï¼æä»¥å¯¹æ¯ç»æä¸ºfalseï¼ä¹å°±æå³çæ æ³è·³è¿æ¬æ¬¡éæ°æ¸²æï¼å°½ç®¡å½æ°{xxx}å­é¢ç¸åã\n\nç¸åï¼å¦æä½¿ç¨usecallbackï¼å¶å®ç»ä»¶æ§è¡äºä»¥ä¸ä¼ªä»£ç ï¼\n\nlet myfun = {xxx}; //ç¬ç«å®ä¹å¤çå½æ°myfun\n\nlet obj = {}; //ä¸ä¸æ¬¡æ¸²ææ¶åå»ºçprops\nobj.myfun = myfun; //propsä¸­çmyfunå±æ§å¼ï¼å®ä¸ºmyfunçå¼ç¨\n\nlet obj2 = {}; //æ¬æ¬¡æ¸²ææ¶åå»ºçprops\nobj2.myfun = myfun; //propsä¸­çmyfunå±æ§å¼ï¼å®ä¸ºmyfunçå¼ç¨\n\nif(obj.myfun === obj2.myfun){\n  //è·³è¿æ¬æ¬¡éæ°æ¸²æï¼æ¹ä¸ºä½¿ç¨ä¸ä¸æ¬¡æ¸²æç»æå³å¯\n}\n\n\næ­¤æ¶ obj.myfun å obj2.myfun åä¸ºmyfunçå¼ç¨ï¼å æ­¤è¯¥å¯¹æ¯ç»æä¸ºtrueï¼ä¹å°±æå³çå¯ä»¥é¡ºå©è·³è¿æ¬æ¬¡æ¸²æï¼è¾¾å°æé«ç»ä»¶æ§è½çç®çã\n\nä»¥ä¸æ¯ä»£ç ä»ä»æ¯ä¸ºäºç¤ºæé»è®¤å­ç»ä»¶ä¸ºä»ä¹ä¼è¢«è¿«éæ°æ¸²æï¼ä»¥åusecallbackä½ç¨æºçã\n\nåªæçè§£äºè¿ä¸ªæºçï¼æä¼æç½ä½æ¶ä½¿ç¨usecallbackã åè®°ä¸è¦æ»¥ç¨usecallbackã\n\nå¤è¯´ä¸å¥ï¼ä½ æ¯å¦è§å¾react hook å¾ç»ï¼ å¯¹ï¼è¿å°±æ¯hookå­¦ä¹ èµ·æ¥é¾åº¦å¤§çä¸äºåå ï¼ä½å½ä½ ååçè§£reactçç¼ç¨å²å­¦ææ³åï¼ç¨èµ·æ¥ä¼å¦é±¼å¾æ°´ãå æ²¹ï¼\n\n\n# usecallbackå½æ°æºç ï¼\n\nåå°usecallbackçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸reactæºç ä¸­çreacthooks.jsã\n\n    //å¤æ³¨ï¼æºç éç¨typescriptç¼åï¼å¦æä¸ætsä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\n    export function usecallback<t>(\n      callback: t,\n      deps: array<mixed> | void | null,\n    ): t {\n      const dispatcher = resolvedispatcher();\n      return dispatcher.usecallback(callback, deps);\n    }\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨hookâï¼å¹¶ä¸æ¯âhookæºç åæâã^_^\nä¸è¿è¯·æ³¨æç¬¬2ä¸ªåæ°ï¼depsä¸ºè¯¥å½æ°ä¾èµçæ°æ®åéï¼å¼ä¸ºarray<mixed> æ void æ nullã æå³çå¦æè¯¥å½æ°æ²¡æä¾èµçæåµä¸ï¼å¯ä»¥ä¼ å¥ç©ºæ°ç»[]ævoidænullãä¸ªäººå»ºè®®æ¯ä¼ å¥ç©ºæ°ç»ã\n\nè¡¥åä¸ç¹typescriptç¥è¯(å ä¸ºææè¿åå­¦äºtypescript)ï¼\nå <t>(callback:t):t è¿ç§ç±»åå®ä¹ç§°ä¸ºâæ³åâï¼éé¢ t çå«ä¹ä¸ºâä¸æ¨¡ä¸æ ·çåç±»åâã\nä¸¾ä¾ï¼\n1ãè¥tä¸ºfunctionï¼å³åæ°callbackç±»åä¸ºfunctionï¼é£ä¹å½æ°è¿åå¼ä¹ä¸ºfunctionã\n2ãè¥tä¸ºobjectï¼å³åæ°callbackç±»åä¸ºobjectï¼é£ä¹å½æ°è¿åå¼ä¹ä¸ºobjectã\n\n\n# usecallbackåºæ¬ç¨æ³\n\nusecallback(callback,deps)å½æ°éå¸¸ä¼ å¥2ä¸ªåæ°ï¼ç¬¬1ä¸ªåæ°ä¸ºæä»¬å®ä¹çä¸ä¸ªâå¤çå½æ°âï¼éå¸¸ä¸ºä¸ä¸ªç®­å¤´å½æ°ãç¬¬2ä¸ªåæ°ä¸ºè¯¥å¤çå½æ°ä¸­å­å¨çä¾èµåéï¼è¯·æ³¨æå¡æ¯å¤çå½æ°ä¸­æçæ°æ®åéé½éè¦æ¾å¥depsä¸­ãå¦æå¤çå½æ°æ²¡æä»»ä½ä¾èµåéï¼å¯ä»¥ä¼ å¥ä¸ä¸ªç©ºæ°ç»[]ã\n\nç¹å«å¼ºè°ä¸ä¸ï¼usecallbackä¸­çç¬¬2ä¸ªä¾èµåéæ°ç»åuseeffectä¸­ç¬¬2ä¸ªä¾èµåéæ°ç»ï¼ä½ç¨å®å¨ä¸ç¸åã\nuseeffectä¸­ç¬¬2ä¸ªä¾èµåéæ°ç»æ¯çæ­£èµ·ä½ç¨çï¼æ¯å·æå³é®æ§è´¨çãèusecallbackä¸­ç¬¬2ä¸ªä¾èµåéæ°ç»ç®åä½ç¨æ¥è¯´ä»ä»æ¯èµ·å°ä¸ä¸ªè¾å©ä½ç¨ã\n\nä»ä»æ¯è¾å©ï¼è¾å©ä»ä¹äºï¼çè³ä½ è¿å¯è½ä¼æä¸ä¸ªçé®ï¼æ¢ç¶å¤çå½æ°ä¸­ææçä¾èµåéé½éè¦åä¸ºç¬¬2ä¸ªåæ°çåå®¹ï¼ä¸ºå¥reactä¸æºè½ä¸äºï¼è®©æä»¬ä¸ä¼ ç¬¬2ä¸ªåæ°ï¼çç¥æè¿ä¸æ­¥ï¼\n\nå¨reactå®æ¹ææ¡£ä¸­ï¼éå¯¹ç¬¬2ä¸ªåæ°æä»¥ä¸è¿æ®µè¯ï¼\n\n> æ³¨æï¼ä¾èµé¡¹æ°ç»ä¸ä¼ä½ä¸ºåæ°ä¼ ç»åè°å½æ°ãè½ç¶ä»æ¦å¿µä¸æ¥è¯´å®è¡¨ç°ä¸ºï¼ææåè°å½æ°ä¸­å¼ç¨çå¼é½åºè¯¥åºç°å¨ä¾èµé¡¹æ°ç»ä¸­ãæªæ¥ç¼è¯å¨ä¼æ´å æºè½ï¼å±æ¶èªå¨åå»ºæ°ç»å°æä¸ºå¯è½ã\n\nèªå·±ä½ä¼å§ï¼ä½ åï¼ä½ ç»åã\n\n# ä»£ç å½¢å¼ï¼\n\nimport button from './button'; //å¼å¥æä»¬èªå®ä¹çä¸ä¸ªç»ä»¶<button>\n\n//ç»ä»¶åé¨å£°æä¸ä¸ªageåé\nconst [age,setage] = usestate(34);\n\n//éè¿usecallbackï¼å°é¼ æ ç¹å»å¤çå½æ°ä¿å­å°reactåºå±ååé¾ä¸­ï¼å¹¶è·åè¯¥å½æ°çå¼ç¨ï¼å°å¼ç¨èµå¼ç»clickhandler\nconst clickhandler = usecallback(() => {\n    setage(age+1);\n  },[age]);\n//ç±äºè¯¥å¤çå½æ°ä¸­ä½¿ç¨å°äºageè¿ä¸ªåéï¼å æ­¤usecallbackçç¬¬2ä¸ªåæ°ä¸­ï¼éè¦å°ageæ·»å è¿å»\n\n//ä½¿ç¨è¯¥å¤çå½æ°ï¼å®ä¸ºä½¿ç¨è¯¥å¤çå½æ°çå¨reactåºå±ååé¾ä¸çå¼ç¨\nreturn <button clickhandler={clickhandler}></button>\n\n\n# æè§£è¯´æï¼\n\n1ãå·ä½è®²è§£å·²å¨ä¸é¢ç¤ºä¾ä»£ç ä¸­åäºå¤é¡¹æ³¨éï¼æ­¤å¤ä¸åéå¤ï¼\n\n# 'age'è¡¥åè¯´æ\n\n1ãä¸è¿°ä»£ç ç¤ºä¾ä¸­ï¼ageä¸ºè¯¥ç»ä»¶éè¿usestateåå»ºçåé¨åéï¼äºå®ä¸ä¹å¯ä»¥æ¯ç¶ç»ä»¶éè¿å±æ§ä¼ å¼çprops.xxä¸­çåéã\n2ãåªè¦ä¾èµåéä¸åçååï¼é£ä¹éæ°æ¸²ææ¶å°±å¯ä»¥ä¸ç´ä½¿ç¨ä¹ååå»ºçé£ä¸ªå½æ°ï¼è¾¾å°é»æ­¢æ¬æ¬¡æ¸²æï¼æåæ§è½çç®çãä½æ¯å¦æä¾èµåéåçååï¼é£ä¹ä¸æ¬¡éæ°æ¸²ææ¶æ ¹æ®åééæ°åå»ºä¸ä»½å¤çå½æ°å¹¶æ¿æ¢reactåºå±ååé¾ä¸åæçå¤çå½æ°ã\n\n# 'clickhandler'è¡¥åè¯´æ\n\nåæ¬¡å¼ºè°ï¼clickhandlerå®éä¸æ¯çæ­£çå¤çå½æ°å¨reactåºå±ååé¾ä¸çå¼ç¨ã\n\n# '<button>'è¡¥åè¯´æ\n\n<button\\>ä¸ºæä»¬èªå®ä¹çä¸ä¸ªç»ä»¶ï¼å¨ä¸è¿°ä»£ç ä¸­ç¸å½äºâå­ç»ä»¶âã\n\nä¸é¢çç¤ºä¾ä¼ªä»£ç ä»ä»æ¯ä¸ºäºæ¼ç¤ºusecallbackçä½¿ç¨æ¹æ³ï¼å®éç»ä»¶è¿ç¨ä¸­ï¼å¦æç¶ç»ä»¶ä¸­åªæ1ä¸ªå­ç»ä»¶ï¼é£å¶å®å®å¨æ²¡æå¿è¦ä½¿ç¨usecallbackãåªæç¶ç»ä»¶åæ¶æå¤ä¸ªå­ç»ä»¶æ¶ï¼ææå¿è¦å»åæ§è½ä¼åï¼é²æ­¢æä¸ä¸ªå­ç»ä»¶å¼åçéæ°æ¸²æä¹å¯¼è´å¶ä»å­ç»ä»¶è·çéæ°æ¸²æã\n\n\n# usecallbackä½¿ç¨ç¤ºä¾ï¼\n\nè¥æä»¬æä¸ä¸ªèªå®ç»ä»¶<button>ï¼ä»£ç å¦ä¸ï¼\n\nimport react from 'react'\nfunction button({label,clickhandler}) {\n    //ä¸ºäºæ¹ä¾¿æä»¬æ¥çè¯¥å­ç»ä»¶æ¯å¦è¢«éæ°æ¸²æï¼è¿éå¢å ä¸è¡console.logä»£ç \n    console.log(`rendering ... ${label}`);\n    return <button onclick={clickhandler}>{label}</button>;\n}\nexport default react.memo(button); //ä½¿ç¨react.memo()åè£¹ä½è¦å¯¼åºçç»ä»¶\n\n\nç°å¨ï¼æä»¬è¦å®ç°ä¸ä¸ªç»ä»¶ï¼åè½å¦ä¸ï¼\n1ãç»ä»¶åé¨æ2ä¸ªåéageï¼salary\n2ãæ2ä¸ªèªå®ä¹ç»ä»¶buttonï¼ç¹å»ä¹ååå«å¯ä»¥ä¿®æ¹ageï¼salaryå¼\n\nè¥æä»¬ä¸ä½¿ç¨usecallbackï¼ä»£ç ç¤ºä¾å¦ä¸ï¼\n\nimport react,{usestate,usecallback,useeffect} from 'react';\nimport button from './button';\n\nfunction mybutton() {\n  const [age,setage] = usestate(34);\n  const [salary,setsalary] = usestate(7000);\n\n  useeffect(() => {\n    document.title = `hooks - ${math.floor(math.random()*100)}`;\n  });\n\n  const clickhandler01 = () => {\n    setage(age+1);\n  };\n\n  const clickhandler02 = () => {\n    setsalary(salary+1);\n  };\n\n  return (\n    <div>\n        {age} - {salary}\n        <button label='bt01' clickhandler={clickhandler01}></button>\n        <button label='bt02' clickhandler={clickhandler02}></button>\n    </div>\n  )\n}\n\n\nå®éè¿è¡ä¸­ä½ ä¼åç°ï¼æ è®ºç¹å»åªä¸ªæé®ï¼é½ä¼æ¶å°ï¼\nrendering ... bt01\nrendering ... bt02\n\nä½ åªæ¯ç¹å»æä½äºå¶ä¸­ä¸ä¸ªæé®ï¼å¦å¤ä¸ä¸ªæé®ä¹è¦è·çéæ°æ¸²æä¸æ¬¡ï¼è¯æ³ä¸ä¸å¦æè¯¥ç»ä»¶ä¸­æ100ä¸ªå­ç»ä»¶é½è¦è·çéæ°æ¸²æï¼é£ççæ¯æ§è½æµªè´¹ã\n\næä»¬åçä¸ä¸å¦æä½¿ç¨usecallbackï¼ä»£ç ç¤ºä¾å¦ä¸ï¼\n\nimport react,{usestate,usecallback,useeffect} from 'react';\nimport button from './button';\n\nfunction mybutton() {\n  const [age,setage] = usestate(34);\n  const [salary,setsalary] = usestate(7000);\n\n  useeffect(() => {\n    document.title = `hooks - ${math.floor(math.random()*100)}`;\n  });\n\n  //ä½¿ç¨usecallback()åè£¹ä½åæ¥çå¤çå½æ°\n  const clickhandler01 = usecallback(() => {\n    setage(age+1);\n  },[age]);\n\n  //ä½¿ç¨usecallback()åè£¹ä½åæ¥çå¤çå½æ°\n  const clickhandler02 = usecallback(() => {\n    setsalary(salary+1);\n  },[salary]);\n\n  return (\n    <div>\n        {age} - {salary}\n        <button label='bt01' clickhandler={clickhandler01}></button>\n        <button label='bt02' clickhandler={clickhandler02}></button>\n    </div>\n  )\n}\n\n\nä¿®æ¹åçä»£ç ï¼å®éè¿è¡å°±ä¼åç°ï¼å½ç¹å»æä¸ªæé®æ¶ï¼ä»ä»æ¯å½åæé®éæ°åäºä¸æ¬¡æ¸²æï¼å¦å¤ä¸ä¸ªæé®åæ²¡æéæ°æ¸²æï¼èæ¯ç´æ¥ä½¿ç¨ä¸ä¸æ¬¡æ¸²æç»æã\n\nä½¿ç¨usecallbackåå°å­ç»ä»¶æ²¡æå¿è¦çæ¸²æç®çè¾¾æã\n\nusecallbackç¨æ³å¾ç®åï¼å°±æ¯åè£¹ä½åæ¬çå¤çå½æ°ãå³é®ç¹å¨äºä½ è¦çè§£usecallbackèåçæºçï¼æè½ç¥éå¨ä»ä¹æåµä¸å¯ä»¥ä½¿ç¨usecallbackãå¦åå¾å®¹ææ»¥ç¨ usecallbackï¼åèé ææ§è½çæµªè´¹ã\n\n\n# æèé¢\n\nåè®¾ä¸é¢ç¤ºä¾ä»£ç ä¸­ï¼åä»¥ä¸ä¿®æ¹ï¼æ¯ä¸ªæé®ä¸æ°å¢ä¸ä¸ªå±æ§ï¼random={math.floor(math.random()*100)}\n\n<button label='bt01' clickhandler={clickhandler01}></button>\n<button label='bt02' clickhandler={clickhandler02}></button>\nä¿®æ¹ä¸º\n<button label='bt01' clickhandler={clickhandler01} random={math.floor(math.random()*100)}></button>\n<button label='bt02' clickhandler={clickhandler02} random={math.floor(math.random()*100)}></button>\n\n\né£ä¹è¯·é®ï¼æ­¤æ¶æä»¬éå¯¹æ§è½ä¼åèä½¿ç¨çusecallbackè¿ææä¹åï¼\n\nç­ï¼æ²¡æä»»ä½æä¹ï¼è½ç¶æä»¬ä½¿ç¨usecallbackä¿è¯äºæ¯æ¬¡clickhandleræ¯ç¸åçï¼å¯æ¯ random çå¼æ¯æ¬¡å´æ¯éæºä¸ä¸æ ·çï¼å°½ç®¡å­ç»ä»¶<button>å¹¶æ²¡æä½¿ç¨å° random è¿ä¸ªå¼ï¼ä½æ¯å®çå å¥é æäº props æ¯æ¬¡é½ä¸ä¸æ ·(å¶å®æ¯ props.random ä¸ä¸æ ·)ï¼ç»æå°±æ¯å­ç»ä»¶æ¯ä¸æ¬¡é½ä¼è¢«éæ°æ¸²æãæä»¥æ­¤æ¶usecallbackå·²ç»å¤±å»äºå­å¨çæä¹ã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºusecallbackåºç¡ç¨æ³å·²ç»è®²å®ï¼æ²¡æé«çº§ç¨æ³ï¼ç´æ¥è¿å¥ä¸ä¸ä¸ªhookã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"11 useMemoåºç¡ç¨æ³",frontmatter:{title:"11 useMemoåºç¡ç¨æ³",date:"2023-09-12T09:41:43.000Z",permalink:"/pages/8b008f/"},regularPath:"/03.react/11.useMemo%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95.html",relativePath:"03.react/11.useMemoåºç¡ç¨æ³.md",key:"v-748e7cb2",path:"/pages/8b008f/",headers:[{level:2,title:"useMemoæ¦å¿µè§£é",slug:"usememoæ¦å¿µè§£é",normalizedTitle:"usememoæ¦å¿µè§£é",charIndex:21},{level:2,title:"useMemoæ¯æ¥è§£å³ä»ä¹é®é¢çï¼",slug:"usememoæ¯æ¥è§£å³ä»ä¹é®é¢ç",normalizedTitle:"usememoæ¯æ¥è§£å³ä»ä¹é®é¢çï¼",charIndex:811},{level:2,title:"useMemoå½æ°æºç ï¼",slug:"usememoå½æ°æºç ",normalizedTitle:"usememoå½æ°æºç ï¼",charIndex:1141},{level:2,title:"useMemoåºæ¬ç¨æ³",slug:"usememoåºæ¬ç¨æ³",normalizedTitle:"usememoåºæ¬ç¨æ³",charIndex:1471},{level:5,title:"ä»£ç å½¢å¼ï¼",slug:"ä»£ç å½¢å¼",normalizedTitle:"ä»£ç å½¢å¼ï¼",charIndex:1825},{level:5,title:"æè§£è¯´æï¼",slug:"æè§£è¯´æ",normalizedTitle:"æè§£è¯´æï¼",charIndex:1937},{level:2,title:"useMemoä½¿ç¨ç¤ºä¾ï¼",slug:"usememoä½¿ç¨ç¤ºä¾",normalizedTitle:"usememoä½¿ç¨ç¤ºä¾ï¼",charIndex:2059}],headersStr:"useMemoæ¦å¿µè§£é useMemoæ¯æ¥è§£å³ä»ä¹é®é¢çï¼ useMemoå½æ°æºç ï¼ useMemoåºæ¬ç¨æ³ ä»£ç å½¢å¼ï¼ æè§£è¯´æï¼ useMemoä½¿ç¨ç¤ºä¾ï¼",content:"# 11 useMemoåºç¡ç¨æ³\n\n\n# useMemoæ¦å¿µè§£é\n\næä»¬ç¬¬å­ä¸ªè¦å­¦ä¹ çHook(é©å­å½æ°)æ¯useMemoï¼ä»çä½ç¨æ¯âå¾ä½âç»ä»¶ä¸­æäºå¤çå½æ°çè¿åå¼ï¼åå»ºè¿äºè¿åå¼å¯¹åºå¨reactååé¾ä¸çç´¢å¼ãå½ç»ä»¶éæ°æ¸²ææ¶ï¼éè¦åæ¬¡ç¨å°è¿äºå½æ°è¿åå¼ï¼æ­¤æ¶ä¸åéæ°æ§è¡ä¸éè¿ç®ï¼èæ¯ç´æ¥ä½¿ç¨ä¹åè¿ç®è¿çè¿åå¼ãuseMemoç¬¬2ä¸ªåæ°æ¯å¤çå½æ°çåéä¾èµï¼åªæå½å¤çå½æ°ä¾èµçåéåçæ¹åæ¶æä¼éæ°è®¡ç®å¹¶ä¿å­ä¸æ¬¡å½æ°è¿åç»æã\n\nåè®¾ä½ å·²ç»å¯¹React.memoï¼useCallbackçè¿è¡æºå¶ååäºè§£ï¼é£ä¹å¯¹ä½ èè¨useMemoçç¨æ³éå¸¸å¥½çè§£ã\n\nuseCallbackæ¯å°æä¸ªå½æ°âæ¾å¥å°reactåºå±ååé¾ä¸ï¼å¹¶è¿åè¯¥å½æ°çç´¢å¼âï¼èuseMemoæ¯å°æä¸ªå½æ°è¿åå¼âæ¾å¥å°reactåºå±ååé¾ä¸ï¼å¹¶è¿åè¯¥è¿åå¼çç´¢å¼âãä¸ä¸ªæ¯éå¯¹å½æ°ï¼ä¸ä¸ªæ¯éå¯¹å½æ°è¿åå¼ã\n\nç½ä¸æäºäººçæç« éï¼ä¼æå°ï¼useCallback(fn, deps) ç¸å½äº useMemo(() => fn, deps)ã\n\nè¿å¥è¯ä¼¼ä¹æ¯æ²¡æé®é¢ï¼ä½æ¯ä»éèæèè¯´å¿½ç¥äºå ä¸ªéè¦å³é®ç¹ï¼\n1ãä¸æ¯ææfn(å½æ°)é½éç¨çï¼å¿é¡»æ¯è¯¥å½æ°æè¿åå¼ï¼å³å½æ°æ return xx æå¯ä»¥ã\n2ãè½ç¶é½æ¯fnï¼ä½æ¯å½æ°ä½åä»£ç åå®¹å´ç¸å·®å¾å¤§ï¼useCallbackä¸­çfnä¸»è¦ç¨æ¥å¤çåç§æä½äºå¡çä»£ç ï¼ä¾å¦ä¿®æ¹æåéå¼æå è½½æ°æ®ç­ãèuseMemoä¸­çfnä¸»è¦ç¨æ¥å¤çåç§è®¡ç®äºå¡çä»£ç ã\n3ãuseCallbackåuseMemoé½æ¯ä¸ºäºæåç»ä»¶æ§è½ï¼ä½æ¯ä»ä»¬ä¸¤ä¸ªçéç¨åºæ¯å´ä¸ç¸åï¼ä¸æ¯è°æ¯è°çæ¿ä»£åæè°æ¯è°çç®åçã\n\nåæ¬¡å¼ºè°ä¸éï¼useCallbackä¸­çå½æ°æ¯ä¾§éâæä½äºå¡âï¼useMemoä¸­çå½æ°æ¯ä¾§éâè®¡ç®ç»æâï¼æ°¸è¿ä¸è¦å¨useMemoçå½æ°ä¸­æ·»å ä¿®æ¹æ°æ®ä¹ç±»çä»£ç ã\n\nè®©æä»¬åå°useMemoåºç¡å­¦ä¹ ä¸­ã\n\n\n# useMemoæ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼useMemoçç®çæ¯âåå°ç»ä»¶éæ°æ¸²ææ¶ä¸å¿è¦çå½æ°è®¡ç®âã\nuseMemoå¯ä»¥å°æäºå½æ°çè®¡ç®ç»æ(è¿åå¼)æè½½å°reactåºå±ååé¾ä¸ï¼å¹¶è¿åè¯¥å½æ°è¿åå¼çç´¢å¼ãå½ç»ä»¶éæ°æ¸²ææ¶ï¼å¦æuseMemoä¾èµçæ°æ®åéæªåçååï¼é£ä¹ç´æ¥ä½¿ç¨ååé¾ä¸ä¿å­çè¯¥å½æ°è®¡ç®ç»æï¼è·³è¿æ¬æ¬¡æ æä¹çéæ°è®¡ç®ï¼è¾¾å°æé«ç»ä»¶æ§è½çç®çã\n\nè¡¥åè¯´æï¼\n1ãuseMemoå¹¶ä¸éè¦å­ç»ä»¶å¿é¡»ä½¿ç¨React.memoã\n2ãâä¸å¿è¦çå½æ°è®¡ç®âä¸­çå½æ°è®¡ç®å¿é¡»æ¯æä¸å®å¤æåº¦çï¼ä¾å¦éè¦1000ä¸ªforå¾ªç¯æè½è®¡ç®åºçæä¸ªå¼ãå¦æè®¡ç®éæ¬èº«å¾ç®åï¼ä¾å¦1+2ï¼é£å®å¨æ²¡æå¿è¦ä½¿ç¨useMemoï¼å°±ç´æ¥æ¯æ¬¡éæ°è®¡ç®ä¸éä¹æ æè°ã\n\n\n# useMemoå½æ°æºç ï¼\n\nåå°useMemoçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸Reactæºç ä¸­çReactHooks.jsã\n\n//å¤æ³¨ï¼æºç éç¨TypeScriptç¼åï¼å¦æä¸æTSä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\nexport function useMemo<T>(\n  create: () => T,\n  deps: Array<mixed> | void | null,\n): T {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useMemo(create, deps);\n}\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨Hookâï¼å¹¶ä¸æ¯âHookæºç åæâã^_^\n\n\n# useMemoåºæ¬ç¨æ³\n\nuseMemo(create,deps)å½æ°éå¸¸ä¼ å¥2ä¸ªåæ°ï¼ç¬¬1ä¸ªåæ°ä¸ºæä»¬å®ä¹çä¸ä¸ªâåå«å¤æè®¡ç®ä¸æè¿åå¼çå½æ°âï¼ç¬¬2ä¸ªåæ°ä¸ºè¯¥å¤çå½æ°ä¸­å­å¨çä¾èµåéï¼è¯·æ³¨æå¡æ¯å¤çå½æ°ä¸­æçæ°æ®åéé½éè¦æ¾å¥depsä¸­ãå¦æå¤çå½æ°æ²¡æä»»ä½ä¾èµåéï¼å¯ä»¥ä¼ å¥ä¸ä¸ªç©ºæ°ç»[]ã\n\nè¯·æ³¨æï¼\n1ãuseMemoåªæ¯çè®ºä¸å¸®ä½ è¿è¡ç»ä»¶è®¡ç®æ§è½ä¼åï¼ä½æ¯reactå¹¶ä¸è½ä¿è¯100%é½æ¯æç§ä½ çé¢ææ¥æ§è¡çãæ¯å¦è¯´å½ä½ çç½é¡µå¤äºç¦»å±(ä¼ç ãæèµ·)ç­ç¶ææ¶ï¼reactåºå±ååé¾ä¹è®¸å°±ä¼éæ¾(å é¤)ä¹åä¿å­çå½æ°è¿åå¼ãç­å°ä¸æ¬¡ç½é¡µéæ°è¢«å¤éæ¶ï¼éæ°è®¡ç®ä¸æ¬¡ã\n2ãå³äºuseMemoç¬¬2ä¸ªåæ°ï¼åuseCallbackä¸æ ·ï¼ä¹è®¸å¨æªæ¥çæ¬ä¸­reactä¼æºè½è¯å«ï¼ä¸éè¦è¦æä»¬åæå·¥ä¼ å¥ã\n\n# ä»£ç å½¢å¼ï¼\n\nconst xxxValue = useMemo(() => {\n    let result = xxxxx;\n    //ç»è¿å¤æçè®¡ç®å\n    return result;\n}, [xx]);\n\n\n# æè§£è¯´æï¼\n\n1ãä½¿ç¨useMemo()å°è®¡ç®å½æ°åè£¹ä½ï¼å°è®¡ç®å½æ°ä¸­ä½¿ç¨å°çæ°æ®åéä½ä¸ºä½ä¸ºç¬¬2ä¸ªåæ°ã\n2ãè®¡ç®å½æ°ä½åï¼æè®¡ç®ç»æä»¥ return å½¢å¼è¿ååºå»ã\n3ãxxxValue ä¸ºè¯¥å½æ°è¿åå¼å¨reactååé¾ä¸çå¼ç¨ã\n\n\n# useMemoä½¿ç¨ç¤ºä¾ï¼\n\nä¸¾ä¾ï¼è¥æReactç»ä»¶åé¨æ2ä¸ªnumberç±»åçåénumï¼randomï¼æ2ä¸ªbuttonï¼ç¹å»ä¹ååå«å¯ä»¥ä¿®æ¹numï¼randomçå¼ã ä¸æ­¤åæ¶ï¼è¯¥ç»ä»¶ä¸­è¿è¦æ±æ¾ç¤ºåºnumèå´åçææè´¨æ°ä¸ªæ°æ»åã\n\nè¡¥åè¯´æï¼å å¥randomçº¯ç²¹æ¯ä¸ºäºå¼åç»ä»¶éæ°æ¸²æï¼æ¹ä¾¿æä»¬æ¥çå°useMemoæ¯å¦å¯äºä½ç¨ã\n\néæ±åæï¼\n1ãæ¾ç¤ºåºnumèå´åçææè´¨æ°ä¸ªæ°æ»åï¼è¿ä¸ªå°±æ¯æ¬ç»ä»¶ä¸­çâå¤æçè®¡ç®âã\n2ãåªè¦numçå¼æªåçååï¼è´¨æ°æ»æ°æ¯åºå®çï¼é£ä¹æä»¬åºè¯¥é¿åæ¯æ¬¡éæ°æ¸²ææ¶é½éè¦è®¡ç®ä¸éã\n3ãuseMemoå½æ°ï¼å°±æ¯å¸®æä»¬è§£å³è¿ä¸ªé®é¢ã\n\nä½¿ç¨useMemoï¼ä»£ç ç¤ºä¾å¦ä¸ï¼\n\nimport React,{useState,useMemo} from 'react'\n\nfunction UseMemo() {\n  const [num,setNum] = useState(2020);\n  const [random,setRandom] = useState(0);\n\n  //éè¿useMemoå°å½æ°åçè®¡ç®ç»æ(è¿åå¼)ä¿å­å°reactåºå±ååé¾ä¸\n  //totalPrimesä¸ºreactåºå±ååé¾ä¸è¯¥å½æ°è®¡ç®ç»æçå¼ç¨\n  const totalPrimes = useMemo(() => {\n    console.log('begin....'); //è¿éæ·»å ä¸ä¸ªconsole.logï¼æ¹ä¾¿éªè¯å¨éæ°æ¸²ææ¶æ¯å¦éæ°æ§è¡äºä¸éè®¡ç®\n\n    let total = 0; //å£°æè´¨æ°æ»åå¯¹åºçåé\n\n    //ä»¥ä¸ä¸ºè®¡ç®numèå´åææè´¨æ°ä¸ªæ°æ»åçè®¡ç®ä»£ç ï¼ä¸éè¦è®¤çéè¯»ï¼åªéè¦ç¥éè¿æ¯ä¸æ®µâæ¯è¾å¤æçè®¡ç®ä»£ç âå³å¯\n    for(let i = 1; i<=num; i++){\n        let boo = true;\n        for(let j = 2; j<i; j++){\n            if(i % j === 0){\n                boo = false;\n                break;\n            }\n        }\n        if(boo && i!==1){\n            total ++;\n        }\n    }\n    //å¤æçè®¡ç®ä»£ç å°æ­¤ç»æ\n\n    return total;//å°è´¨æ°æ»åä½ä¸ºè¿åå¼returnåºå»\n  }, [num]);\n\n  const clickHandler01 = () => {\n    setNum(num+1);\n  }\n\n  const clickHandler02 = () => {\n    setRandom(Math.floor(Math.random()*100)); //ä¿®æ¹randomçå¼å¯¼è´æ´ä¸ªç»ä»¶éæ°æ¸²æ\n  }\n\n  return (\n    <div>\n        {num} - {totalPrimes} - {random}\n        <button onClick={clickHandler01}>num + 1</button>\n        <button onClick={clickHandler02}>random</button>\n    </div>\n  )\n}\n\nexport default UseMemo;\n\n\nå®éè¿è¡å°±ä¼åç°ï¼\n1ãç¹å»ä¿®æ¹randomçå¼ä¼å¼åç»ä»¶éæ°æ¸²æï¼ä½æ¯{totalPrimes}å¯¹åºçè®¡ç®å½æ°å´ä¸éè¦éæ°è®¡ç®ä¸éã\n2ãç¹å»ä¿®æ¹numçå¼ï¼{totalPrimes}å¯¹åºçè®¡ç®å½æ°è¯å®ä¼éæ°æ§è¡ä¸éï¼å ä¸ºnumæ¯è¯¥è®¡ç®å½æ°çä¾èµã\n\néè¿è¿ä¸ªæ¡ä¾ï¼ç¸ä¿¡ä½ å¯¹useMemoçæºå¶åç¨æ³ä¸å®ææææ¡ã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseMemoåºç¡ç¨æ³å·²ç»è®²å®ï¼æ²¡æé«çº§ç¨æ³ï¼ç´æ¥è¿å¥ä¸ä¸ä¸ªHookã",normalizedContent:"# 11 usememoåºç¡ç¨æ³\n\n\n# usememoæ¦å¿µè§£é\n\næä»¬ç¬¬å­ä¸ªè¦å­¦ä¹ çhook(é©å­å½æ°)æ¯usememoï¼ä»çä½ç¨æ¯âå¾ä½âç»ä»¶ä¸­æäºå¤çå½æ°çè¿åå¼ï¼åå»ºè¿äºè¿åå¼å¯¹åºå¨reactååé¾ä¸çç´¢å¼ãå½ç»ä»¶éæ°æ¸²ææ¶ï¼éè¦åæ¬¡ç¨å°è¿äºå½æ°è¿åå¼ï¼æ­¤æ¶ä¸åéæ°æ§è¡ä¸éè¿ç®ï¼èæ¯ç´æ¥ä½¿ç¨ä¹åè¿ç®è¿çè¿åå¼ãusememoç¬¬2ä¸ªåæ°æ¯å¤çå½æ°çåéä¾èµï¼åªæå½å¤çå½æ°ä¾èµçåéåçæ¹åæ¶æä¼éæ°è®¡ç®å¹¶ä¿å­ä¸æ¬¡å½æ°è¿åç»æã\n\nåè®¾ä½ å·²ç»å¯¹react.memoï¼usecallbackçè¿è¡æºå¶ååäºè§£ï¼é£ä¹å¯¹ä½ èè¨usememoçç¨æ³éå¸¸å¥½çè§£ã\n\nusecallbackæ¯å°æä¸ªå½æ°âæ¾å¥å°reactåºå±ååé¾ä¸ï¼å¹¶è¿åè¯¥å½æ°çç´¢å¼âï¼èusememoæ¯å°æä¸ªå½æ°è¿åå¼âæ¾å¥å°reactåºå±ååé¾ä¸ï¼å¹¶è¿åè¯¥è¿åå¼çç´¢å¼âãä¸ä¸ªæ¯éå¯¹å½æ°ï¼ä¸ä¸ªæ¯éå¯¹å½æ°è¿åå¼ã\n\nç½ä¸æäºäººçæç« éï¼ä¼æå°ï¼usecallback(fn, deps) ç¸å½äº usememo(() => fn, deps)ã\n\nè¿å¥è¯ä¼¼ä¹æ¯æ²¡æé®é¢ï¼ä½æ¯ä»éèæèè¯´å¿½ç¥äºå ä¸ªéè¦å³é®ç¹ï¼\n1ãä¸æ¯ææfn(å½æ°)é½éç¨çï¼å¿é¡»æ¯è¯¥å½æ°æè¿åå¼ï¼å³å½æ°æ return xx æå¯ä»¥ã\n2ãè½ç¶é½æ¯fnï¼ä½æ¯å½æ°ä½åä»£ç åå®¹å´ç¸å·®å¾å¤§ï¼usecallbackä¸­çfnä¸»è¦ç¨æ¥å¤çåç§æä½äºå¡çä»£ç ï¼ä¾å¦ä¿®æ¹æåéå¼æå è½½æ°æ®ç­ãèusememoä¸­çfnä¸»è¦ç¨æ¥å¤çåç§è®¡ç®äºå¡çä»£ç ã\n3ãusecallbackåusememoé½æ¯ä¸ºäºæåç»ä»¶æ§è½ï¼ä½æ¯ä»ä»¬ä¸¤ä¸ªçéç¨åºæ¯å´ä¸ç¸åï¼ä¸æ¯è°æ¯è°çæ¿ä»£åæè°æ¯è°çç®åçã\n\nåæ¬¡å¼ºè°ä¸éï¼usecallbackä¸­çå½æ°æ¯ä¾§éâæä½äºå¡âï¼usememoä¸­çå½æ°æ¯ä¾§éâè®¡ç®ç»æâï¼æ°¸è¿ä¸è¦å¨usememoçå½æ°ä¸­æ·»å ä¿®æ¹æ°æ®ä¹ç±»çä»£ç ã\n\nè®©æä»¬åå°usememoåºç¡å­¦ä¹ ä¸­ã\n\n\n# usememoæ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼usememoçç®çæ¯âåå°ç»ä»¶éæ°æ¸²ææ¶ä¸å¿è¦çå½æ°è®¡ç®âã\nusememoå¯ä»¥å°æäºå½æ°çè®¡ç®ç»æ(è¿åå¼)æè½½å°reactåºå±ååé¾ä¸ï¼å¹¶è¿åè¯¥å½æ°è¿åå¼çç´¢å¼ãå½ç»ä»¶éæ°æ¸²ææ¶ï¼å¦æusememoä¾èµçæ°æ®åéæªåçååï¼é£ä¹ç´æ¥ä½¿ç¨ååé¾ä¸ä¿å­çè¯¥å½æ°è®¡ç®ç»æï¼è·³è¿æ¬æ¬¡æ æä¹çéæ°è®¡ç®ï¼è¾¾å°æé«ç»ä»¶æ§è½çç®çã\n\nè¡¥åè¯´æï¼\n1ãusememoå¹¶ä¸éè¦å­ç»ä»¶å¿é¡»ä½¿ç¨react.memoã\n2ãâä¸å¿è¦çå½æ°è®¡ç®âä¸­çå½æ°è®¡ç®å¿é¡»æ¯æä¸å®å¤æåº¦çï¼ä¾å¦éè¦1000ä¸ªforå¾ªç¯æè½è®¡ç®åºçæä¸ªå¼ãå¦æè®¡ç®éæ¬èº«å¾ç®åï¼ä¾å¦1+2ï¼é£å®å¨æ²¡æå¿è¦ä½¿ç¨usememoï¼å°±ç´æ¥æ¯æ¬¡éæ°è®¡ç®ä¸éä¹æ æè°ã\n\n\n# usememoå½æ°æºç ï¼\n\nåå°usememoçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸reactæºç ä¸­çreacthooks.jsã\n\n//å¤æ³¨ï¼æºç éç¨typescriptç¼åï¼å¦æä¸ætsä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\nexport function usememo<t>(\n  create: () => t,\n  deps: array<mixed> | void | null,\n): t {\n  const dispatcher = resolvedispatcher();\n  return dispatcher.usememo(create, deps);\n}\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨hookâï¼å¹¶ä¸æ¯âhookæºç åæâã^_^\n\n\n# usememoåºæ¬ç¨æ³\n\nusememo(create,deps)å½æ°éå¸¸ä¼ å¥2ä¸ªåæ°ï¼ç¬¬1ä¸ªåæ°ä¸ºæä»¬å®ä¹çä¸ä¸ªâåå«å¤æè®¡ç®ä¸æè¿åå¼çå½æ°âï¼ç¬¬2ä¸ªåæ°ä¸ºè¯¥å¤çå½æ°ä¸­å­å¨çä¾èµåéï¼è¯·æ³¨æå¡æ¯å¤çå½æ°ä¸­æçæ°æ®åéé½éè¦æ¾å¥depsä¸­ãå¦æå¤çå½æ°æ²¡æä»»ä½ä¾èµåéï¼å¯ä»¥ä¼ å¥ä¸ä¸ªç©ºæ°ç»[]ã\n\nè¯·æ³¨æï¼\n1ãusememoåªæ¯çè®ºä¸å¸®ä½ è¿è¡ç»ä»¶è®¡ç®æ§è½ä¼åï¼ä½æ¯reactå¹¶ä¸è½ä¿è¯100%é½æ¯æç§ä½ çé¢ææ¥æ§è¡çãæ¯å¦è¯´å½ä½ çç½é¡µå¤äºç¦»å±(ä¼ç ãæèµ·)ç­ç¶ææ¶ï¼reactåºå±ååé¾ä¹è®¸å°±ä¼éæ¾(å é¤)ä¹åä¿å­çå½æ°è¿åå¼ãç­å°ä¸æ¬¡ç½é¡µéæ°è¢«å¤éæ¶ï¼éæ°è®¡ç®ä¸æ¬¡ã\n2ãå³äºusememoç¬¬2ä¸ªåæ°ï¼åusecallbackä¸æ ·ï¼ä¹è®¸å¨æªæ¥çæ¬ä¸­reactä¼æºè½è¯å«ï¼ä¸éè¦è¦æä»¬åæå·¥ä¼ å¥ã\n\n# ä»£ç å½¢å¼ï¼\n\nconst xxxvalue = usememo(() => {\n    let result = xxxxx;\n    //ç»è¿å¤æçè®¡ç®å\n    return result;\n}, [xx]);\n\n\n# æè§£è¯´æï¼\n\n1ãä½¿ç¨usememo()å°è®¡ç®å½æ°åè£¹ä½ï¼å°è®¡ç®å½æ°ä¸­ä½¿ç¨å°çæ°æ®åéä½ä¸ºä½ä¸ºç¬¬2ä¸ªåæ°ã\n2ãè®¡ç®å½æ°ä½åï¼æè®¡ç®ç»æä»¥ return å½¢å¼è¿ååºå»ã\n3ãxxxvalue ä¸ºè¯¥å½æ°è¿åå¼å¨reactååé¾ä¸çå¼ç¨ã\n\n\n# usememoä½¿ç¨ç¤ºä¾ï¼\n\nä¸¾ä¾ï¼è¥æreactç»ä»¶åé¨æ2ä¸ªnumberç±»åçåénumï¼randomï¼æ2ä¸ªbuttonï¼ç¹å»ä¹ååå«å¯ä»¥ä¿®æ¹numï¼randomçå¼ã ä¸æ­¤åæ¶ï¼è¯¥ç»ä»¶ä¸­è¿è¦æ±æ¾ç¤ºåºnumèå´åçææè´¨æ°ä¸ªæ°æ»åã\n\nè¡¥åè¯´æï¼å å¥randomçº¯ç²¹æ¯ä¸ºäºå¼åç»ä»¶éæ°æ¸²æï¼æ¹ä¾¿æä»¬æ¥çå°usememoæ¯å¦å¯äºä½ç¨ã\n\néæ±åæï¼\n1ãæ¾ç¤ºåºnumèå´åçææè´¨æ°ä¸ªæ°æ»åï¼è¿ä¸ªå°±æ¯æ¬ç»ä»¶ä¸­çâå¤æçè®¡ç®âã\n2ãåªè¦numçå¼æªåçååï¼è´¨æ°æ»æ°æ¯åºå®çï¼é£ä¹æä»¬åºè¯¥é¿åæ¯æ¬¡éæ°æ¸²ææ¶é½éè¦è®¡ç®ä¸éã\n3ãusememoå½æ°ï¼å°±æ¯å¸®æä»¬è§£å³è¿ä¸ªé®é¢ã\n\nä½¿ç¨usememoï¼ä»£ç ç¤ºä¾å¦ä¸ï¼\n\nimport react,{usestate,usememo} from 'react'\n\nfunction usememo() {\n  const [num,setnum] = usestate(2020);\n  const [random,setrandom] = usestate(0);\n\n  //éè¿usememoå°å½æ°åçè®¡ç®ç»æ(è¿åå¼)ä¿å­å°reactåºå±ååé¾ä¸\n  //totalprimesä¸ºreactåºå±ååé¾ä¸è¯¥å½æ°è®¡ç®ç»æçå¼ç¨\n  const totalprimes = usememo(() => {\n    console.log('begin....'); //è¿éæ·»å ä¸ä¸ªconsole.logï¼æ¹ä¾¿éªè¯å¨éæ°æ¸²ææ¶æ¯å¦éæ°æ§è¡äºä¸éè®¡ç®\n\n    let total = 0; //å£°æè´¨æ°æ»åå¯¹åºçåé\n\n    //ä»¥ä¸ä¸ºè®¡ç®numèå´åææè´¨æ°ä¸ªæ°æ»åçè®¡ç®ä»£ç ï¼ä¸éè¦è®¤çéè¯»ï¼åªéè¦ç¥éè¿æ¯ä¸æ®µâæ¯è¾å¤æçè®¡ç®ä»£ç âå³å¯\n    for(let i = 1; i<=num; i++){\n        let boo = true;\n        for(let j = 2; j<i; j++){\n            if(i % j === 0){\n                boo = false;\n                break;\n            }\n        }\n        if(boo && i!==1){\n            total ++;\n        }\n    }\n    //å¤æçè®¡ç®ä»£ç å°æ­¤ç»æ\n\n    return total;//å°è´¨æ°æ»åä½ä¸ºè¿åå¼returnåºå»\n  }, [num]);\n\n  const clickhandler01 = () => {\n    setnum(num+1);\n  }\n\n  const clickhandler02 = () => {\n    setrandom(math.floor(math.random()*100)); //ä¿®æ¹randomçå¼å¯¼è´æ´ä¸ªç»ä»¶éæ°æ¸²æ\n  }\n\n  return (\n    <div>\n        {num} - {totalprimes} - {random}\n        <button onclick={clickhandler01}>num + 1</button>\n        <button onclick={clickhandler02}>random</button>\n    </div>\n  )\n}\n\nexport default usememo;\n\n\nå®éè¿è¡å°±ä¼åç°ï¼\n1ãç¹å»ä¿®æ¹randomçå¼ä¼å¼åç»ä»¶éæ°æ¸²æï¼ä½æ¯{totalprimes}å¯¹åºçè®¡ç®å½æ°å´ä¸éè¦éæ°è®¡ç®ä¸éã\n2ãç¹å»ä¿®æ¹numçå¼ï¼{totalprimes}å¯¹åºçè®¡ç®å½æ°è¯å®ä¼éæ°æ§è¡ä¸éï¼å ä¸ºnumæ¯è¯¥è®¡ç®å½æ°çä¾èµã\n\néè¿è¿ä¸ªæ¡ä¾ï¼ç¸ä¿¡ä½ å¯¹usememoçæºå¶åç¨æ³ä¸å®ææææ¡ã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºusememoåºç¡ç¨æ³å·²ç»è®²å®ï¼æ²¡æé«çº§ç¨æ³ï¼ç´æ¥è¿å¥ä¸ä¸ä¸ªhookã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"12 useRefåºç¡ç¨æ³",frontmatter:{title:"12 useRefåºç¡ç¨æ³",date:"2023-09-12T14:48:15.000Z",permalink:"/pages/4c9695/"},regularPath:"/03.react/12.useRef%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95.html",relativePath:"03.react/12.useRefåºç¡ç¨æ³.md",key:"v-0e390e5c",path:"/pages/4c9695/",headers:[{level:2,title:"useRefæ¦å¿µè§£é",slug:"userefæ¦å¿µè§£é",normalizedTitle:"userefæ¦å¿µè§£é",charIndex:20},{level:5,title:"âæäºç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡âï¼",slug:"æäºç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡",normalizedTitle:"âæäºç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡âï¼",charIndex:234},{level:5,title:"âå¹¶è¿åè¯¥å¯¹è±¡çå¼ç¨âï¼",slug:"å¹¶è¿åè¯¥å¯¹è±¡çå¼ç¨",normalizedTitle:"âå¹¶è¿åè¯¥å¯¹è±¡çå¼ç¨âï¼",charIndex:1160},{level:5,title:"âè¯¥å¼ç¨å¨ç»ä»¶æ´ä¸ªçå½å¨æä¸­é½åºå®ä¸åâï¼",slug:"è¯¥å¼ç¨å¨ç»ä»¶æ´ä¸ªçå½å¨æä¸­é½åºå®ä¸å",normalizedTitle:"âè¯¥å¼ç¨å¨ç»ä»¶æ´ä¸ªçå½å¨æä¸­é½åºå®ä¸åâï¼",charIndex:1230},{level:2,title:"useRefæ¯æ¥è§£å³ä»ä¹é®é¢çï¼",slug:"userefæ¯æ¥è§£å³ä»ä¹é®é¢ç",normalizedTitle:"userefæ¯æ¥è§£å³ä»ä¹é®é¢çï¼",charIndex:1439},{level:2,title:"æ³¨ææ³¨æ",slug:"æ³¨ææ³¨æ",normalizedTitle:"æ³¨ææ³¨æ",charIndex:1799},{level:2,title:"ç¹å«æ³¨æï¼ä¿®æ¹ .current çå¼å¹¶ä¸ä¼è§¦åç»ä»¶éæ°æ¸²æ",slug:"ç¹å«æ³¨æ-ä¿®æ¹-current-çå¼å¹¶ä¸ä¼è§¦åç»ä»¶éæ°æ¸²æ",normalizedTitle:"ç¹å«æ³¨æï¼ä¿®æ¹ .current çå¼å¹¶ä¸ä¼è§¦åç»ä»¶éæ°æ¸²æ",charIndex:1896},{level:2,title:"useRefå½æ°æºç ï¼",slug:"userefå½æ°æºç ",normalizedTitle:"userefå½æ°æºç ï¼",charIndex:2558},{level:2,title:"useRefåºæ¬ç¨æ³",slug:"userefåºæ¬ç¨æ³",normalizedTitle:"userefåºæ¬ç¨æ³",charIndex:2856},{level:5,title:"ä»£ç å½¢å¼ï¼",slug:"ä»£ç å½¢å¼",normalizedTitle:"ä»£ç å½¢å¼ï¼",charIndex:3688},{level:5,title:"æè§£è¯´æï¼",slug:"æè§£è¯´æ",normalizedTitle:"æè§£è¯´æï¼",charIndex:3925},{level:4,title:"'ref'è¡¥åè¯´æ",slug:"ref-è¡¥åè¯´æ",normalizedTitle:"'ref'è¡¥åè¯´æ",charIndex:3965},{level:4,title:"''è¡¥åè¯´æ",slug:"xxx-è¡¥åè¯´æ",normalizedTitle:"''è¡¥åè¯´æ",charIndex:null},{level:4,title:"'xxxRef.current'è¡¥åè¯´æ",slug:"xxxref-current-è¡¥åè¯´æ",normalizedTitle:"'xxxref.current'è¡¥åè¯´æ",charIndex:4162},{level:2,title:"useRefä½¿ç¨ç¤ºä¾1ï¼",slug:"userefä½¿ç¨ç¤ºä¾1",normalizedTitle:"userefä½¿ç¨ç¤ºä¾1ï¼",charIndex:4230},{level:2,title:"useRefä½¿ç¨ç¤ºä¾2ï¼",slug:"userefä½¿ç¨ç¤ºä¾2",normalizedTitle:"userefä½¿ç¨ç¤ºä¾2ï¼",charIndex:4913},{level:2,title:"useRefä½¿ç¨ç¤ºä¾3ï¼ç¶ç»ä»¶è°ç¨å­ç»ä»¶ä¸­çå½æ°",slug:"userefä½¿ç¨ç¤ºä¾3-ç¶ç»ä»¶è°ç¨å­ç»ä»¶ä¸­çå½æ°",normalizedTitle:"userefä½¿ç¨ç¤ºä¾3ï¼ç¶ç»ä»¶è°ç¨å­ç»ä»¶ä¸­çå½æ°",charIndex:7133},{level:4,title:"å¨ TypeScript ä¸­ä½¿ç¨ useRef åå»ºè®¡æ¶å¨æ³¨æäºé¡¹ï¼",slug:"å¨-typescript-ä¸­ä½¿ç¨-useref-åå»ºè®¡æ¶å¨æ³¨æäºé¡¹",normalizedTitle:"å¨ typescript ä¸­ä½¿ç¨ useref åå»ºè®¡æ¶å¨æ³¨æäºé¡¹ï¼",charIndex:8754},{level:4,title:"å¨ TypeScript ä¸­ç» useRef.current èµå¼çæ³¨æäºé¡¹",slug:"å¨-typescript-ä¸­ç»-useref-current-èµå¼çæ³¨æäºé¡¹",normalizedTitle:"å¨ typescript ä¸­ç» useref.current èµå¼çæ³¨æäºé¡¹",charIndex:9859},{level:2,title:"é£å¦ä½âå¾ä½âèªå®ä¹ç»ä»¶ä¸­çâå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶âï¼",slug:"é£å¦ä½-å¾ä½-èªå®ä¹ç»ä»¶ä¸­ç-å°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶",normalizedTitle:"é£å¦ä½âå¾ä½âèªå®ä¹ç»ä»¶ä¸­çâå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶âï¼",charIndex:10933},{level:5,title:"ä½ æ¯å¦æèè¿è¿ä¸ªé®é¢ï¼èªå®ä¹ç»ä»¶å°åºæ¯ä»ä¹ï¼",slug:"ä½ æ¯å¦æèè¿è¿ä¸ªé®é¢-èªå®ä¹ç»ä»¶å°åºæ¯ä»ä¹",normalizedTitle:"ä½ æ¯å¦æèè¿è¿ä¸ªé®é¢ï¼èªå®ä¹ç»ä»¶å°åºæ¯ä»ä¹ï¼",charIndex:10993},{level:5,title:"React.forwardRef() çå·ä½ç¨æ³",slug:"react-forwardref-çå·ä½ç¨æ³",normalizedTitle:"react.forwardref() çå·ä½ç¨æ³",charIndex:12085}],headersStr:"useRefæ¦å¿µè§£é âæäºç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡âï¼ âå¹¶è¿åè¯¥å¯¹è±¡çå¼ç¨âï¼ âè¯¥å¼ç¨å¨ç»ä»¶æ´ä¸ªçå½å¨æä¸­é½åºå®ä¸åâï¼ useRefæ¯æ¥è§£å³ä»ä¹é®é¢çï¼ æ³¨ææ³¨æ ç¹å«æ³¨æï¼ä¿®æ¹ .current çå¼å¹¶ä¸ä¼è§¦åç»ä»¶éæ°æ¸²æ useRefå½æ°æºç ï¼ useRefåºæ¬ç¨æ³ ä»£ç å½¢å¼ï¼ æè§£è¯´æï¼ 'ref'è¡¥åè¯´æ ''è¡¥åè¯´æ 'xxxRef.current'è¡¥åè¯´æ useRefä½¿ç¨ç¤ºä¾1ï¼ useRefä½¿ç¨ç¤ºä¾2ï¼ useRefä½¿ç¨ç¤ºä¾3ï¼ç¶ç»ä»¶è°ç¨å­ç»ä»¶ä¸­çå½æ° å¨ TypeScript ä¸­ä½¿ç¨ useRef åå»ºè®¡æ¶å¨æ³¨æäºé¡¹ï¼ å¨ TypeScript ä¸­ç» useRef.current èµå¼çæ³¨æäºé¡¹ é£å¦ä½âå¾ä½âèªå®ä¹ç»ä»¶ä¸­çâå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶âï¼ ä½ æ¯å¦æèè¿è¿ä¸ªé®é¢ï¼èªå®ä¹ç»ä»¶å°åºæ¯ä»ä¹ï¼ React.forwardRef() çå·ä½ç¨æ³",content:"# 12 useRefåºç¡ç¨æ³\n\n\n# useRefæ¦å¿µè§£é\n\næä»¬ç¬¬ä¸ä¸ªè¦å­¦ä¹ çHook(é©å­å½æ°)æ¯useRefï¼ä»çä½ç¨æ¯âå¾ä½âæäºç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡ï¼å¹¶è¿åè¯¥å¯¹è±¡çå¼ç¨ãè¯¥å¼ç¨å¨ç»ä»¶æ´ä¸ªçå½å¨æä¸­é½åºå®ä¸åï¼è¯¥å¼ç¨å¹¶ä¸ä¼éçç»ä»¶éæ°æ¸²æèå¤±æã\n\nä¸é¢è¿æ®µè¯ï¼å°±ç®ä½ è®¤çè¯»å éï¼ä¼°è®¡ä¹æ¯ä¸å¤´é¾æ°´ï¼å°åºè¯´çæ¯å¥ï¼\næä¹å®å¨æ³ä¸åºå¶ä»æ´å éä¿çè¯­è¨æ¥æè¿°useRefï¼ä¸è¿ç»è¿ä¸é¢çè¯¦ç»åè§£æè¿°ï¼ç¸ä¿¡è½å¸®å°ä½ æ¥çè§£useRefã\n\n# âæäºç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡âï¼\n\nè¿å¥è¯ä¸­çâæäºå¯¹è±¡âä¸»è¦åä¸º3ç§ï¼JSXç»ä»¶è½¬æ¢åå¯¹åºççå®DOMå¯¹è±¡ãå¨useEffectä¸­åå»ºçåéãå­ç»ä»¶åèªå®ä¹çå½æ°(æ¹æ³)ã\n\nç¬¬1ï¼JSXç»ä»¶è½¬æ¢åå¯¹åºççå®DOMå¯¹è±¡ï¼\nä¸¾ä¾ï¼åè®¾å¨JSXä¸­ï¼æä¸ä¸ªè¾å¥æ¡<input type='text' />ï¼è¿ä¸ªæ ç­¾æç»å°ç¼è¯è½¬æ¢æçæ­£çhtmlæ ç­¾ä¸­ç<input type='text'/>ã\nä½ åºè¯¥ç¥éä»¥ä¸å ç¹ï¼\n1ãJSXä¸­å°åå¼å¤´çç»ä»¶çä¼¼ååçhtmlæ ç­¾ç¸ä¼¼ï¼ä½æ¯å¹¶ä¸æ¯ççåçæ ç­¾ï¼ä¾ç¶æ¯reactåç½®ç»ä»¶ã\n2ãä»ä¹æ¶åè½¬æ¢ï¼ èæDOMè½¬åä¸ºçå®DOM\n3ãä»ä¹æ¶åå¯è®¿é®ï¼ç»ä»¶æè½½å®ææéæ°æ¸²æå®æå\n\nå¯¹äºä¸é¢ä¸¾ä¾ä¸­çé£ä¸ªè½¬æ¢åç<input/> çå®DOMï¼åªæç»ä»¶æè½½å®ææéæ°æ¸²æå®æåæå¯ä»¥è®¿é®ï¼å®å°±å°±å±äºâæäºç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡âã\n\nç¹å«å¼ºè°ï¼useRefåªéåâå¾ä½âå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶ãå¦ææ¯èªå®ä¹çreactç»ä»¶(èªå®ä¹çç»ä»¶å¿é¡»å¤§åå­æ¯å¼å¤´)ï¼é£ä¹æ¯æ æ³ä½¿ç¨useRefçã\n\næèï¼å¦ä½è·åè¿ä¸ª <input/> çå®DOMå¢ï¼\nç­ï¼ç¨useRefã\n\nç¬¬2ï¼å¨useEffectä¸­åå»ºçåéï¼\nä¸¾ä¾ï¼è¯·çä»¥ä¸ä»£ç ï¼\n\nuseEffect(() => {\n    let timer = setInterval(() => {\n        setCount(prevData => prevData +1);\n    }, 1000);\n    return () => {\n        clearInterval(timer);\n    }\n},[]);\n\n\nä¸è¿°ä»£ç ä¸­ï¼è¯·æ³¨æè¿ä¸ªtimeræ¯å¨useEffectä¸­æå®ä¹çã\n\næèï¼useEffect ä»¥å¤çå°æ¹ï¼è¯¥å¦ä½è·åè¿ä¸ª timer çå¼ç¨ï¼\nç­ï¼ç¨useRef\n\nç¬¬3ï¼å­ç»ä»¶åèªå®ä¹çå½æ°(æ¹æ³)\nç±äºéè¦ç»åuseImperativeHandleæå¯ä»¥å®ç°ï¼èuseImperativeHandleç®åè¿æªå­¦ä¹ ï¼æä»¥æ¬ç« ä¸­ä¸è®¨è®ºè¿ä¸ªæä¹å®ç°ã\næ¬ç« åªè®²å2ä¸­åºç¨åºæ¯ã\n\n# âå¹¶è¿åè¯¥å¯¹è±¡çå¼ç¨âï¼\n\nä¸é¢çå2ç§æåµï¼é½æå°ç¨useRefæ¥è·åå¯¹è±¡çå¼ç¨ãå·ä½å¦ä½è·åï¼ç¨åå¨useRefç¨æ³ä¸­ä¼ææ¼ç¤ºã\n\n# âè¯¥å¼ç¨å¨ç»ä»¶æ´ä¸ªçå½å¨æä¸­é½åºå®ä¸åâï¼\n\nåè®¾éè¿useRefè·å¾äºè¯¥å¯¹è±¡çå¼ç¨ï¼é£ä¹å½reactç»ä»¶éæ°æ¸²æåï¼å¦ä½ä¿è¯è¯¥å¼ç¨ä¸ä¸¢å¤±ï¼\nç­ï¼reactå¨åºå±å¸®æä»¬åäºè¿ä¸ªå·¥ä½ï¼æä»¬åªéè¦ç¸ä¿¡ä¹åçå¼ç¨å¯ä»¥ç»§ç»­æ¾å°ç®æ å¯¹è±¡å³å¯ã\n\nè¯·æ³¨æï¼React.createRef()ä¹æuseRefç¸ä¼¼ææï¼ä½æ¯React.createRefæ æ³å¨é¨éç¨ä¸é¢æå°ç3ç§æåµã\n\nè®©æä»¬åå°useRefåºç¡å­¦ä¹ ä¸­ã\n\n\n# useRefæ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼useRefå¯ä»¥âè·åæäºç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡âçå¼ç¨ï¼ä¸ä¿è¯è¯¥å¼ç¨å¨ç»ä»¶æ´ä¸ªçå½å¨æååºå®ä¸åï¼é½è½åç¡®æ¾å°æä»¬è¦æ¾çå¯¹è±¡ã\nå·ä½å·²ç»å¨useRefä¸­åäºè¯¦ç»éè¿°ï¼è¿éä¸åéå¤ã\n\nè¡¥åè¯´æï¼\n1ãuseRefæ¯éå¯¹å½æ°ç»ä»¶çï¼å¦ææ¯ç±»ç»ä»¶åä½¿ç¨React.createRef()ã\n2ãReact.createRef()ä¹å¯ä»¥å¨å½æ°ç»ä»¶ä¸­ä½¿ç¨ã\nåªä¸è¿React.createRefåå»ºçå¼ç¨ä¸è½ä¿è¯æ¯æ¬¡éæ°æ¸²æåå¼ç¨åºå®ä¸åãå¦æä½ åªæ¯ä½¿ç¨React.createRefâå¾ä½âJSXç»ä»¶è½¬æ¢åå¯¹åºççå®DOMå¯¹è±¡æ¯æ²¡é®é¢çï¼ä½æ¯å¦ææ³âå¾ä½âå¨useEffectä¸­åå»ºçåéï¼é£æ¯åä¸å°çã\n\n2èé½æ³å¯ä»¥âå¾ä½âï¼åªè½ä½¿ç¨useRefã\n\n\n# æ³¨ææ³¨æ\n\nå¨åé¢useImperativeHandleçå­¦ä¹ ä¸­ï¼ä½ ä¼ç¥éuseRefè¿å¯ä»¥ âå¾ä½å¹¶è°ç¨â å­ç»ä»¶åå®ä¹çå½æ°(æ¹æ³)ã\n\n\n> ä»¥ä¸åå®¹æ´æ°äº 2022.04.06\n\n\n# ç¹å«æ³¨æï¼ä¿®æ¹ .current çå¼å¹¶ä¸ä¼è§¦åç»ä»¶éæ°æ¸²æ\n\nå¨æ¬æå¼å¤´ä»ç» useRef æ¶ç¨äºè¿å¥è¯ âuseRef æ¯âå¾ä½âæäºç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡ï¼å¹¶è¿åè¯¥å¯¹è±¡çå¼ç¨ãâ\n\nä¹å°±æ¯è¯´ åæäº ç»ä»¶æ¸²æï¼ä¹åææ´æ°äº useRef ä¸­ .current çå¼ã\n\n> ä¹å°±æ¯è¯´ useRef åéç current çå¼å®éä¸æ¯ ç»ä»¶æ¸²æ åçä¸ä¸ªå¯äº§åã\n\nè¿å¥è¯æå«äºå¦å¤ä¸å±å«ä¹ï¼ä¸»å¨æ´æ° useRef åéç .current çå¼å¹¶ä¸ä¼è§¦åç»ä»¶éæ°æ¸²æã\n\nä¾å¦ä¸é¢è¿ä¸ªç¤ºä¾ï¼\n\nimport { useRef } from \"react\";\n\nexport default function MyButton() {\n  const countRef = useRef(0)\n\n  const handleClick = () => {\n    countRef.current = countRef.current + 1\n  };\n\n  return <button onClick={handleClick}>Click me {countRef.current}</button>;\n}\n\n\nå®éè¿è¡å°±ä¼åç°ï¼å¨ç¹å»äºä»¶ä¸­æä»¬ä¿®æ¹äº countRef.current çå¼ï¼å°½ç®¡è¯¥å¼ç¡®å®åçäºååï¼å¯æ¯å¹¶ä¸ä¼è§¦åç»ä»¶çéæ°æ¸²æã\n\n> ä½¿ç¨ useState() äº§ççåéå¼åçåååï¼æ¯ä¼è§¦åç»ä»¶éæ°æ¸²æçã\n\n\n> ä»¥ä¸åå®¹æ´æ°äº 2022.04.06\n\n\n\n# useRefå½æ°æºç ï¼\n\nåå°useRefçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸Reactæºç ä¸­çReactHooks.jsã\n\n//å¤æ³¨ï¼æºç éç¨TypeScriptç¼åï¼å¦æä¸æTSä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\nexport function useRef<T>(initialValue: T): {|current: T|} {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useRef(initialValue);\n}\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨Hookâï¼å¹¶ä¸æ¯âHookæºç åæâã^_^\n\n\n# useRefåºæ¬ç¨æ³\n\nuseRef(initialValue)å½æ°åªæ1ä¸ªå¯éåæ°ï¼è¯¥åæ°ä¸ºé»è®¤âå¾ä½âçå¯¹è±¡ãç»å¤§å¤æ°å®éçæåµæ¯ï¼é»è®¤âå¾ä½âçå¯¹è±¡å¨JSXæªç¼è¯å(ç»ä»¶æè½½æéæ°æ¸²æå)æ ¹æ¬ä¸å­å¨ï¼æä»¥æ´å¤æ¶åé½ä¼ä¼ ä¸ä¸ª null ä½ä¸ºé»è®¤å¼ãå¦æä¸ä¼ ä»»ä½åæ°ï¼é£ä¹reacté»è®¤å°åæ°è®¾ç½®ä¸ºundefinedã\n\nå°±ç®åæ¬äººæçè§£çï¼æ¥å¸¸ä½¿ç¨è¿ç¨ä¸­useRef(null)åuseRef() å®éä¸æ¯æ²¡æä»ä¹åºå«çã\n\n----------------------------------------\n\nä»¥ä¸æ´æ°äº 2020.12.10\n\nè¡¥åä¸ä¸ React + TypeScript ç¥è¯ç¹ï¼\n\nuseRef(null) å useRef() å¨ React + TypeScript é¡¹ç®ä¸­è¿æ¯æå·®å«çã\n\nåè®¾æä»¬è¦å¾ä½ä¸ä¸ª <canvas /> DOMåç´ ï¼é£ä¹ï¼\n\nconst canvasRef1 = useRef<HTMLCanvasElement>(null)\nconst canvasRef2 = useRef<HTMLCanvasElement>()\n\n\nä¸é¢ä»£ç ä¸­ï¼\n\n 1. canvasRef1.current çç±»åä¸ºï¼HTMLCanvasElement | null\n 2. canvasRef2.current çç±»åä¸ºï¼HTMLCanvasElement | null | undefined\n\nä»¥ä¸æ´æ°äº 2020.12.10\n\n----------------------------------------\n\nç¬¬2éå¼ºè°ï¼æ¬ææå°çç»ä»¶ï¼é»è®¤é½æ¯æå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶ï¼ä¸å¯ä»¥æ¯èªå®ä¹ç»ä»¶ã\n\næ¥ä¸æ¥å·ä½è¯´è¯´useRefå³èå¯¹è±¡ç2ç§ç¨æ³ï¼\n1ãéå¯¹ JSXç»ä»¶ï¼éè¿å±æ§ ref={xxxRef} è¿è¡å³èã\n2ãéå¯¹ useEffectä¸­çåéï¼éè¿ xxxRef.current è¿è¡å³èã\n\n# ä»£ç å½¢å¼ï¼\n\n//åå®ä¹ä¸ä¸ªxxRefå¼ç¨åéï¼ç¨äºâå¾ä½âæäºç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡\nconst xxRef = useRef(null);\n\n//éå¯¹ JSXç»ä»¶ï¼éè¿å±æ§ ref={xxxRef} è¿è¡å³è\n<xxx ref={xxRef} />\n\n//éå¯¹ useEffectä¸­çåéï¼éè¿ xxxRef.current è¿è¡å³è\nuseEffect(() => {\n   xxRef.current = xxxxxx;\n},[]);\n\n\n# æè§£è¯´æï¼\n\n1ãå·ä½è®²è§£å·²å¨ä¸é¢ç¤ºä¾ä»£ç ä¸­åäºå¤é¡¹æ³¨éï¼æ­¤å¤ä¸åéå¤ï¼\n\n# 'ref'è¡¥åè¯´æ\n\n1ãç»ä»¶ç ref ä¸ºç¹æ®å±æ§åï¼ä»å¹¶ä¸å­å¨ç»ä»¶å±æ§ä¼ å¼ç props ä¸­ã\n2ãå¦æç»ä¸ä¸ªç»ä»¶è®¾å®äº ref å±æ§åï¼ä½æ¯å¯¹åºçå¼å´ä¸æ¯ç± useRef åå»ºçï¼é£ä¹å®éè¿è¡ä¸­ä¼æ¶å°reactçæ¥éï¼æ æ³æ­£å¸¸æ¸²æã\n\n# '<xxx>'è¡¥åè¯´æ\n\n1ãuseRefåªè½éå¯¹reactä¸­å°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶ï¼æä»¥è¿éç¨çæ¯ <xxx> èä¸æ¯ <Xxx>ã\n\n# 'xxxRef.current'è¡¥åè¯´æ\n\n1ãå½éè¦ä½¿ç¨âå¾ä½âçå¯¹è±¡æ¶ï¼ä¹æ¯éè¿xxRef.currentæ¥è·åè¯¥å¯¹è±¡çã\n\n\n# useRefä½¿ç¨ç¤ºä¾1ï¼\n\nè¥æä»¬æä¸ä¸ªç»ä»¶ï¼è¯¥ç»ä»¶åªæä¸ä¸ªè¾å¥æ¡ï¼æä»¬å¸æå½è¯¥ç»ä»¶æè½½å°ç½é¡µåï¼èªå¨è·å¾è¾å¥ç¦ç¹ã\n\néæ±åæï¼\n1ãæä»¬å¯ä»¥å¾è½»æ¾ä½¿ç¨<input >åå»ºåºè¿ä¸ªè¾å¥æ¡ã\n2ãéè¦ä½¿ç¨useRef âå¾ä½âè¿ä¸ªè¾å¥æ¡ï¼å½å®è¢«æè½½å°ç½é¡µåï¼éè¿æä½åçhtmlçæ¹æ³ï¼å°ç¦ç¹èµäºè¯¥è¾å¥æ¡ä¸ã\n\nå®æ´ä»£ç å¦ä¸ï¼\n\nimport React,{useEffect,useRef} from 'react'\n\nfunction Component() {\n  //åå®ä¹ä¸ä¸ªinputRefå¼ç¨åéï¼ç¨äºâå¾ä½âæè½½ç½é¡µåçè¾å¥æ¡\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    //inputRef.currentå°±æ¯æè½½å°ç½é¡µåçé£ä¸ªè¾å¥æ¡ï¼ä¸ä¸ªçå®DOMï¼å æ­¤å¯ä»¥è°ç¨htmlä¸­çæ¹æ³focus()\n    inputRef.current.focus();\n  },[]);\n\n  return <div>\n      {/* éè¿ ref å±æ§å° inputRefä¸è¯¥è¾å¥æ¡è¿è¡âæé©â */}\n      <input type='text' ref={inputRef} />\n    </div>\n}\nexport default Component\n\n\næ³¨æï¼\n1ãå¨ç»ç»ä»¶è®¾ç½® ref å±æ§æ¶ï¼åªéä¼ å¥ inputRefï¼åä¸ä¸è¦ä¼ å¥ inputRef.currentã\n2ãå¨âå¾ä½âæ¸²æåççå®DOMè¾å¥æ¡åï¼è½ä¸åªè½è°ç¨åçhtmlä¸­è¯¥æ ç­¾æ¥æçæ¹æ³ã\n\n\n# useRefä½¿ç¨ç¤ºä¾2ï¼\n\nè¥æä»¬æä¸ä¸ªç»ä»¶ï¼è¯¥ç»ä»¶çåè½éæ±å¦ä¸ï¼\n1ãç»ä»¶ä¸­æä¸ä¸ªåécountï¼å½è¯¥ç»ä»¶æè½½å°ç½é¡µåï¼countæ¯ç§èªå¨ +1ã\n2ãç»ä»¶ä¸­æä¸ä¸ªæé®ï¼ç¹å»æé®å¯ä»¥åæ­¢countèªå¨+1ã\n\néæ±åæï¼\n1ãå£°æåé¨åécountç¨ useState\n2ãå¯ä»¥å¨useEffect éè¿setIntervalåå»ºä¸ä¸ªè®¡æ¶å¨timerï¼å®ç°countæ¯ç§èªå¨ +1\n3ãå½ç»ä»¶å¸è½½åï¼éè¦éè¿ clearInterval å°timeræ¸é¤\n4ãæé®ç¹å»å¤çå½æ°ä¸­ï¼ä¹è¦éè¿ clearInterval å°timeræ¸é¤\n\nåè®¾æä»¬ä¸ä½¿ç¨useRefï¼é£è¯¥å¦ä½å®ç°ï¼\n\nä¸ºäºç¡®ä¿timerå¯ä»¥è¢«useEffectä»¥å¤å°æ¹ä¹è½è®¿é®ï¼æä»¬éå¸¸åæ³æ¯å°timerå£°ææåå°useEffectä»¥å¤ã\nä»£ç å¦ä¸ï¼\n\nimport React,{useState,useEffect} from 'react'\n\nfunction Component() {\n  const [count,setCount] = useState(0);\n  const [timer,setTimer] = useState(null); //åç¬å£°æå®ä¹timerï¼ç®çæ¯ä¸ºäºè®©ç»ä»¶åææå°æ¹é½å¯ä»¥è®¿é®å°timer\n\n  useEffect(() => {\n    //éè¦ç¨setTimer()åè£¹ä½ setInterval()\n    setTimer(setInterval(() => {\n        setCount((prevData) => {return prevData +1});\n    }, 1000));\n    return () => {\n      //æ¸é¤ætimer\n      clearInterval(timer);\n    }\n  },[]);\n\n  const clickHandler = () => {\n    //æ¸é¤ætimer\n    clearInterval(timer);\n  };\n\n  return (\n    <div>\n        {count}\n        <button onClick={clickHandler} >stop</button>\n    </div>\n  )\n}\n\nexport default Component\n\n\nå¦æä½¿ç¨useRefï¼è¯¥å¦ä½å®ç°ï¼ ä»£ç å¦ä¸ï¼\n\nimport React,{useState,useEffect,useRef} from 'react'\n\nfunction Component() {\n  const [count,setCount] =  useState(0);\n  const timerRef = useRef(null);//åå®ä¹ä¸ä¸ªtimerRefå¼ç¨åéï¼ç¨äºâå¾ä½âuseEffectä¸­éè¿setIntervaleåå»ºçè®¡æ¶å¨\n\n  useEffect(() => {\n    //å°timerRef.currentä¸setIntervaleåå»ºçè®¡æ¶å¨è¿è¡âæé©â\n    timerRef.current = setInterval(() => {\n        setCount((prevData) => { return prevData +1});\n    }, 1000);\n    return () => {\n        //éè¿timerRef.currentï¼æ¸é¤æè®¡æ¶å¨\n        clearInterval(timerRef.current);\n    }\n  },[]);\n\n  const clickHandler = () => {\n    //éè¿timerRef.currentï¼æ¸é¤æè®¡æ¶å¨\n    clearInterval(timerRef.current);\n  };\n\n  return (\n    <div>\n        {count}\n        <button onClick={clickHandler} >stop</button>\n    </div>\n  )\n}\n\nexport default Component\n\n\nä¸¤ç§å®ç°æ¹å¼å¯¹æ¯ï¼\n\n1ãä¸¤ç§å®ç°æ¹å¼æä¸»è¦çå·®å¼å°æ¹å¨äº å¦ä½åå»ºç»ä»¶åå¯¹è®¡æ¶å¨çå¼ç¨ã\n2ãä¸¤ç§åå»ºå¼ç¨çæ¹å¼ï¼åå«æ¯ï¼ç¨useStateåå»ºçtimerãç¨useRefåå»ºçtimerRef\n3ãå¨ä½¿ç¨setIntervalæ¶ï¼ç¸å¯¹æ¥è¯´timerRef.currentæ´å å¥½ç¨ç®åï¼ç»ææ¸æ°ï¼ä¸éè¦å setTimeré£æ ·éè¦åå¤1å±åè£¹ã\n4ãtimeræ´åæ¯ä¸ç§reactå¯¹è®¡æ¶å¨çæ å°ï¼ètimerRefç´æ¥å°±æ¯çå®DOMä¸­è®¡æ¶å¨çå¼ç¨ï¼timerRefè½å¤è°ç¨æ´å¤çåçhtmlä¸­çJSæ¹æ³åå±æ§ã\n\nç»è®ºï¼\n1ãå¦æéè¦å¯¹æ¸²æåçDOMèç¹è¿è¡æä½ï¼å¿é¡»ä½¿ç¨useRefã\n2ãå¦æéè¦å¯¹æ¸²æåæä¼å­å¨çåéå¯¹è±¡è¿è¡æäºæä½ï¼å»ºè®®ä½¿ç¨useRefã\n\nç¬¬3éå¼ºè°ï¼useRefåªéåâå¾ä½âå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶ãå¦ææ¯èªå®ä¹çreactç»ä»¶(èªå®ä¹çç»ä»¶å¿é¡»å¤§åå­æ¯å¼å¤´)ï¼é£ä¹æ¯æ æ³ä½¿ç¨useRefçã\n\n\n> ä»¥ä¸åå®¹æ´æ°äº 2022.05.20\n\n\n# useRefä½¿ç¨ç¤ºä¾3ï¼ç¶ç»ä»¶è°ç¨å­ç»ä»¶ä¸­çå½æ°\n\né¦åç¹å«å¼ºè°ï¼é¤éæåµéå¸¸ç¹æ®ï¼å¦åä¸è¬æåµä¸é½ä¸è¦éç¨ ç¶ç»ä»¶è°ç¨å­ç»ä»¶çå½æ° è¿ç§ç­ç¥ã\n\n\nä½¿ç¨ useRef å®ç°ç¶ç»ä»¶è°ç¨å­ç»ä»¶ä¸­çå½æ° å®ç°æè·¯ï¼\n\n 1. ç¶ç»ä»¶ä¸­éè¿ useRef å®ä¹ä¸ä¸ªé©å­åéï¼ä¾å¦ childFunRef\n\n 2. ç¶ç»ä»¶éè¿åæ°éç½®ï¼å° childFunRef ä¼ éç»å­ç»ä»¶\n\n 3. å­ç»ä»¶å¨èªå·±ç useEffect() ä¸­å®ä¹ä¸ä¸ªå½æ°ï¼ä¾å¦ doSomting()\n    \n    > åéç¹ï¼ä¸å®è¦å¨ useEffect() ä¸­å®ä¹ doSomting()ï¼ä¸è½ç´æ¥å¨å­ç»ä»¶åé¨å®ä¹ã\n    > \n    > å ä¸ºå¦æ doSomting() å®ä¹å¨å­ç»ä»¶åé¨ï¼é£ä¹å°±ä¼é ææ¯ä¸æ¬¡ç»ä»¶å·æ°é½ä¼éæ°çæä¸ä»½ doSomthing()\n\n 4. ç¶åå° doSomting() èµå¼å° childFunRef.current ä¸­\n\n 5. è¿æ ·ï¼å½ç¶ç»ä»¶æ³è°ç¨å­ç»ä»¶ä¸­ç doSomting() æ¶ï¼å¯æ§è¡ childFunRef.current.doSomting()\n\n\nå·ä½ç¤ºä¾ä»£ç ï¼\n\nParentComponent\n\nimport { useRef } from \"react\";\nimport ChildComponent from \"./child\";\n\nconst ParentComponent = () => {\n  const childFunRef = useRef();\n  const handleOnClick = () => {\n    if (childFunRef.current) {\n      childFunRef.current.doSomething();\n    }\n  };\n  return (\n    <div>\n      <ChildComponent funRef={childFunRef} />\n      <button onClick={handleOnClick}>æ§è¡å­é¡¹çdoSomething()</button>\n    </div>\n  );\n};\n\nexport default ParentComponent;\n\n\n\nChildComponent\n\nimport { useEffect, useState } from \"react\";\n\nconst ChildComponent = ({ funRef }) => {\n  const [num, setNum] = useState(0);\n  useEffect(() => {\n    const doSomething = () => {\n      setNum(Math.floor(Math.random() * 100));\n    };\n    funRef.current = { doSomething }; //å¨å­ç»ä»¶ä¸­ä¿®æ¹ç¶ç»ä»¶ä¸­å®ä¹çchildFunRefçå¼\n  }, [funRef]);\n  return <div>{num}</div>;\n};\n\nexport default ChildComponent;\n\n\n\nç¹å«è¯´æï¼\n\n 1. ä¸ä¸ç« è¦è®²è§£ç useImperativeHandle ä¹æ¯ç¨æ¥å®ç° ç¶ç»ä»¶è°ç¨å­ç»ä»¶åå®ä¹çå½æ°çã\n\n 2. åæ¬¡å¼ºè°ï¼å¦éå¿è¦ï¼ççä¸è¦ä½¿ç¨ ç¶ç»ä»¶è°ç¨å­ç»ä»¶åå½æ° è¿ç§ç­ç¥ã\n    \n    > æè¿æéå°äºä¸ä¸ªéæ±ï¼å­ç»ä»¶æ¯ä¸ä¸ªç¬¬ä¸æ¹åå¥½çè½®æ­å¾ï¼ç¶ç»ä»¶éè¦è°ç¨è¿ä¸ªè½®æ­å¾ç next() çå½æ°æ¥åæ¢ä¸ä¸å¼ ï¼æä»¥æä½¿ç¨äºè¿ç§ç­ç¥ã\n\n> ä»¥ä¸åå®¹æ´æ°äº 2022.05.20\n\n\n----------------------------------------\n\n> ä»¥ä¸åå®¹æ´æ°äº2020.11.18\n\n# å¨ TypeScript ä¸­ä½¿ç¨ useRef åå»ºè®¡æ¶å¨æ³¨æäºé¡¹ï¼\n\nå¨ä¸é¢ä»£ç ç¤ºä¾ä¸­ï¼è¯·æ³¨æè¿ä¸è¡ä»£ç ï¼\n\ntimerRef.current = setInterval(() => {\n        setCount((prevData) => { return prevData +1});\n    }, 1000);\n\n\nå¦ææ¯å¨ TS è¯­æ³ä¸ï¼ä¸é¢çä»£ç ä¼æ¥éè¯¯ï¼\n\nä¸è½å°ç±»åâTimeoutâåéç»ç±»åânumberâã\n\n\nTimeout ???\n\né æè¿ä¸ªéè¯¯æç¤ºçåå æ¯ï¼\n\n 1. TypeScript æ¯è¿è¡å¨ Nodejs ç¯å¢ä¸çï¼TS ç¼è¯ä¹åçä»£ç æ¯è¿è¡å¨æµè§å¨ç¯å¢ä¸çã\n 2. Nodejs åæµè§å¨ä¸­ç window ä»ä»¬åèªå®ç°äºä¸å¥èªå·±ç setInterval\n 3. åæ¥ä»£ç  timerRef.current = setInterval( ... ) ä¸­ setInterval ä¼è¢« TS è®¤ä¸ºæ¯ Nodejs å®ä¹ç setIntervalï¼è Nodejs ä¸­ setInterval è¿åçç±»åå°±æ¯ NodeJS.Timeoutã\n 4. æä»¥ï¼æä»¬éè¦å°ä¸è¿°ä»£ç ä¿®æ¹ä¸ºï¼timerRef.current = window.setInterval( ... )ï¼æç¡®æä»¬è°ç¨çæ¯ window.setIntervalï¼èä¸æ¯ Nodejs ç setIntervalã\n\néä¸ä¸ª TS ä»£ç ç¤ºä¾ï¼\n\nimport React, { useRef, useEffect } from 'react'\n\nconst MyTemp = () => {\n    const timer = useRef<number | undefined>()\n\n    useEffect(() => {\n        timer.current = window.setInterval(() => {\n            console.log(0)\n        }, 1000)\n\n        return () => {\n            clearInterval(timer.current)\n        }\n    }, [])\n    return (\n        <div></div>\n    )\n}\n\nexport default MyTemp\n\n\n> ä»¥ä¸åå®¹æ´æ°äº2020.11.18\n\n----------------------------------------\n\n> ä»¥ä¸åå®¹æ´æ°äº2020.12.03\n\n# å¨ TypeScript ä¸­ç» useRef.current èµå¼çæ³¨æäºé¡¹\n\nå¨ jsx æä»¶ä¸­ï¼ä»¥ä¸ä»£ç æ¯ä¸ä¼æé®é¢çã\n\nconst myRef = useRef(null)\n...\nmyRef.current = xxxx\n\n\nä½æ¯ï¼å¨æä»¬ä½¿ç¨ TypeScript ä¹åï¼æç§ä¹ æ¯æ¹æä»¥ä¸ä»£ç ï¼\n\nconst myRef = useRef<Xxx>(null)\n...\nmyRef.current = xxx\n\n\næ­¤æ¶ï¼ä¼æ¶å° TypeScript çæ¥éï¼æ æ³åéå° \"current\" ï¼å ä¸º myRef.current æ¯åªè¯»å±æ§ã\n\næ¥éåå ï¼\n\nReact çä½èå¹¶æ²¡æè§å®ä½¿ç¨ useRef(null) ä¹å myRef.current å°±ä¸å¯ä»¥åä¿®æ¹äºã\n\nä½æ¯ TypeScript çä½èè®¤ä¸ºï¼è¥ä½¿ç¨ useRef(null) ä¹åï¼myRef å°±åºè¯¥äº¤ç± React æ¥æç®¡ï¼å¤çä¸åºè¯¥ææå©å»ä¿®æ¹ myRef.currentï¼å æ­¤æ­¤æ¶ä¼æ myRef.current å½ååªè¯»å±æ§ã\n\nè§£å³æ¹å¼ï¼\n\nè§£å³æ¹å¼1ï¼ä¸ç» useRef è®¾ç½® null è¿ä¸ªé»è®¤å¼\n\nconst myRef = useRef<Xxx>()\n\n\nè§£å³æ¹å¼2ï¼å°±æ¯å°åæ¬çç±»åå®ä¹ï¼ä¿®æ¹æä»¥ä¸ï¼\n\nconst myRef = useRef<Xxx | null>(null)\n\n//æèæ¯\n\nconst myRef = useRef<Xxx | undefined>()\n\n\nmyRef.current çæ°æ®ç±»åï¼é¤äº Xxx ä¹å¤ï¼åå ä¸ null æ undefined ï¼è¿æ · TypeScript å°±è®¤ä¸º myRef.current å¯è½ä¸­éä¼åçä¿®æ¹ï¼å æ­¤ä¸ä¼åå°å¶è®¾ç½®ä¸ºåªè¯»å±æ§ï¼æ­¤æ¶åå»æ§è¡ myRef.current = xxx ä¸åä¼æ¥éã\n\néªè¯ä¸ä¸ï¼\n\næä»¬åå»ççä¸é¢ 2020.11.18 æ´æ°ç TypeScript ä»£ç ç¤ºä¾ä¸­ï¼\n\nç±äºå°æ¥éè¦æ§è¡ timer.current = window.setInterval ( ... )ï¼ä¹å°±æ¯è¯´éè¦ç» timer.current èµå¼ã\n\næä»¥å¨å®ä¹æ¶å°±ä½¿ç¨ä»¥ä¸æ¹å¼ï¼ä»¥ç¡®ä¿ timer.current ä¸ä¼è¢« TS è®¤ä¸ºæ¯åªè¯»å±æ§ï¼\n\nconst timer = useRef<number | undefined>()\n\n\n> ä»¥ä¸åå®¹æ´æ°äº2020.12.03\n\n----------------------------------------\n\n\n# é£å¦ä½âå¾ä½âèªå®ä¹ç»ä»¶ä¸­çâå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶âï¼\n\nç­ï¼ä½¿ç¨React.forwardRef()ã\n\n# ä½ æ¯å¦æèè¿è¿ä¸ªé®é¢ï¼èªå®ä¹ç»ä»¶å°åºæ¯ä»ä¹ï¼\n\né¦åçä¸ä¸âå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶âï¼ä¾å¦<button>ã<input >ï¼æä»¬å¾å®¹æçè§£ä»æ¯reactåç½®çç±»ä¼¼åçDOMçç»ä»¶ï¼æç»é½å°ç´æ¥è½¬æ¢æå¯¹åºççå®DOMã\n\né£èªå®ä¹ç»ä»¶åè¯¥å¦ä½çè§£ï¼å¦ä½å®ä¹å¢ï¼\n\nåè®¾æä»¬æä¸ä¸ªèªå®ä¹ç»ä»¶<MyComponent>ï¼é£ä¹æä»¥ä¸å ç¹æ¯å¯ä»¥è¯å®çï¼\n1ã<MyComponent>åé¨returnåºå»çï¼å¯ä»¥æ¯å°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶ï¼ä¹å¯ä»¥æ¯å¶ä»èªå®ä¹ç»ä»¶ã\n2ãæ è®ºåµå¥å¤å°æ¬¡ï¼æåºå±ç»ä»¶returnåºå»çï¼ä¸å®æ¯å°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶ã\n3ã<MyComponent>åé¨ä¸å®åå»ºäºåéãå¤çå½æ°ç­ç­ã\n4ãæè½½ææ¸²æåçå®éç½é¡µä¸­ï¼å¹¶ä¸ä¼å­å¨<MyComponent>è¿ä¸ªæ ç­¾ï¼å­å¨çä¾ç¶æ¯åç§åçhtmlæ ç­¾ã\n\nä¸ºäºç®åæ´å å®¹æçè§£ï¼ææ¶å§ä¸åæâå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶âç´æ¥å½åâåçhtmlæ ç­¾âã\né£ä¹âèªå®ä¹ç»ä»¶âåâåçhtmlæ ç­¾âç©¶ç«åºå«å¨åªéå¢ï¼\n\nåä¸åç­è¿ä¸ªé®é¢ï¼åè¯´å¦å¤ä¸ä¸ªé®é¢ï¼äº¤äºå¼htmlé¡µé¢é½æåªäºææï¼\nç­ï¼æåç§htmlæ ç­¾ + JSå¯¹è±¡(JSä¸­å®ä¹çåéåå½æ°)\n\né£æä»¬ä½¿ç¨reactå¼åé¡µé¢ï¼âåçhtmlæ ç­¾âæäºï¼é£è¿ç¼ºä»ä¹ï¼ å½ç¶æ¯ JSå¯¹è±¡(JSä¸­å®ä¹çåéåå½æ°)ã\n\nååé¡¾ä¸ä¸é®é¢ï¼âèªå®ä¹ç»ä»¶âåâåçhtmlæ ç­¾âç©¶ç«åºå«å¨åªéå¢ï¼\nç­ï¼âèªå®ä¹ç»ä»¶âé¤äºæ¥æâåçhtmlæ ç­¾âï¼è¿æ¥æJSå¯¹è±¡(JSä¸­å®ä¹çåéåå½æ°)ã\n\nååé¡¾ä¸ä¸å¼å§ççé®ï¼èªå®ä¹ç»ä»¶å°åºæ¯ä»ä¹ï¼\nç­ï¼å¶å®æ ¹æ¬ä¸å­å¨èªå®ä¹ç»ä»¶ï¼æè°èªå®ä¹ç»ä»¶ï¼åªä¸è¿æ¯reactç»æä»¬çåç§è¯­æ³ç³ï¼reactå¹¶æ²¡æåé å¦å¤ä¸é¨è¯­è¨ï¼reactæ´ä½å°±æ¯åçJSçè¯­æ³ç³ã\n\nJSXè¯­æ³ + Hook ç»åèµ·æ¥ï¼å½¢æä¸ä¸ªå¼ºå¤§çè¯­æ³ç³ï¼è®©ä½ ç¼åhtmlæ ç­¾åJSæ´å ç®ä¾¿èå·²ã è¯­æ³ç³çå¯¹è±¡å°±æ¯ï¼åçhtmlæ ç­¾ + JSå¯¹è±¡(JSä¸­å®ä¹çåéåå½æ°)ã\n\nè¿å°±è§£éäºä¸ºå¥èªå®ä¹ç»ä»¶ return åºå»çåå®¹ï¼æå¤å±å¿é¡»æä¸ä¸ªåçhtmlæ ç­¾ã è¯´ç½äºï¼æ è®ºä½ æä¹å®ä¹ï¼æè¾è¿ä¸ªèªå®ä¹ç»ä»¶ï¼æ¬è´¨ä¸é½è¦ä¿è¯è¿ä¸ªèªå®ä¹ç»ä»¶æç»é½è½è½¬æ¢æä¸æ®µåçhtmlä»£ç ã\n\nä¸é¢è¿ä¸å¤§æ®µè¯é½æ¯âç®åå°ä¸è½åç®åçéçâï¼ä½æ¯ä½ åªæçè§£éè¿ä¸å±ï¼çè§£èªå®ä¹ç»ä»¶ãçè§£reactç©¶ç«æ¯ä»ä¹ä¹åï¼ä½ ä¼å¯¹äºå­¦ä¹ Reactåç§APIåHookæä¼æ´å å®¹æçè§£åæ¥åã\n\nè®©æä»¬åå° é£å¦ä½âå¾ä½âèªå®ä¹ç»ä»¶ä¸­çâå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶âï¼ è¿ä¸ªé®é¢ä¸æ¥ã\n\n# React.forwardRef() çå·ä½ç¨æ³\n\nReact.forwardRef()åè£¹ä½è¦è¾åºçç»ä»¶ï¼ä¸å°ç¬¬2ä¸ªåæ°è®¾ç½®ä¸º ref å³å¯ï¼ç¤ºä¾ä»£ç ï¼\n\nimport React from 'react'\n\nconst ChildComponent = React.forwardRef((props,ref) => {\n  //å­ç»ä»¶éè¿å°ç¬¬2ä¸ªåæ°ref æ·»å å°åé¨çæ­£çâå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶âä¸­ \n  return <button ref={ref}>{props.label}</button>\n});\n\n/* ä¸é¢çå­ç»ä»¶ç´æ¥å¨ç¶ç»ä»¶åå®ä¹äºï¼å¦æå­ç»ä»¶æ¯åç¬ç.jsæä»¶ï¼åå¯ä»¥éè¿\n   export default React.forwardRef(ChildComponent) è¿ç§å½¢å¼  */\n\nfunction Forward() {\n  const ref = React.useRef();//ç¶ç»ä»¶å®ä¹ä¸ä¸ªref\n  const clickHandle = () =>{\n    console.log(ref.current);//ç¶ç»ä»¶è·å¾æ¸²æåå­ç»ä»¶ä¸­å¯¹åºçDOMèç¹å¼ç¨\n  }\n  return (\n    <div>\n        {/* ç¶ç»ä»¶éè¿ç»å­ç»ä»¶æ·»å å±æ§ ref={ref} å°refä½ä¸ºåæ°ä¼ éç»å­ç»ä»¶ */}\n        <ChildComponent label='child bt' ref={ref} />\n        <button onClick={clickHandle} >get child bt ref</button>\n    </div>\n  )\n}\nexport default Forward;\n\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseRef()åºç¡ç¨æ³ãReact.forwardRef()å·²ç»è®²å®ã è¿2ä¸ªå½æ°çææ¡ï¼ä¼å¯¹ä¸ä¸ä¸ªè¦è®²çHookï¼useImperativeHandle éå¸¸æç¨ã",normalizedContent:"# 12 userefåºç¡ç¨æ³\n\n\n# userefæ¦å¿µè§£é\n\næä»¬ç¬¬ä¸ä¸ªè¦å­¦ä¹ çhook(é©å­å½æ°)æ¯userefï¼ä»çä½ç¨æ¯âå¾ä½âæäºç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡ï¼å¹¶è¿åè¯¥å¯¹è±¡çå¼ç¨ãè¯¥å¼ç¨å¨ç»ä»¶æ´ä¸ªçå½å¨æä¸­é½åºå®ä¸åï¼è¯¥å¼ç¨å¹¶ä¸ä¼éçç»ä»¶éæ°æ¸²æèå¤±æã\n\nä¸é¢è¿æ®µè¯ï¼å°±ç®ä½ è®¤çè¯»å éï¼ä¼°è®¡ä¹æ¯ä¸å¤´é¾æ°´ï¼å°åºè¯´çæ¯å¥ï¼\næä¹å®å¨æ³ä¸åºå¶ä»æ´å éä¿çè¯­è¨æ¥æè¿°userefï¼ä¸è¿ç»è¿ä¸é¢çè¯¦ç»åè§£æè¿°ï¼ç¸ä¿¡è½å¸®å°ä½ æ¥çè§£userefã\n\n# âæäºç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡âï¼\n\nè¿å¥è¯ä¸­çâæäºå¯¹è±¡âä¸»è¦åä¸º3ç§ï¼jsxç»ä»¶è½¬æ¢åå¯¹åºççå®domå¯¹è±¡ãå¨useeffectä¸­åå»ºçåéãå­ç»ä»¶åèªå®ä¹çå½æ°(æ¹æ³)ã\n\nç¬¬1ï¼jsxç»ä»¶è½¬æ¢åå¯¹åºççå®domå¯¹è±¡ï¼\nä¸¾ä¾ï¼åè®¾å¨jsxä¸­ï¼æä¸ä¸ªè¾å¥æ¡<input type='text' />ï¼è¿ä¸ªæ ç­¾æç»å°ç¼è¯è½¬æ¢æçæ­£çhtmlæ ç­¾ä¸­ç<input type='text'/>ã\nä½ åºè¯¥ç¥éä»¥ä¸å ç¹ï¼\n1ãjsxä¸­å°åå¼å¤´çç»ä»¶çä¼¼ååçhtmlæ ç­¾ç¸ä¼¼ï¼ä½æ¯å¹¶ä¸æ¯ççåçæ ç­¾ï¼ä¾ç¶æ¯reactåç½®ç»ä»¶ã\n2ãä»ä¹æ¶åè½¬æ¢ï¼ èædomè½¬åä¸ºçå®dom\n3ãä»ä¹æ¶åå¯è®¿é®ï¼ç»ä»¶æè½½å®ææéæ°æ¸²æå®æå\n\nå¯¹äºä¸é¢ä¸¾ä¾ä¸­çé£ä¸ªè½¬æ¢åç<input/> çå®domï¼åªæç»ä»¶æè½½å®ææéæ°æ¸²æå®æåæå¯ä»¥è®¿é®ï¼å®å°±å°±å±äºâæäºç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡âã\n\nç¹å«å¼ºè°ï¼userefåªéåâå¾ä½âå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶ãå¦ææ¯èªå®ä¹çreactç»ä»¶(èªå®ä¹çç»ä»¶å¿é¡»å¤§åå­æ¯å¼å¤´)ï¼é£ä¹æ¯æ æ³ä½¿ç¨userefçã\n\næèï¼å¦ä½è·åè¿ä¸ª <input/> çå®domå¢ï¼\nç­ï¼ç¨userefã\n\nç¬¬2ï¼å¨useeffectä¸­åå»ºçåéï¼\nä¸¾ä¾ï¼è¯·çä»¥ä¸ä»£ç ï¼\n\nuseeffect(() => {\n    let timer = setinterval(() => {\n        setcount(prevdata => prevdata +1);\n    }, 1000);\n    return () => {\n        clearinterval(timer);\n    }\n},[]);\n\n\nä¸è¿°ä»£ç ä¸­ï¼è¯·æ³¨æè¿ä¸ªtimeræ¯å¨useeffectä¸­æå®ä¹çã\n\næèï¼useeffect ä»¥å¤çå°æ¹ï¼è¯¥å¦ä½è·åè¿ä¸ª timer çå¼ç¨ï¼\nç­ï¼ç¨useref\n\nç¬¬3ï¼å­ç»ä»¶åèªå®ä¹çå½æ°(æ¹æ³)\nç±äºéè¦ç»åuseimperativehandleæå¯ä»¥å®ç°ï¼èuseimperativehandleç®åè¿æªå­¦ä¹ ï¼æä»¥æ¬ç« ä¸­ä¸è®¨è®ºè¿ä¸ªæä¹å®ç°ã\næ¬ç« åªè®²å2ä¸­åºç¨åºæ¯ã\n\n# âå¹¶è¿åè¯¥å¯¹è±¡çå¼ç¨âï¼\n\nä¸é¢çå2ç§æåµï¼é½æå°ç¨userefæ¥è·åå¯¹è±¡çå¼ç¨ãå·ä½å¦ä½è·åï¼ç¨åå¨userefç¨æ³ä¸­ä¼ææ¼ç¤ºã\n\n# âè¯¥å¼ç¨å¨ç»ä»¶æ´ä¸ªçå½å¨æä¸­é½åºå®ä¸åâï¼\n\nåè®¾éè¿userefè·å¾äºè¯¥å¯¹è±¡çå¼ç¨ï¼é£ä¹å½reactç»ä»¶éæ°æ¸²æåï¼å¦ä½ä¿è¯è¯¥å¼ç¨ä¸ä¸¢å¤±ï¼\nç­ï¼reactå¨åºå±å¸®æä»¬åäºè¿ä¸ªå·¥ä½ï¼æä»¬åªéè¦ç¸ä¿¡ä¹åçå¼ç¨å¯ä»¥ç»§ç»­æ¾å°ç®æ å¯¹è±¡å³å¯ã\n\nè¯·æ³¨æï¼react.createref()ä¹æuserefç¸ä¼¼ææï¼ä½æ¯react.createrefæ æ³å¨é¨éç¨ä¸é¢æå°ç3ç§æåµã\n\nè®©æä»¬åå°userefåºç¡å­¦ä¹ ä¸­ã\n\n\n# userefæ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼userefå¯ä»¥âè·åæäºç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡âçå¼ç¨ï¼ä¸ä¿è¯è¯¥å¼ç¨å¨ç»ä»¶æ´ä¸ªçå½å¨æååºå®ä¸åï¼é½è½åç¡®æ¾å°æä»¬è¦æ¾çå¯¹è±¡ã\nå·ä½å·²ç»å¨userefä¸­åäºè¯¦ç»éè¿°ï¼è¿éä¸åéå¤ã\n\nè¡¥åè¯´æï¼\n1ãuserefæ¯éå¯¹å½æ°ç»ä»¶çï¼å¦ææ¯ç±»ç»ä»¶åä½¿ç¨react.createref()ã\n2ãreact.createref()ä¹å¯ä»¥å¨å½æ°ç»ä»¶ä¸­ä½¿ç¨ã\nåªä¸è¿react.createrefåå»ºçå¼ç¨ä¸è½ä¿è¯æ¯æ¬¡éæ°æ¸²æåå¼ç¨åºå®ä¸åãå¦æä½ åªæ¯ä½¿ç¨react.createrefâå¾ä½âjsxç»ä»¶è½¬æ¢åå¯¹åºççå®domå¯¹è±¡æ¯æ²¡é®é¢çï¼ä½æ¯å¦ææ³âå¾ä½âå¨useeffectä¸­åå»ºçåéï¼é£æ¯åä¸å°çã\n\n2èé½æ³å¯ä»¥âå¾ä½âï¼åªè½ä½¿ç¨userefã\n\n\n# æ³¨ææ³¨æ\n\nå¨åé¢useimperativehandleçå­¦ä¹ ä¸­ï¼ä½ ä¼ç¥éuserefè¿å¯ä»¥ âå¾ä½å¹¶è°ç¨â å­ç»ä»¶åå®ä¹çå½æ°(æ¹æ³)ã\n\n\n> ä»¥ä¸åå®¹æ´æ°äº 2022.04.06\n\n\n# ç¹å«æ³¨æï¼ä¿®æ¹ .current çå¼å¹¶ä¸ä¼è§¦åç»ä»¶éæ°æ¸²æ\n\nå¨æ¬æå¼å¤´ä»ç» useref æ¶ç¨äºè¿å¥è¯ âuseref æ¯âå¾ä½âæäºç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡ï¼å¹¶è¿åè¯¥å¯¹è±¡çå¼ç¨ãâ\n\nä¹å°±æ¯è¯´ åæäº ç»ä»¶æ¸²æï¼ä¹åææ´æ°äº useref ä¸­ .current çå¼ã\n\n> ä¹å°±æ¯è¯´ useref åéç current çå¼å®éä¸æ¯ ç»ä»¶æ¸²æ åçä¸ä¸ªå¯äº§åã\n\nè¿å¥è¯æå«äºå¦å¤ä¸å±å«ä¹ï¼ä¸»å¨æ´æ° useref åéç .current çå¼å¹¶ä¸ä¼è§¦åç»ä»¶éæ°æ¸²æã\n\nä¾å¦ä¸é¢è¿ä¸ªç¤ºä¾ï¼\n\nimport { useref } from \"react\";\n\nexport default function mybutton() {\n  const countref = useref(0)\n\n  const handleclick = () => {\n    countref.current = countref.current + 1\n  };\n\n  return <button onclick={handleclick}>click me {countref.current}</button>;\n}\n\n\nå®éè¿è¡å°±ä¼åç°ï¼å¨ç¹å»äºä»¶ä¸­æä»¬ä¿®æ¹äº countref.current çå¼ï¼å°½ç®¡è¯¥å¼ç¡®å®åçäºååï¼å¯æ¯å¹¶ä¸ä¼è§¦åç»ä»¶çéæ°æ¸²æã\n\n> ä½¿ç¨ usestate() äº§ççåéå¼åçåååï¼æ¯ä¼è§¦åç»ä»¶éæ°æ¸²æçã\n\n\n> ä»¥ä¸åå®¹æ´æ°äº 2022.04.06\n\n\n\n# userefå½æ°æºç ï¼\n\nåå°userefçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸reactæºç ä¸­çreacthooks.jsã\n\n//å¤æ³¨ï¼æºç éç¨typescriptç¼åï¼å¦æä¸ætsä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\nexport function useref<t>(initialvalue: t): {|current: t|} {\n  const dispatcher = resolvedispatcher();\n  return dispatcher.useref(initialvalue);\n}\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨hookâï¼å¹¶ä¸æ¯âhookæºç åæâã^_^\n\n\n# userefåºæ¬ç¨æ³\n\nuseref(initialvalue)å½æ°åªæ1ä¸ªå¯éåæ°ï¼è¯¥åæ°ä¸ºé»è®¤âå¾ä½âçå¯¹è±¡ãç»å¤§å¤æ°å®éçæåµæ¯ï¼é»è®¤âå¾ä½âçå¯¹è±¡å¨jsxæªç¼è¯å(ç»ä»¶æè½½æéæ°æ¸²æå)æ ¹æ¬ä¸å­å¨ï¼æä»¥æ´å¤æ¶åé½ä¼ä¼ ä¸ä¸ª null ä½ä¸ºé»è®¤å¼ãå¦æä¸ä¼ ä»»ä½åæ°ï¼é£ä¹reacté»è®¤å°åæ°è®¾ç½®ä¸ºundefinedã\n\nå°±ç®åæ¬äººæçè§£çï¼æ¥å¸¸ä½¿ç¨è¿ç¨ä¸­useref(null)åuseref() å®éä¸æ¯æ²¡æä»ä¹åºå«çã\n\n----------------------------------------\n\nä»¥ä¸æ´æ°äº 2020.12.10\n\nè¡¥åä¸ä¸ react + typescript ç¥è¯ç¹ï¼\n\nuseref(null) å useref() å¨ react + typescript é¡¹ç®ä¸­è¿æ¯æå·®å«çã\n\nåè®¾æä»¬è¦å¾ä½ä¸ä¸ª <canvas /> domåç´ ï¼é£ä¹ï¼\n\nconst canvasref1 = useref<htmlcanvaselement>(null)\nconst canvasref2 = useref<htmlcanvaselement>()\n\n\nä¸é¢ä»£ç ä¸­ï¼\n\n 1. canvasref1.current çç±»åä¸ºï¼htmlcanvaselement | null\n 2. canvasref2.current çç±»åä¸ºï¼htmlcanvaselement | null | undefined\n\nä»¥ä¸æ´æ°äº 2020.12.10\n\n----------------------------------------\n\nç¬¬2éå¼ºè°ï¼æ¬ææå°çç»ä»¶ï¼é»è®¤é½æ¯æå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶ï¼ä¸å¯ä»¥æ¯èªå®ä¹ç»ä»¶ã\n\næ¥ä¸æ¥å·ä½è¯´è¯´userefå³èå¯¹è±¡ç2ç§ç¨æ³ï¼\n1ãéå¯¹ jsxç»ä»¶ï¼éè¿å±æ§ ref={xxxref} è¿è¡å³èã\n2ãéå¯¹ useeffectä¸­çåéï¼éè¿ xxxref.current è¿è¡å³èã\n\n# ä»£ç å½¢å¼ï¼\n\n//åå®ä¹ä¸ä¸ªxxrefå¼ç¨åéï¼ç¨äºâå¾ä½âæäºç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡\nconst xxref = useref(null);\n\n//éå¯¹ jsxç»ä»¶ï¼éè¿å±æ§ ref={xxxref} è¿è¡å³è\n<xxx ref={xxref} />\n\n//éå¯¹ useeffectä¸­çåéï¼éè¿ xxxref.current è¿è¡å³è\nuseeffect(() => {\n   xxref.current = xxxxxx;\n},[]);\n\n\n# æè§£è¯´æï¼\n\n1ãå·ä½è®²è§£å·²å¨ä¸é¢ç¤ºä¾ä»£ç ä¸­åäºå¤é¡¹æ³¨éï¼æ­¤å¤ä¸åéå¤ï¼\n\n# 'ref'è¡¥åè¯´æ\n\n1ãç»ä»¶ç ref ä¸ºç¹æ®å±æ§åï¼ä»å¹¶ä¸å­å¨ç»ä»¶å±æ§ä¼ å¼ç props ä¸­ã\n2ãå¦æç»ä¸ä¸ªç»ä»¶è®¾å®äº ref å±æ§åï¼ä½æ¯å¯¹åºçå¼å´ä¸æ¯ç± useref åå»ºçï¼é£ä¹å®éè¿è¡ä¸­ä¼æ¶å°reactçæ¥éï¼æ æ³æ­£å¸¸æ¸²æã\n\n# '<xxx>'è¡¥åè¯´æ\n\n1ãuserefåªè½éå¯¹reactä¸­å°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶ï¼æä»¥è¿éç¨çæ¯ <xxx> èä¸æ¯ <xxx>ã\n\n# 'xxxref.current'è¡¥åè¯´æ\n\n1ãå½éè¦ä½¿ç¨âå¾ä½âçå¯¹è±¡æ¶ï¼ä¹æ¯éè¿xxref.currentæ¥è·åè¯¥å¯¹è±¡çã\n\n\n# userefä½¿ç¨ç¤ºä¾1ï¼\n\nè¥æä»¬æä¸ä¸ªç»ä»¶ï¼è¯¥ç»ä»¶åªæä¸ä¸ªè¾å¥æ¡ï¼æä»¬å¸æå½è¯¥ç»ä»¶æè½½å°ç½é¡µåï¼èªå¨è·å¾è¾å¥ç¦ç¹ã\n\néæ±åæï¼\n1ãæä»¬å¯ä»¥å¾è½»æ¾ä½¿ç¨<input >åå»ºåºè¿ä¸ªè¾å¥æ¡ã\n2ãéè¦ä½¿ç¨useref âå¾ä½âè¿ä¸ªè¾å¥æ¡ï¼å½å®è¢«æè½½å°ç½é¡µåï¼éè¿æä½åçhtmlçæ¹æ³ï¼å°ç¦ç¹èµäºè¯¥è¾å¥æ¡ä¸ã\n\nå®æ´ä»£ç å¦ä¸ï¼\n\nimport react,{useeffect,useref} from 'react'\n\nfunction component() {\n  //åå®ä¹ä¸ä¸ªinputrefå¼ç¨åéï¼ç¨äºâå¾ä½âæè½½ç½é¡µåçè¾å¥æ¡\n  const inputref = useref(null);\n\n  useeffect(() => {\n    //inputref.currentå°±æ¯æè½½å°ç½é¡µåçé£ä¸ªè¾å¥æ¡ï¼ä¸ä¸ªçå®domï¼å æ­¤å¯ä»¥è°ç¨htmlä¸­çæ¹æ³focus()\n    inputref.current.focus();\n  },[]);\n\n  return <div>\n      {/* éè¿ ref å±æ§å° inputrefä¸è¯¥è¾å¥æ¡è¿è¡âæé©â */}\n      <input type='text' ref={inputref} />\n    </div>\n}\nexport default component\n\n\næ³¨æï¼\n1ãå¨ç»ç»ä»¶è®¾ç½® ref å±æ§æ¶ï¼åªéä¼ å¥ inputrefï¼åä¸ä¸è¦ä¼ å¥ inputref.currentã\n2ãå¨âå¾ä½âæ¸²æåççå®domè¾å¥æ¡åï¼è½ä¸åªè½è°ç¨åçhtmlä¸­è¯¥æ ç­¾æ¥æçæ¹æ³ã\n\n\n# userefä½¿ç¨ç¤ºä¾2ï¼\n\nè¥æä»¬æä¸ä¸ªç»ä»¶ï¼è¯¥ç»ä»¶çåè½éæ±å¦ä¸ï¼\n1ãç»ä»¶ä¸­æä¸ä¸ªåécountï¼å½è¯¥ç»ä»¶æè½½å°ç½é¡µåï¼countæ¯ç§èªå¨ +1ã\n2ãç»ä»¶ä¸­æä¸ä¸ªæé®ï¼ç¹å»æé®å¯ä»¥åæ­¢countèªå¨+1ã\n\néæ±åæï¼\n1ãå£°æåé¨åécountç¨ usestate\n2ãå¯ä»¥å¨useeffect éè¿setintervalåå»ºä¸ä¸ªè®¡æ¶å¨timerï¼å®ç°countæ¯ç§èªå¨ +1\n3ãå½ç»ä»¶å¸è½½åï¼éè¦éè¿ clearinterval å°timeræ¸é¤\n4ãæé®ç¹å»å¤çå½æ°ä¸­ï¼ä¹è¦éè¿ clearinterval å°timeræ¸é¤\n\nåè®¾æä»¬ä¸ä½¿ç¨userefï¼é£è¯¥å¦ä½å®ç°ï¼\n\nä¸ºäºç¡®ä¿timerå¯ä»¥è¢«useeffectä»¥å¤å°æ¹ä¹è½è®¿é®ï¼æä»¬éå¸¸åæ³æ¯å°timerå£°ææåå°useeffectä»¥å¤ã\nä»£ç å¦ä¸ï¼\n\nimport react,{usestate,useeffect} from 'react'\n\nfunction component() {\n  const [count,setcount] = usestate(0);\n  const [timer,settimer] = usestate(null); //åç¬å£°æå®ä¹timerï¼ç®çæ¯ä¸ºäºè®©ç»ä»¶åææå°æ¹é½å¯ä»¥è®¿é®å°timer\n\n  useeffect(() => {\n    //éè¦ç¨settimer()åè£¹ä½ setinterval()\n    settimer(setinterval(() => {\n        setcount((prevdata) => {return prevdata +1});\n    }, 1000));\n    return () => {\n      //æ¸é¤ætimer\n      clearinterval(timer);\n    }\n  },[]);\n\n  const clickhandler = () => {\n    //æ¸é¤ætimer\n    clearinterval(timer);\n  };\n\n  return (\n    <div>\n        {count}\n        <button onclick={clickhandler} >stop</button>\n    </div>\n  )\n}\n\nexport default component\n\n\nå¦æä½¿ç¨userefï¼è¯¥å¦ä½å®ç°ï¼ ä»£ç å¦ä¸ï¼\n\nimport react,{usestate,useeffect,useref} from 'react'\n\nfunction component() {\n  const [count,setcount] =  usestate(0);\n  const timerref = useref(null);//åå®ä¹ä¸ä¸ªtimerrefå¼ç¨åéï¼ç¨äºâå¾ä½âuseeffectä¸­éè¿setintervaleåå»ºçè®¡æ¶å¨\n\n  useeffect(() => {\n    //å°timerref.currentä¸setintervaleåå»ºçè®¡æ¶å¨è¿è¡âæé©â\n    timerref.current = setinterval(() => {\n        setcount((prevdata) => { return prevdata +1});\n    }, 1000);\n    return () => {\n        //éè¿timerref.currentï¼æ¸é¤æè®¡æ¶å¨\n        clearinterval(timerref.current);\n    }\n  },[]);\n\n  const clickhandler = () => {\n    //éè¿timerref.currentï¼æ¸é¤æè®¡æ¶å¨\n    clearinterval(timerref.current);\n  };\n\n  return (\n    <div>\n        {count}\n        <button onclick={clickhandler} >stop</button>\n    </div>\n  )\n}\n\nexport default component\n\n\nä¸¤ç§å®ç°æ¹å¼å¯¹æ¯ï¼\n\n1ãä¸¤ç§å®ç°æ¹å¼æä¸»è¦çå·®å¼å°æ¹å¨äº å¦ä½åå»ºç»ä»¶åå¯¹è®¡æ¶å¨çå¼ç¨ã\n2ãä¸¤ç§åå»ºå¼ç¨çæ¹å¼ï¼åå«æ¯ï¼ç¨usestateåå»ºçtimerãç¨userefåå»ºçtimerref\n3ãå¨ä½¿ç¨setintervalæ¶ï¼ç¸å¯¹æ¥è¯´timerref.currentæ´å å¥½ç¨ç®åï¼ç»ææ¸æ°ï¼ä¸éè¦å settimeré£æ ·éè¦åå¤1å±åè£¹ã\n4ãtimeræ´åæ¯ä¸ç§reactå¯¹è®¡æ¶å¨çæ å°ï¼ètimerrefç´æ¥å°±æ¯çå®domä¸­è®¡æ¶å¨çå¼ç¨ï¼timerrefè½å¤è°ç¨æ´å¤çåçhtmlä¸­çjsæ¹æ³åå±æ§ã\n\nç»è®ºï¼\n1ãå¦æéè¦å¯¹æ¸²æåçdomèç¹è¿è¡æä½ï¼å¿é¡»ä½¿ç¨userefã\n2ãå¦æéè¦å¯¹æ¸²æåæä¼å­å¨çåéå¯¹è±¡è¿è¡æäºæä½ï¼å»ºè®®ä½¿ç¨userefã\n\nç¬¬3éå¼ºè°ï¼userefåªéåâå¾ä½âå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶ãå¦ææ¯èªå®ä¹çreactç»ä»¶(èªå®ä¹çç»ä»¶å¿é¡»å¤§åå­æ¯å¼å¤´)ï¼é£ä¹æ¯æ æ³ä½¿ç¨userefçã\n\n\n> ä»¥ä¸åå®¹æ´æ°äº 2022.05.20\n\n\n# userefä½¿ç¨ç¤ºä¾3ï¼ç¶ç»ä»¶è°ç¨å­ç»ä»¶ä¸­çå½æ°\n\né¦åç¹å«å¼ºè°ï¼é¤éæåµéå¸¸ç¹æ®ï¼å¦åä¸è¬æåµä¸é½ä¸è¦éç¨ ç¶ç»ä»¶è°ç¨å­ç»ä»¶çå½æ° è¿ç§ç­ç¥ã\n\n\nä½¿ç¨ useref å®ç°ç¶ç»ä»¶è°ç¨å­ç»ä»¶ä¸­çå½æ° å®ç°æè·¯ï¼\n\n 1. ç¶ç»ä»¶ä¸­éè¿ useref å®ä¹ä¸ä¸ªé©å­åéï¼ä¾å¦ childfunref\n\n 2. ç¶ç»ä»¶éè¿åæ°éç½®ï¼å° childfunref ä¼ éç»å­ç»ä»¶\n\n 3. å­ç»ä»¶å¨èªå·±ç useeffect() ä¸­å®ä¹ä¸ä¸ªå½æ°ï¼ä¾å¦ dosomting()\n    \n    > åéç¹ï¼ä¸å®è¦å¨ useeffect() ä¸­å®ä¹ dosomting()ï¼ä¸è½ç´æ¥å¨å­ç»ä»¶åé¨å®ä¹ã\n    > \n    > å ä¸ºå¦æ dosomting() å®ä¹å¨å­ç»ä»¶åé¨ï¼é£ä¹å°±ä¼é ææ¯ä¸æ¬¡ç»ä»¶å·æ°é½ä¼éæ°çæä¸ä»½ dosomthing()\n\n 4. ç¶åå° dosomting() èµå¼å° childfunref.current ä¸­\n\n 5. è¿æ ·ï¼å½ç¶ç»ä»¶æ³è°ç¨å­ç»ä»¶ä¸­ç dosomting() æ¶ï¼å¯æ§è¡ childfunref.current.dosomting()\n\n\nå·ä½ç¤ºä¾ä»£ç ï¼\n\nparentcomponent\n\nimport { useref } from \"react\";\nimport childcomponent from \"./child\";\n\nconst parentcomponent = () => {\n  const childfunref = useref();\n  const handleonclick = () => {\n    if (childfunref.current) {\n      childfunref.current.dosomething();\n    }\n  };\n  return (\n    <div>\n      <childcomponent funref={childfunref} />\n      <button onclick={handleonclick}>æ§è¡å­é¡¹çdosomething()</button>\n    </div>\n  );\n};\n\nexport default parentcomponent;\n\n\n\nchildcomponent\n\nimport { useeffect, usestate } from \"react\";\n\nconst childcomponent = ({ funref }) => {\n  const [num, setnum] = usestate(0);\n  useeffect(() => {\n    const dosomething = () => {\n      setnum(math.floor(math.random() * 100));\n    };\n    funref.current = { dosomething }; //å¨å­ç»ä»¶ä¸­ä¿®æ¹ç¶ç»ä»¶ä¸­å®ä¹çchildfunrefçå¼\n  }, [funref]);\n  return <div>{num}</div>;\n};\n\nexport default childcomponent;\n\n\n\nç¹å«è¯´æï¼\n\n 1. ä¸ä¸ç« è¦è®²è§£ç useimperativehandle ä¹æ¯ç¨æ¥å®ç° ç¶ç»ä»¶è°ç¨å­ç»ä»¶åå®ä¹çå½æ°çã\n\n 2. åæ¬¡å¼ºè°ï¼å¦éå¿è¦ï¼ççä¸è¦ä½¿ç¨ ç¶ç»ä»¶è°ç¨å­ç»ä»¶åå½æ° è¿ç§ç­ç¥ã\n    \n    > æè¿æéå°äºä¸ä¸ªéæ±ï¼å­ç»ä»¶æ¯ä¸ä¸ªç¬¬ä¸æ¹åå¥½çè½®æ­å¾ï¼ç¶ç»ä»¶éè¦è°ç¨è¿ä¸ªè½®æ­å¾ç next() çå½æ°æ¥åæ¢ä¸ä¸å¼ ï¼æä»¥æä½¿ç¨äºè¿ç§ç­ç¥ã\n\n> ä»¥ä¸åå®¹æ´æ°äº 2022.05.20\n\n\n----------------------------------------\n\n> ä»¥ä¸åå®¹æ´æ°äº2020.11.18\n\n# å¨ typescript ä¸­ä½¿ç¨ useref åå»ºè®¡æ¶å¨æ³¨æäºé¡¹ï¼\n\nå¨ä¸é¢ä»£ç ç¤ºä¾ä¸­ï¼è¯·æ³¨æè¿ä¸è¡ä»£ç ï¼\n\ntimerref.current = setinterval(() => {\n        setcount((prevdata) => { return prevdata +1});\n    }, 1000);\n\n\nå¦ææ¯å¨ ts è¯­æ³ä¸ï¼ä¸é¢çä»£ç ä¼æ¥éè¯¯ï¼\n\nä¸è½å°ç±»åâtimeoutâåéç»ç±»åânumberâã\n\n\ntimeout ???\n\né æè¿ä¸ªéè¯¯æç¤ºçåå æ¯ï¼\n\n 1. typescript æ¯è¿è¡å¨ nodejs ç¯å¢ä¸çï¼ts ç¼è¯ä¹åçä»£ç æ¯è¿è¡å¨æµè§å¨ç¯å¢ä¸çã\n 2. nodejs åæµè§å¨ä¸­ç window ä»ä»¬åèªå®ç°äºä¸å¥èªå·±ç setinterval\n 3. åæ¥ä»£ç  timerref.current = setinterval( ... ) ä¸­ setinterval ä¼è¢« ts è®¤ä¸ºæ¯ nodejs å®ä¹ç setintervalï¼è nodejs ä¸­ setinterval è¿åçç±»åå°±æ¯ nodejs.timeoutã\n 4. æä»¥ï¼æä»¬éè¦å°ä¸è¿°ä»£ç ä¿®æ¹ä¸ºï¼timerref.current = window.setinterval( ... )ï¼æç¡®æä»¬è°ç¨çæ¯ window.setintervalï¼èä¸æ¯ nodejs ç setintervalã\n\néä¸ä¸ª ts ä»£ç ç¤ºä¾ï¼\n\nimport react, { useref, useeffect } from 'react'\n\nconst mytemp = () => {\n    const timer = useref<number | undefined>()\n\n    useeffect(() => {\n        timer.current = window.setinterval(() => {\n            console.log(0)\n        }, 1000)\n\n        return () => {\n            clearinterval(timer.current)\n        }\n    }, [])\n    return (\n        <div></div>\n    )\n}\n\nexport default mytemp\n\n\n> ä»¥ä¸åå®¹æ´æ°äº2020.11.18\n\n----------------------------------------\n\n> ä»¥ä¸åå®¹æ´æ°äº2020.12.03\n\n# å¨ typescript ä¸­ç» useref.current èµå¼çæ³¨æäºé¡¹\n\nå¨ jsx æä»¶ä¸­ï¼ä»¥ä¸ä»£ç æ¯ä¸ä¼æé®é¢çã\n\nconst myref = useref(null)\n...\nmyref.current = xxxx\n\n\nä½æ¯ï¼å¨æä»¬ä½¿ç¨ typescript ä¹åï¼æç§ä¹ æ¯æ¹æä»¥ä¸ä»£ç ï¼\n\nconst myref = useref<xxx>(null)\n...\nmyref.current = xxx\n\n\næ­¤æ¶ï¼ä¼æ¶å° typescript çæ¥éï¼æ æ³åéå° \"current\" ï¼å ä¸º myref.current æ¯åªè¯»å±æ§ã\n\næ¥éåå ï¼\n\nreact çä½èå¹¶æ²¡æè§å®ä½¿ç¨ useref(null) ä¹å myref.current å°±ä¸å¯ä»¥åä¿®æ¹äºã\n\nä½æ¯ typescript çä½èè®¤ä¸ºï¼è¥ä½¿ç¨ useref(null) ä¹åï¼myref å°±åºè¯¥äº¤ç± react æ¥æç®¡ï¼å¤çä¸åºè¯¥ææå©å»ä¿®æ¹ myref.currentï¼å æ­¤æ­¤æ¶ä¼æ myref.current å½ååªè¯»å±æ§ã\n\nè§£å³æ¹å¼ï¼\n\nè§£å³æ¹å¼1ï¼ä¸ç» useref è®¾ç½® null è¿ä¸ªé»è®¤å¼\n\nconst myref = useref<xxx>()\n\n\nè§£å³æ¹å¼2ï¼å°±æ¯å°åæ¬çç±»åå®ä¹ï¼ä¿®æ¹æä»¥ä¸ï¼\n\nconst myref = useref<xxx | null>(null)\n\n//æèæ¯\n\nconst myref = useref<xxx | undefined>()\n\n\nmyref.current çæ°æ®ç±»åï¼é¤äº xxx ä¹å¤ï¼åå ä¸ null æ undefined ï¼è¿æ · typescript å°±è®¤ä¸º myref.current å¯è½ä¸­éä¼åçä¿®æ¹ï¼å æ­¤ä¸ä¼åå°å¶è®¾ç½®ä¸ºåªè¯»å±æ§ï¼æ­¤æ¶åå»æ§è¡ myref.current = xxx ä¸åä¼æ¥éã\n\néªè¯ä¸ä¸ï¼\n\næä»¬åå»ççä¸é¢ 2020.11.18 æ´æ°ç typescript ä»£ç ç¤ºä¾ä¸­ï¼\n\nç±äºå°æ¥éè¦æ§è¡ timer.current = window.setinterval ( ... )ï¼ä¹å°±æ¯è¯´éè¦ç» timer.current èµå¼ã\n\næä»¥å¨å®ä¹æ¶å°±ä½¿ç¨ä»¥ä¸æ¹å¼ï¼ä»¥ç¡®ä¿ timer.current ä¸ä¼è¢« ts è®¤ä¸ºæ¯åªè¯»å±æ§ï¼\n\nconst timer = useref<number | undefined>()\n\n\n> ä»¥ä¸åå®¹æ´æ°äº2020.12.03\n\n----------------------------------------\n\n\n# é£å¦ä½âå¾ä½âèªå®ä¹ç»ä»¶ä¸­çâå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶âï¼\n\nç­ï¼ä½¿ç¨react.forwardref()ã\n\n# ä½ æ¯å¦æèè¿è¿ä¸ªé®é¢ï¼èªå®ä¹ç»ä»¶å°åºæ¯ä»ä¹ï¼\n\né¦åçä¸ä¸âå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶âï¼ä¾å¦<button>ã<input >ï¼æä»¬å¾å®¹æçè§£ä»æ¯reactåç½®çç±»ä¼¼åçdomçç»ä»¶ï¼æç»é½å°ç´æ¥è½¬æ¢æå¯¹åºççå®domã\n\né£èªå®ä¹ç»ä»¶åè¯¥å¦ä½çè§£ï¼å¦ä½å®ä¹å¢ï¼\n\nåè®¾æä»¬æä¸ä¸ªèªå®ä¹ç»ä»¶<mycomponent>ï¼é£ä¹æä»¥ä¸å ç¹æ¯å¯ä»¥è¯å®çï¼\n1ã<mycomponent>åé¨returnåºå»çï¼å¯ä»¥æ¯å°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶ï¼ä¹å¯ä»¥æ¯å¶ä»èªå®ä¹ç»ä»¶ã\n2ãæ è®ºåµå¥å¤å°æ¬¡ï¼æåºå±ç»ä»¶returnåºå»çï¼ä¸å®æ¯å°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶ã\n3ã<mycomponent>åé¨ä¸å®åå»ºäºåéãå¤çå½æ°ç­ç­ã\n4ãæè½½ææ¸²æåçå®éç½é¡µä¸­ï¼å¹¶ä¸ä¼å­å¨<mycomponent>è¿ä¸ªæ ç­¾ï¼å­å¨çä¾ç¶æ¯åç§åçhtmlæ ç­¾ã\n\nä¸ºäºç®åæ´å å®¹æçè§£ï¼ææ¶å§ä¸åæâå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶âç´æ¥å½åâåçhtmlæ ç­¾âã\né£ä¹âèªå®ä¹ç»ä»¶âåâåçhtmlæ ç­¾âç©¶ç«åºå«å¨åªéå¢ï¼\n\nåä¸åç­è¿ä¸ªé®é¢ï¼åè¯´å¦å¤ä¸ä¸ªé®é¢ï¼äº¤äºå¼htmlé¡µé¢é½æåªäºææï¼\nç­ï¼æåç§htmlæ ç­¾ + jså¯¹è±¡(jsä¸­å®ä¹çåéåå½æ°)\n\né£æä»¬ä½¿ç¨reactå¼åé¡µé¢ï¼âåçhtmlæ ç­¾âæäºï¼é£è¿ç¼ºä»ä¹ï¼ å½ç¶æ¯ jså¯¹è±¡(jsä¸­å®ä¹çåéåå½æ°)ã\n\nååé¡¾ä¸ä¸é®é¢ï¼âèªå®ä¹ç»ä»¶âåâåçhtmlæ ç­¾âç©¶ç«åºå«å¨åªéå¢ï¼\nç­ï¼âèªå®ä¹ç»ä»¶âé¤äºæ¥æâåçhtmlæ ç­¾âï¼è¿æ¥æjså¯¹è±¡(jsä¸­å®ä¹çåéåå½æ°)ã\n\nååé¡¾ä¸ä¸å¼å§ççé®ï¼èªå®ä¹ç»ä»¶å°åºæ¯ä»ä¹ï¼\nç­ï¼å¶å®æ ¹æ¬ä¸å­å¨èªå®ä¹ç»ä»¶ï¼æè°èªå®ä¹ç»ä»¶ï¼åªä¸è¿æ¯reactç»æä»¬çåç§è¯­æ³ç³ï¼reactå¹¶æ²¡æåé å¦å¤ä¸é¨è¯­è¨ï¼reactæ´ä½å°±æ¯åçjsçè¯­æ³ç³ã\n\njsxè¯­æ³ + hook ç»åèµ·æ¥ï¼å½¢æä¸ä¸ªå¼ºå¤§çè¯­æ³ç³ï¼è®©ä½ ç¼åhtmlæ ç­¾åjsæ´å ç®ä¾¿èå·²ã è¯­æ³ç³çå¯¹è±¡å°±æ¯ï¼åçhtmlæ ç­¾ + jså¯¹è±¡(jsä¸­å®ä¹çåéåå½æ°)ã\n\nè¿å°±è§£éäºä¸ºå¥èªå®ä¹ç»ä»¶ return åºå»çåå®¹ï¼æå¤å±å¿é¡»æä¸ä¸ªåçhtmlæ ç­¾ã è¯´ç½äºï¼æ è®ºä½ æä¹å®ä¹ï¼æè¾è¿ä¸ªèªå®ä¹ç»ä»¶ï¼æ¬è´¨ä¸é½è¦ä¿è¯è¿ä¸ªèªå®ä¹ç»ä»¶æç»é½è½è½¬æ¢æä¸æ®µåçhtmlä»£ç ã\n\nä¸é¢è¿ä¸å¤§æ®µè¯é½æ¯âç®åå°ä¸è½åç®åçéçâï¼ä½æ¯ä½ åªæçè§£éè¿ä¸å±ï¼çè§£èªå®ä¹ç»ä»¶ãçè§£reactç©¶ç«æ¯ä»ä¹ä¹åï¼ä½ ä¼å¯¹äºå­¦ä¹ reactåç§apiåhookæä¼æ´å å®¹æçè§£åæ¥åã\n\nè®©æä»¬åå° é£å¦ä½âå¾ä½âèªå®ä¹ç»ä»¶ä¸­çâå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶âï¼ è¿ä¸ªé®é¢ä¸æ¥ã\n\n# react.forwardref() çå·ä½ç¨æ³\n\nreact.forwardref()åè£¹ä½è¦è¾åºçç»ä»¶ï¼ä¸å°ç¬¬2ä¸ªåæ°è®¾ç½®ä¸º ref å³å¯ï¼ç¤ºä¾ä»£ç ï¼\n\nimport react from 'react'\n\nconst childcomponent = react.forwardref((props,ref) => {\n  //å­ç»ä»¶éè¿å°ç¬¬2ä¸ªåæ°ref æ·»å å°åé¨çæ­£çâå°åå¼å¤´çç±»ä¼¼åçæ ç­¾çç»ä»¶âä¸­ \n  return <button ref={ref}>{props.label}</button>\n});\n\n/* ä¸é¢çå­ç»ä»¶ç´æ¥å¨ç¶ç»ä»¶åå®ä¹äºï¼å¦æå­ç»ä»¶æ¯åç¬ç.jsæä»¶ï¼åå¯ä»¥éè¿\n   export default react.forwardref(childcomponent) è¿ç§å½¢å¼  */\n\nfunction forward() {\n  const ref = react.useref();//ç¶ç»ä»¶å®ä¹ä¸ä¸ªref\n  const clickhandle = () =>{\n    console.log(ref.current);//ç¶ç»ä»¶è·å¾æ¸²æåå­ç»ä»¶ä¸­å¯¹åºçdomèç¹å¼ç¨\n  }\n  return (\n    <div>\n        {/* ç¶ç»ä»¶éè¿ç»å­ç»ä»¶æ·»å å±æ§ ref={ref} å°refä½ä¸ºåæ°ä¼ éç»å­ç»ä»¶ */}\n        <childcomponent label='child bt' ref={ref} />\n        <button onclick={clickhandle} >get child bt ref</button>\n    </div>\n  )\n}\nexport default forward;\n\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseref()åºç¡ç¨æ³ãreact.forwardref()å·²ç»è®²å®ã è¿2ä¸ªå½æ°çææ¡ï¼ä¼å¯¹ä¸ä¸ä¸ªè¦è®²çhookï¼useimperativehandle éå¸¸æç¨ã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"13 useImperativeHandleåºç¡ç¨æ³",frontmatter:{title:"13 useImperativeHandleåºç¡ç¨æ³",date:"2023-09-13T14:48:20.000Z",permalink:"/pages/ede426/"},regularPath:"/03.react/13.useImperativeHandle%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95.html",relativePath:"03.react/13.useImperativeHandleåºç¡ç¨æ³.md",key:"v-866ffc9c",path:"/pages/ede426/",headers:[{level:2,title:"useImperativeHandleæ¦å¿µè§£é",slug:"useimperativehandleæ¦å¿µè§£é",normalizedTitle:"useimperativehandleæ¦å¿µè§£é",charIndex:33},{level:2,title:"useImperativeHandleæ¯æ¥è§£å³ä»ä¹é®é¢çï¼",slug:"useimperativehandleæ¯æ¥è§£å³ä»ä¹é®é¢ç",normalizedTitle:"useimperativehandleæ¯æ¥è§£å³ä»ä¹é®é¢çï¼",charIndex:463},{level:2,title:"useImperativeHandleå½æ°æºç ï¼",slug:"useimperativehandleå½æ°æºç ",normalizedTitle:"useimperativehandleå½æ°æºç ï¼",charIndex:777},{level:2,title:"useImperativeHandleåºæ¬ç¨æ³",slug:"useimperativehandleåºæ¬ç¨æ³",normalizedTitle:"useimperativehandleåºæ¬ç¨æ³",charIndex:1237},{level:5,title:"ä»£ç å½¢å¼ï¼",slug:"ä»£ç å½¢å¼",normalizedTitle:"ä»£ç å½¢å¼ï¼",charIndex:1584},{level:5,title:"æè§£è¯´æï¼",slug:"æè§£è¯´æ",normalizedTitle:"æè§£è¯´æï¼",charIndex:1925},{level:2,title:"useImperativeHandleä½¿ç¨ç¤ºä¾ï¼",slug:"useimperativehandleä½¿ç¨ç¤ºä¾",normalizedTitle:"useimperativehandleä½¿ç¨ç¤ºä¾ï¼",charIndex:2195},{level:4,title:"æèä¸ä¸ççæå¿è¦ä½¿ç¨useImperativeHandleåï¼",slug:"æèä¸ä¸ççæå¿è¦ä½¿ç¨useimperativehandleå",normalizedTitle:"æèä¸ä¸ççæå¿è¦ä½¿ç¨useimperativehandleåï¼",charIndex:3465},{level:4,title:"è¯´ä¸ä¸ªæç¹ç»çæåµ",slug:"è¯´ä¸ä¸ªæç¹ç»çæåµ",normalizedTitle:"è¯´ä¸ä¸ªæç¹ç»çæåµ",charIndex:3783}],headersStr:"useImperativeHandleæ¦å¿µè§£é useImperativeHandleæ¯æ¥è§£å³ä»ä¹é®é¢çï¼ useImperativeHandleå½æ°æºç ï¼ useImperativeHandleåºæ¬ç¨æ³ ä»£ç å½¢å¼ï¼ æè§£è¯´æï¼ useImperativeHandleä½¿ç¨ç¤ºä¾ï¼ æèä¸ä¸ççæå¿è¦ä½¿ç¨useImperativeHandleåï¼ è¯´ä¸ä¸ªæç¹ç»çæåµ",content:"# 13 useImperativeHandleåºç¡ç¨æ³\n\n\n# useImperativeHandleæ¦å¿µè§£é\n\næä»¬ç¬¬å«ä¸ªè¦å­¦ä¹ çHook(é©å­å½æ°)æ¯useImperativeHandleï¼ä»çä½ç¨æ¯âå¾ä½âå­ç»ä»¶ä¸­æäºå½æ°(æ¹æ³)ä¾ç¶ç»ä»¶è°ç¨ã\n\nååé¡¾ä¸ä¸ä¹åå­¦å°çã\nç¬¬1ä¸ªç¥è¯ç¹ï¼\nreactå±äºååæ°æ®æµï¼ç¶ç»ä»¶å¯ä»¥éè¿å±æ§ä¼ å¼ï¼å°ç¶ç»ä»¶åçå½æ°(æ¹æ³)ä¼ éç»å­ç»ä»¶ï¼å®ç°å­ç»ä»¶è°ç¨ç¶ç»ä»¶åå½æ°çç®çã\n\nç¬¬2ä¸ªç¥è¯ç¹ï¼\n1ãuseRef å¯ä»¥âå¾ä½âæäºæ¬ç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡ã\n2ãReact.forwardRef å¯ä»¥âå¾ä½âæäºå­ç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡ã\nä¸é¢æ è®ºåªç§æåµï¼ç±äºå¾ä½çå¯¹è±¡é½æ¯æ¸²æåçåçhtmlå¯¹è±¡ï¼ç¶ç»ä»¶åªè½éè¿refè°ç¨è¯¥åçhtmlå¯¹è±¡çå½æ°(æ¹æ³)ã\n\nå¦æç¶ç»ä»¶æ³è°ç¨å­ç»ä»¶ä¸­èªå®ä¹çæ¹æ³ï¼è¯¥æä¹åï¼\nç­ï¼ä½¿ç¨useImperativeHandle()ã\n\nè®©æä»¬åå°useImperativeHandleåºç¡å­¦ä¹ ä¸­ã\n\n\n# useImperativeHandleæ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼useImperativeHandleå¯ä»¥è®©ç¶ç»ä»¶è·åå¹¶æ§è¡å­ç»ä»¶åæäºèªå®ä¹å½æ°(æ¹æ³)ãæ¬è´¨ä¸å¶å®æ¯å­ç»ä»¶å°èªå·±åé¨çå½æ°(æ¹æ³)éè¿useImperativeHandleæ·»å å°ç¶ç»ä»¶ä¸­useRefå®ä¹çå¯¹è±¡ä¸­ã\n\nè¡¥åè¯´æï¼\n1ãuseRefåå»ºå¼ç¨åé\n2ãReact.forwardRefå°å¼ç¨åéä¼ éç»å­ç»ä»¶\n3ãuseImperativeHandleå°å­ç»ä»¶åå®ä¹çå½æ°ä½ä¸ºå±æ§ï¼æ·»å å°ç¶ç»ä»¶ä¸­çrefå¯¹è±¡ä¸ã\n\nå æ­¤ï¼å¦ææ³ä½¿ç¨useImperativeHandleï¼é£ä¹è¿è¦ç»åuseRefãReact.forwardRefä¸èµ·ä½¿ç¨ã\n\n\n# useImperativeHandleå½æ°æºç ï¼\n\nåå°useImperativeHandleçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸Reactæºç ä¸­çReactHooks.jsã\n\n//å¤æ³¨ï¼æºç éç¨TypeScriptç¼åï¼å¦æä¸æTSä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\nexport function useImperativeHandle<T>(\n  ref: {|current: T | null|} | ((inst: T | null) => mixed) | null | void,\n  create: () => T,\n  deps: Array<mixed> | void | null,\n): void {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useImperativeHandle(ref, create, deps);\n}\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨Hookâï¼å¹¶ä¸æ¯âHookæºç åæâã^_^\n\n\n# useImperativeHandleåºæ¬ç¨æ³\n\nuseImperativeHandle(ref,create,[deps])å½æ°å2ä¸ªåæ°ä¸ºå¿å¡«é¡¹ï¼ç¬¬3ä¸ªåæ°ä¸ºå¯éé¡¹ã\nç¬¬1ä¸ªåæ°ä¸ºç¶ç»ä»¶éè¿useRefå®ä¹çå¼ç¨åéï¼\nç¬¬2ä¸ªåæ°ä¸ºå­ç»ä»¶è¦éå ç»refçå¯¹è±¡ï¼è¯¥å¯¹è±¡ä¸­çå±æ§å³å­ç»ä»¶æ³è¦æ´é²ç»ç¶ç»ä»¶çå½æ°(æ¹æ³)ï¼\nç¬¬3ä¸ªåæ°ä¸ºå¯éåæ°ï¼ä¸ºå½æ°çä¾èµåéãå¡æ¯å½æ°ä¸­ä½¿ç¨å°çæ°æ®åéé½éè¦æ¾å¥depsä¸­ï¼å¦æå¤çå½æ°æ²¡æä»»ä½ä¾èµåéï¼å¯ä»¥å¿½ç¥ç¬¬3ä¸ªåæ°ã\n\nè¯·æ³¨æï¼\n1ãè¿éé¢è¯´çâå¾ä½å­ç»ä»¶åèªå®ä¹å½æ°âæ¬è´¨ä¸æ¯å­ç»ä»¶å°åé¨èªå®ä¹çå½æ°æ·»å å°ç¶ç»ä»¶çref.currentä¸é¢ã\n2ãç¶ç»ä»¶è¥æ³è°ç¨å­ç»ä»¶æ´é²ç»èªå·±çå½æ°ï¼å¯ä»¥éè¿ res.current.xxx æ¥è®¿é®ææ§è¡ã\n\n# ä»£ç å½¢å¼ï¼\n\nconst xxx = () => {\n    //do smoting...\n}\nuseImperativeHandle(ref,() => ({xxx}));\n\n\nä¸è¿°ä»£ç ä¸­ï¼useImperativeHandle(ref,() => ({xxx})) å¶å®æ¯ useImperativeHandle(ref,() => {return {xxx:xxx}})çç®åã\n\nç¹å«æ³¨æï¼() => ({xxx}) ä¸å¯ä»¥åç®åæ () => {xxx}ï¼å¦æè¿æ ·åä¼ç´æ¥reactæ¥éã\nå ä¸ºè¿ä¸¤ç§åæ³ææå®å¨ä¸ä¸æ ·ï¼\n1ã() => ({xxx}) è¡¨ç¤º è¿åä¸ä¸ªobjectå¯¹è±¡ï¼è¯¥å¯¹è±¡ä¸º{xxx}\n2ã() => {xxx} è¡¨ç¤º æ§è¡ xxx è¯­å¥ä»£ç \n\n# æè§£è¯´æï¼\n\n1ãå­ç»ä»¶åé¨åå®ä¹ä¸ä¸ª xxx å½æ°\n2ãéè¿useImperativeHandleå½æ°ï¼å° xxxå½æ°åè£æä¸ä¸ªå¯¹è±¡ï¼å¹¶å°è¯¥å¯¹è±¡æ·»å å°ç¶ç»ä»¶åé¨å®ä¹çrefä¸­ã\n3ãè¥ xxx å½æ°ä¸­ä½¿ç¨å°äºå­ç»ä»¶åé¨å®ä¹çåéï¼åè¿éè¦å°è¯¥åéä½ä¸º ä¾èµåé æä¸ºuseImperativeHandleç¬¬3ä¸ªåæ°ï¼ä¸é¢ç¤ºä¾ä¸­åéæ©å¿½ç¥äºç¬¬3ä¸ªåæ°ã\n4ãè¥ç¶ç»ä»¶éè¦è°ç¨å­ç»ä»¶åç xxxå½æ°ï¼åéè¿ï¼res.current.xxx()ã\n5ãè¯·æ³¨æï¼è¯¥å­ç»ä»¶å¨å¯¼åºæ¶å¿é¡»è¢« React.forwardRef()åè£¹ä½æå¯ä»¥ã\n\n\n# useImperativeHandleä½¿ç¨ç¤ºä¾ï¼\n\nä¸¾ä¾ï¼è¥æå­ç»ä»¶çéæ±ä¸ºï¼\n1ãæåécountï¼é»è®¤å¼ä¸º0\n2ãæä¸ä¸ªå½æ° addCountï¼è¯¥å½æ°ä½åé¨æ§è¡ count+1\n3ãæä¸ä¸ªæé®ï¼ç¹å»æé®æ§è¡ addCount å½æ°\n\nç¶ç»ä»¶çéæ±ä¸ºï¼\n1ãç¶ç»ä»¶åä½¿ç¨ä¸è¿°å­ç»ä»¶\n2ãç¶ç»ä»¶åæä¸ä¸ªæé®ï¼ç¹å»æ§è¡ä¸è¿°å­ç»ä»¶åå®ä¹çå½æ° addCount\n\nå­ç»ä»¶çä»£ç ä¸ºï¼\n\nimport React,{useState,useImperativeHandle} from 'react'\n\nfunction ChildComponent(props,ref) {\n  const [count,setCount] =  useState(0); //å­ç»ä»¶å®ä¹åé¨åécount\n  //å­ç»ä»¶å®ä¹åé¨å½æ° addCount\n  const addCount = () => {\n    setCount(count + 1);\n  }\n  //å­ç»ä»¶éè¿useImperativeHandleå½æ°ï¼å°addCountå½æ°æ·»å å°ç¶ç»ä»¶ä¸­çref.currentä¸­\n  useImperativeHandle(ref,() => ({addCount}));\n  return (\n    <div>\n        {count}\n        <button onClick={addCount}>child</button>\n    </div>\n  )\n}\n\n//å­ç»ä»¶å¯¼åºæ¶éè¦è¢«React.forwardRefåè£¹ï¼å¦åæ æ³æ¥æ¶ refè¿ä¸ªåæ°\nexport default React.forwardRef(ChildComponent);\n\n\nç¶ç»ä»¶çä»£ç ä¸ºï¼\n\nimport React,{useRef} from 'react'\nimport ChildComponent from './childComponent'\n\nfunction Imperative() {\n  const childRef = useRef(null); //ç¶ç»ä»¶å®ä¹ä¸ä¸ªå¯¹å­ç»ä»¶çå¼ç¨\n\n  const clickHandle = () => {\n    childRef.current.addCount(); //ç¶ç»ä»¶è°ç¨å­ç»ä»¶åé¨ addCountå½æ°\n  }\n\n  return (\n    <div>\n        {/* ç¶ç»ä»¶éè¿ç»å­ç»ä»¶æ·»å  ref å±æ§ï¼å°childRefä¼ éç»å­ç»ä»¶ï¼\n            å­ç»ä»¶è·å¾è¯¥å¼ç¨å³å¯å°åé¨å½æ°æ·»å å°childRefä¸­ */}\n        <ChildComponent ref={childRef} />\n        <button onClick={clickHandle}>child component do somting</button>\n    </div>\n  )\n}\n\nexport default Imperative;\n\n\n# æèä¸ä¸ççæå¿è¦ä½¿ç¨useImperativeHandleåï¼\n\nä»å®éè¿è¡çç»æï¼æ è®ºç¹å»å­ç»ä»¶è¿æ¯ç¶ç»ä»¶åçæé®ï¼é½å°æ§è¡ addCountå½æ°ï¼ä½¿ count+1ã\n\nreactä¸ºååæ°æ®æµï¼å¦æä¸ºäºå®ç°è¿ä¸ªææï¼æä»¬å®å¨å¯ä»¥æéæ±è½¬åæå¦å¤ä¸ç§è¯´æ³ï¼å³ï¼\n1ãç¶ç»ä»¶åå®ä¹ä¸ä¸ªåécount å addCountå½æ°\n2ãç¶ç»ä»¶æ count å addCount éè¿å±æ§ä¼ å¼ ä¼ éç»å­ç»ä»¶\n3ãç¹å»å­ç»ä»¶åæé®æ¶è°ç¨ç¶ç»ä»¶åå®ä¹ç addCountå½æ°ï¼ä½¿ count +1ã\n\nä½ ä¼åç°å³ä½¿æéæ±ä¸­ç ç¶ä¸å­ç»ä»¶ æè¿°å¯¹è°ä¸ä¸ï¼âæç»å®éææâæ¯ä¸æ ·çã\n\næä»¥ï¼å°åºä½¿ç¨åªç§å½¢å¼ï¼éè¦æ ¹æ®ç»ä»¶å®ééæ±æ¥åå®å¤ºã\n\n# è¯´ä¸ä¸ªæç¹ç»çæåµ\n\nå­ç»ä»¶å¯¼åºæ¶ï¼\n1ãåè®¾æä¸ªå­ç»ä»¶ä¸ºäºæé«æ§è½ï¼å¯¼åºæ¶éè¦ç¨React.memoåè£¹ã\n2ãå¯æ¯ä»ä¹éè¦æ´é²èªå·±åé¨å½æ°ç»ç¶ç»ä»¶ï¼å¯¼åºæ¶ä¹éè¦ç¨React.forwardRefåè£¹ã\n\nå­ç»ä»¶åé¨å½æ°ï¼\n1ãåè®¾è¯¥ç»ä»¶åé¨å½æ°ä¸ºäºæ§è½ï¼éè¦ç¨å° useCallbackåè£¹è¯¥å½æ°ã\n2ãåæ¶ä¸ºäºè®©å°è¯¥å½æ°æ´é²ç»ç¶çº§ï¼ä¹éè¦ç¨ useImperativeHandleåè£¹ã\n\nåµï¼è¯¥æä¹åï¼å±å±åè£¹åï¼ è½ç¶æ§è½æåäºï¼å¯æ¯é£æ ·çä»£ç å¯è¯»æ§è¿æå¤å°ï¼æä¹åï¼\nç­ï¼ä¸ç¥éï¼åæ­£æ¬ç³»åæç« åªæ¯åç¬æ¥è®²è§£æä¸ªhookæä¹ä½¿ç¨ï¼è¿ç§å¤æåè£¹çæåµï¼ä½ èªå·±ççåå§ã\n\näºå®ä¸è¿ç§æåµåºç°çå çéå¸¸å°ï¼å½æä»¬å¼åreactç»ä»¶æ¶ï¼ä¸åºè¯¥ä¸ºäºä½¿ç¨æhookèä½¿ç¨ãè¿æ¯åºè¯¥æ¯ä¾æ®ååæ°æ®æµçååæ¥åè®¾è®¡æ¹æ¡ã\nå°±å¥½åæ¬ç« ä¸­ç¤ºä¾ä»£ç ï¼å¶å®å®å¨å¯ä»¥ä¸ç¨useImperativeHandleï¼èæ¯ç»§ç»­ä½¿ç¨æå¸¸è§çç¶ç»ä»¶å±æ§ä¼ å¼ç»å­ç»ä»¶çæ¹å¼ã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseImperativeHandleåºç¡ç¨æ³å·²ç»è®²å®ï¼æ²¡æé«çº§ç¨æ³ï¼ç´æ¥è¿å¥ä¸ä¸ä¸ªHookã",normalizedContent:"# 13 useimperativehandleåºç¡ç¨æ³\n\n\n# useimperativehandleæ¦å¿µè§£é\n\næä»¬ç¬¬å«ä¸ªè¦å­¦ä¹ çhook(é©å­å½æ°)æ¯useimperativehandleï¼ä»çä½ç¨æ¯âå¾ä½âå­ç»ä»¶ä¸­æäºå½æ°(æ¹æ³)ä¾ç¶ç»ä»¶è°ç¨ã\n\nååé¡¾ä¸ä¸ä¹åå­¦å°çã\nç¬¬1ä¸ªç¥è¯ç¹ï¼\nreactå±äºååæ°æ®æµï¼ç¶ç»ä»¶å¯ä»¥éè¿å±æ§ä¼ å¼ï¼å°ç¶ç»ä»¶åçå½æ°(æ¹æ³)ä¼ éç»å­ç»ä»¶ï¼å®ç°å­ç»ä»¶è°ç¨ç¶ç»ä»¶åå½æ°çç®çã\n\nç¬¬2ä¸ªç¥è¯ç¹ï¼\n1ãuseref å¯ä»¥âå¾ä½âæäºæ¬ç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡ã\n2ãreact.forwardref å¯ä»¥âå¾ä½âæäºå­ç»ä»¶æè½½å®ææéæ°æ¸²æå®æåææ¥æçæäºå¯¹è±¡ã\nä¸é¢æ è®ºåªç§æåµï¼ç±äºå¾ä½çå¯¹è±¡é½æ¯æ¸²æåçåçhtmlå¯¹è±¡ï¼ç¶ç»ä»¶åªè½éè¿refè°ç¨è¯¥åçhtmlå¯¹è±¡çå½æ°(æ¹æ³)ã\n\nå¦æç¶ç»ä»¶æ³è°ç¨å­ç»ä»¶ä¸­èªå®ä¹çæ¹æ³ï¼è¯¥æä¹åï¼\nç­ï¼ä½¿ç¨useimperativehandle()ã\n\nè®©æä»¬åå°useimperativehandleåºç¡å­¦ä¹ ä¸­ã\n\n\n# useimperativehandleæ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼useimperativehandleå¯ä»¥è®©ç¶ç»ä»¶è·åå¹¶æ§è¡å­ç»ä»¶åæäºèªå®ä¹å½æ°(æ¹æ³)ãæ¬è´¨ä¸å¶å®æ¯å­ç»ä»¶å°èªå·±åé¨çå½æ°(æ¹æ³)éè¿useimperativehandleæ·»å å°ç¶ç»ä»¶ä¸­userefå®ä¹çå¯¹è±¡ä¸­ã\n\nè¡¥åè¯´æï¼\n1ãuserefåå»ºå¼ç¨åé\n2ãreact.forwardrefå°å¼ç¨åéä¼ éç»å­ç»ä»¶\n3ãuseimperativehandleå°å­ç»ä»¶åå®ä¹çå½æ°ä½ä¸ºå±æ§ï¼æ·»å å°ç¶ç»ä»¶ä¸­çrefå¯¹è±¡ä¸ã\n\nå æ­¤ï¼å¦ææ³ä½¿ç¨useimperativehandleï¼é£ä¹è¿è¦ç»åuserefãreact.forwardrefä¸èµ·ä½¿ç¨ã\n\n\n# useimperativehandleå½æ°æºç ï¼\n\nåå°useimperativehandleçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸reactæºç ä¸­çreacthooks.jsã\n\n//å¤æ³¨ï¼æºç éç¨typescriptç¼åï¼å¦æä¸ætsä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\nexport function useimperativehandle<t>(\n  ref: {|current: t | null|} | ((inst: t | null) => mixed) | null | void,\n  create: () => t,\n  deps: array<mixed> | void | null,\n): void {\n  const dispatcher = resolvedispatcher();\n  return dispatcher.useimperativehandle(ref, create, deps);\n}\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨hookâï¼å¹¶ä¸æ¯âhookæºç åæâã^_^\n\n\n# useimperativehandleåºæ¬ç¨æ³\n\nuseimperativehandle(ref,create,[deps])å½æ°å2ä¸ªåæ°ä¸ºå¿å¡«é¡¹ï¼ç¬¬3ä¸ªåæ°ä¸ºå¯éé¡¹ã\nç¬¬1ä¸ªåæ°ä¸ºç¶ç»ä»¶éè¿userefå®ä¹çå¼ç¨åéï¼\nç¬¬2ä¸ªåæ°ä¸ºå­ç»ä»¶è¦éå ç»refçå¯¹è±¡ï¼è¯¥å¯¹è±¡ä¸­çå±æ§å³å­ç»ä»¶æ³è¦æ´é²ç»ç¶ç»ä»¶çå½æ°(æ¹æ³)ï¼\nç¬¬3ä¸ªåæ°ä¸ºå¯éåæ°ï¼ä¸ºå½æ°çä¾èµåéãå¡æ¯å½æ°ä¸­ä½¿ç¨å°çæ°æ®åéé½éè¦æ¾å¥depsä¸­ï¼å¦æå¤çå½æ°æ²¡æä»»ä½ä¾èµåéï¼å¯ä»¥å¿½ç¥ç¬¬3ä¸ªåæ°ã\n\nè¯·æ³¨æï¼\n1ãè¿éé¢è¯´çâå¾ä½å­ç»ä»¶åèªå®ä¹å½æ°âæ¬è´¨ä¸æ¯å­ç»ä»¶å°åé¨èªå®ä¹çå½æ°æ·»å å°ç¶ç»ä»¶çref.currentä¸é¢ã\n2ãç¶ç»ä»¶è¥æ³è°ç¨å­ç»ä»¶æ´é²ç»èªå·±çå½æ°ï¼å¯ä»¥éè¿ res.current.xxx æ¥è®¿é®ææ§è¡ã\n\n# ä»£ç å½¢å¼ï¼\n\nconst xxx = () => {\n    //do smoting...\n}\nuseimperativehandle(ref,() => ({xxx}));\n\n\nä¸è¿°ä»£ç ä¸­ï¼useimperativehandle(ref,() => ({xxx})) å¶å®æ¯ useimperativehandle(ref,() => {return {xxx:xxx}})çç®åã\n\nç¹å«æ³¨æï¼() => ({xxx}) ä¸å¯ä»¥åç®åæ () => {xxx}ï¼å¦æè¿æ ·åä¼ç´æ¥reactæ¥éã\nå ä¸ºè¿ä¸¤ç§åæ³ææå®å¨ä¸ä¸æ ·ï¼\n1ã() => ({xxx}) è¡¨ç¤º è¿åä¸ä¸ªobjectå¯¹è±¡ï¼è¯¥å¯¹è±¡ä¸º{xxx}\n2ã() => {xxx} è¡¨ç¤º æ§è¡ xxx è¯­å¥ä»£ç \n\n# æè§£è¯´æï¼\n\n1ãå­ç»ä»¶åé¨åå®ä¹ä¸ä¸ª xxx å½æ°\n2ãéè¿useimperativehandleå½æ°ï¼å° xxxå½æ°åè£æä¸ä¸ªå¯¹è±¡ï¼å¹¶å°è¯¥å¯¹è±¡æ·»å å°ç¶ç»ä»¶åé¨å®ä¹çrefä¸­ã\n3ãè¥ xxx å½æ°ä¸­ä½¿ç¨å°äºå­ç»ä»¶åé¨å®ä¹çåéï¼åè¿éè¦å°è¯¥åéä½ä¸º ä¾èµåé æä¸ºuseimperativehandleç¬¬3ä¸ªåæ°ï¼ä¸é¢ç¤ºä¾ä¸­åéæ©å¿½ç¥äºç¬¬3ä¸ªåæ°ã\n4ãè¥ç¶ç»ä»¶éè¦è°ç¨å­ç»ä»¶åç xxxå½æ°ï¼åéè¿ï¼res.current.xxx()ã\n5ãè¯·æ³¨æï¼è¯¥å­ç»ä»¶å¨å¯¼åºæ¶å¿é¡»è¢« react.forwardref()åè£¹ä½æå¯ä»¥ã\n\n\n# useimperativehandleä½¿ç¨ç¤ºä¾ï¼\n\nä¸¾ä¾ï¼è¥æå­ç»ä»¶çéæ±ä¸ºï¼\n1ãæåécountï¼é»è®¤å¼ä¸º0\n2ãæä¸ä¸ªå½æ° addcountï¼è¯¥å½æ°ä½åé¨æ§è¡ count+1\n3ãæä¸ä¸ªæé®ï¼ç¹å»æé®æ§è¡ addcount å½æ°\n\nç¶ç»ä»¶çéæ±ä¸ºï¼\n1ãç¶ç»ä»¶åä½¿ç¨ä¸è¿°å­ç»ä»¶\n2ãç¶ç»ä»¶åæä¸ä¸ªæé®ï¼ç¹å»æ§è¡ä¸è¿°å­ç»ä»¶åå®ä¹çå½æ° addcount\n\nå­ç»ä»¶çä»£ç ä¸ºï¼\n\nimport react,{usestate,useimperativehandle} from 'react'\n\nfunction childcomponent(props,ref) {\n  const [count,setcount] =  usestate(0); //å­ç»ä»¶å®ä¹åé¨åécount\n  //å­ç»ä»¶å®ä¹åé¨å½æ° addcount\n  const addcount = () => {\n    setcount(count + 1);\n  }\n  //å­ç»ä»¶éè¿useimperativehandleå½æ°ï¼å°addcountå½æ°æ·»å å°ç¶ç»ä»¶ä¸­çref.currentä¸­\n  useimperativehandle(ref,() => ({addcount}));\n  return (\n    <div>\n        {count}\n        <button onclick={addcount}>child</button>\n    </div>\n  )\n}\n\n//å­ç»ä»¶å¯¼åºæ¶éè¦è¢«react.forwardrefåè£¹ï¼å¦åæ æ³æ¥æ¶ refè¿ä¸ªåæ°\nexport default react.forwardref(childcomponent);\n\n\nç¶ç»ä»¶çä»£ç ä¸ºï¼\n\nimport react,{useref} from 'react'\nimport childcomponent from './childcomponent'\n\nfunction imperative() {\n  const childref = useref(null); //ç¶ç»ä»¶å®ä¹ä¸ä¸ªå¯¹å­ç»ä»¶çå¼ç¨\n\n  const clickhandle = () => {\n    childref.current.addcount(); //ç¶ç»ä»¶è°ç¨å­ç»ä»¶åé¨ addcountå½æ°\n  }\n\n  return (\n    <div>\n        {/* ç¶ç»ä»¶éè¿ç»å­ç»ä»¶æ·»å  ref å±æ§ï¼å°childrefä¼ éç»å­ç»ä»¶ï¼\n            å­ç»ä»¶è·å¾è¯¥å¼ç¨å³å¯å°åé¨å½æ°æ·»å å°childrefä¸­ */}\n        <childcomponent ref={childref} />\n        <button onclick={clickhandle}>child component do somting</button>\n    </div>\n  )\n}\n\nexport default imperative;\n\n\n# æèä¸ä¸ççæå¿è¦ä½¿ç¨useimperativehandleåï¼\n\nä»å®éè¿è¡çç»æï¼æ è®ºç¹å»å­ç»ä»¶è¿æ¯ç¶ç»ä»¶åçæé®ï¼é½å°æ§è¡ addcountå½æ°ï¼ä½¿ count+1ã\n\nreactä¸ºååæ°æ®æµï¼å¦æä¸ºäºå®ç°è¿ä¸ªææï¼æä»¬å®å¨å¯ä»¥æéæ±è½¬åæå¦å¤ä¸ç§è¯´æ³ï¼å³ï¼\n1ãç¶ç»ä»¶åå®ä¹ä¸ä¸ªåécount å addcountå½æ°\n2ãç¶ç»ä»¶æ count å addcount éè¿å±æ§ä¼ å¼ ä¼ éç»å­ç»ä»¶\n3ãç¹å»å­ç»ä»¶åæé®æ¶è°ç¨ç¶ç»ä»¶åå®ä¹ç addcountå½æ°ï¼ä½¿ count +1ã\n\nä½ ä¼åç°å³ä½¿æéæ±ä¸­ç ç¶ä¸å­ç»ä»¶ æè¿°å¯¹è°ä¸ä¸ï¼âæç»å®éææâæ¯ä¸æ ·çã\n\næä»¥ï¼å°åºä½¿ç¨åªç§å½¢å¼ï¼éè¦æ ¹æ®ç»ä»¶å®ééæ±æ¥åå®å¤ºã\n\n# è¯´ä¸ä¸ªæç¹ç»çæåµ\n\nå­ç»ä»¶å¯¼åºæ¶ï¼\n1ãåè®¾æä¸ªå­ç»ä»¶ä¸ºäºæé«æ§è½ï¼å¯¼åºæ¶éè¦ç¨react.memoåè£¹ã\n2ãå¯æ¯ä»ä¹éè¦æ´é²èªå·±åé¨å½æ°ç»ç¶ç»ä»¶ï¼å¯¼åºæ¶ä¹éè¦ç¨react.forwardrefåè£¹ã\n\nå­ç»ä»¶åé¨å½æ°ï¼\n1ãåè®¾è¯¥ç»ä»¶åé¨å½æ°ä¸ºäºæ§è½ï¼éè¦ç¨å° usecallbackåè£¹è¯¥å½æ°ã\n2ãåæ¶ä¸ºäºè®©å°è¯¥å½æ°æ´é²ç»ç¶çº§ï¼ä¹éè¦ç¨ useimperativehandleåè£¹ã\n\nåµï¼è¯¥æä¹åï¼å±å±åè£¹åï¼ è½ç¶æ§è½æåäºï¼å¯æ¯é£æ ·çä»£ç å¯è¯»æ§è¿æå¤å°ï¼æä¹åï¼\nç­ï¼ä¸ç¥éï¼åæ­£æ¬ç³»åæç« åªæ¯åç¬æ¥è®²è§£æä¸ªhookæä¹ä½¿ç¨ï¼è¿ç§å¤æåè£¹çæåµï¼ä½ èªå·±ççåå§ã\n\näºå®ä¸è¿ç§æåµåºç°çå çéå¸¸å°ï¼å½æä»¬å¼åreactç»ä»¶æ¶ï¼ä¸åºè¯¥ä¸ºäºä½¿ç¨æhookèä½¿ç¨ãè¿æ¯åºè¯¥æ¯ä¾æ®ååæ°æ®æµçååæ¥åè®¾è®¡æ¹æ¡ã\nå°±å¥½åæ¬ç« ä¸­ç¤ºä¾ä»£ç ï¼å¶å®å®å¨å¯ä»¥ä¸ç¨useimperativehandleï¼èæ¯ç»§ç»­ä½¿ç¨æå¸¸è§çç¶ç»ä»¶å±æ§ä¼ å¼ç»å­ç»ä»¶çæ¹å¼ã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseimperativehandleåºç¡ç¨æ³å·²ç»è®²å®ï¼æ²¡æé«çº§ç¨æ³ï¼ç´æ¥è¿å¥ä¸ä¸ä¸ªhookã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"14 useLayoutEffectåºç¡ç¨æ³",frontmatter:{title:"14 useLayoutEffectåºç¡ç¨æ³",date:"2023-09-18T15:57:04.000Z",permalink:"/pages/1b392f/"},regularPath:"/03.react/14.useLayoutEffect%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95.html",relativePath:"03.react/14.useLayoutEffectåºç¡ç¨æ³.md",key:"v-3b9dbf9c",path:"/pages/1b392f/",headers:[{level:2,title:"useLayoutEffectæ¦å¿µè§£é",slug:"uselayouteffectæ¦å¿µè§£é",normalizedTitle:"uselayouteffectæ¦å¿µè§£é",charIndex:29},{level:2,title:"useLayoutEffectæ¯æ¥è§£å³ä»ä¹é®é¢çï¼",slug:"uselayouteffectæ¯æ¥è§£å³ä»ä¹é®é¢ç",normalizedTitle:"uselayouteffectæ¯æ¥è§£å³ä»ä¹é®é¢çï¼",charIndex:809},{level:2,title:"useLayoutEffectå½æ°æºç ï¼",slug:"uselayouteffectå½æ°æºç ",normalizedTitle:"uselayouteffectå½æ°æºç ï¼",charIndex:1143},{level:2,title:"useLayoutEffectåºæ¬ç¨æ³",slug:"uselayouteffectåºæ¬ç¨æ³",normalizedTitle:"uselayouteffectåºæ¬ç¨æ³",charIndex:1564},{level:2,title:"useLayoutEffectä½¿ç¨ç¤ºä¾ï¼",slug:"uselayouteffectä½¿ç¨ç¤ºä¾",normalizedTitle:"uselayouteffectä½¿ç¨ç¤ºä¾ï¼",charIndex:1631}],headersStr:"useLayoutEffectæ¦å¿µè§£é useLayoutEffectæ¯æ¥è§£å³ä»ä¹é®é¢çï¼ useLayoutEffectå½æ°æºç ï¼ useLayoutEffectåºæ¬ç¨æ³ useLayoutEffectä½¿ç¨ç¤ºä¾ï¼",content:"# 14 useLayoutEffectåºç¡ç¨æ³\n\n\n# useLayoutEffectæ¦å¿µè§£é\n\næä»¬ç¬¬ä¹ä¸ªè¦å­¦ä¹ çHook(é©å­å½æ°)æ¯useLayoutEffectï¼ä»çä½ç¨æ¯âå¾ä½âæè½½æéæ°æ¸²æå®æè¿2ä¸ªç»ä»¶çå½å¨æå½æ°ãuseLayoutEffectä½¿ç¨æ¹æ³ãæä¼ åæ°åuseEffectå®å¨ç¸åã\n\nä»ä»¬çä¸åç¹å¨äºï¼ä½ å¯ä»¥æuseLayoutEffectç­åäºcomponentDidMountãcomponentDidUpdateï¼å ä¸ºä»ä»¬è°ç¨é¶æ®µæ¯ç¸åçãèuseEffectæ¯å¨componentDidMountãcomponentDidUpdateè°ç¨ä¹åæä¼è§¦åçã\n\nä¹å°±æ¯è¯´ï¼å½ç»ä»¶ææDOMé½æ¸²æå®æåï¼åæ­¥è°ç¨useLayoutEffectï¼ç¶ååè°ç¨useEffectã\n\nuseLayoutEffectæ°¸è¿è¦æ¯useEffectåè§¦åå®æã\n\né£éå¸¸å¨useLayoutEffecté¶æ®µæä»¬å¯ä»¥åä»ä¹å¢ï¼\nç­ï¼å¨è§¦åuseLayoutEffecté¶æ®µæ¶ï¼é¡µé¢å¨é¨DOMå·²ç»æ¸²æå®æï¼æ­¤æ¶å¯ä»¥è·åå½åé¡µé¢ææä¿¡æ¯ï¼åæ¬é¡µé¢æ¾ç¤ºå¸å±ç­ï¼ä½ å¯ä»¥æ ¹æ®éæ±ä¿®æ¹è°æ´é¡µé¢ã\n\nè¯·æ³¨æï¼useLayoutEffectå¯¹é¡µé¢çæäºä¿®æ¹è°æ´å¯è½ä¼è§¦åç»ä»¶éæ°æ¸²æãå¦ææ¯å¯¹DOMè¿è¡ä¸äºæ ·å¼è°æ´æ¯ä¸ä¼è§¦åéæ°æ¸²æçï¼è¿ç¹åuseEffectæ¯ç¸åçã\n\nå¨reactå®æ¹ææ¡£ä¸­ï¼æç¡®è¡¨ç¤ºåªæå¨useEffectä¸è½æ»¡è¶³ä½ ç»ä»¶éæ±çæåµä¸ï¼æåºè¯¥èèä½¿ç¨useLayoutEffectã å®æ¹æ¨èä¼åä½¿ç¨useEffectã\n\nè¯·æ³¨æï¼å¦ææ¯æå¡å¨æ¸²æï¼æ è®ºuseEffectè¿æ¯useLayoutEffect é½æ æ³å¨JSä»£ç å è½½å®æä¹åæ§è¡ï¼å æ­¤é½ä¼æ¶å°éè¯¯è­¦åã æå¡å¨æ¸²ææ¶è¥æ³ä½¿ç¨useEffectï¼è§£å³æ¹æ¡ä¸å¨æ¬ç« ä¸­è®¨è®ºã\n\nè®©æä»¬åå°useLayoutEffectåºç¡å­¦ä¹ ä¸­ã\n\n\n# useLayoutEffectæ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼useLayoutEffectçä½ç¨æ¯âå½é¡µé¢æè½½ææ¸²æå®ææ¶ï¼åç»ä½ ä¸æ¬¡æºä¼å¯¹é¡µé¢è¿è¡ä¿®æ¹âã\n\nå¦æä½ éæ©ä½¿ç¨useLayoutEffectï¼å¯¹é¡µé¢è¿è¡äºä¿®æ¹ï¼æ´æ¹æ ·å¼ä¸ä¼å¼åéæ°æ¸²æï¼ä½æ¯ä¿®æ¹åéåä¼è§¦ååæ¬¡æ¸²æã\nå¦æä½ ä¸ä½¿ç¨useLayoutEffectï¼é£ä¹ä¹åå°±åºè¯¥è°ç¨useEffectã\n\nè¡¥åè¯´æï¼\n1ãä¼åä½¿ç¨useEffectï¼useEffectæ æ³æ»¡è¶³éæ±æ¶åèèä½¿ç¨useLayoutEffectã\n2ãuseLayoutEffectåè§¦åï¼useEffectåè§¦åã\n3ãuseEffectåuseLayoutEffectå¨æå¡å¨ç«¯æ¸²ææ¶ï¼é½ä¸è¡ï¼éè¦å¯»æ±å«çè§£å³æ¹æ¡ã\n\n\n# useLayoutEffectå½æ°æºç ï¼\n\nåå°useLayoutEffectçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸Reactæºç ä¸­çReactHooks.jsã\n\n//å¤æ³¨ï¼æºç éç¨TypeScriptç¼åï¼å¦æä¸æTSä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\nexport function useLayoutEffect(\n  create: () => (() => void) | void,\n  deps: Array<mixed> | void | null,\n): void {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useLayoutEffect(create, deps);\n}\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨Hookâï¼å¹¶ä¸æ¯âHookæºç åæâã^_^ ä½ åªéç¥éuseLayoutEffectçç¨æ³åuseEffectä¸æ¨¡ä¸æ ·å³å¯ã\n\n\n# useLayoutEffectåºæ¬ç¨æ³\n\nuseLayoutEffectçç¨æ³åuseEffectçç¨æ³ç¸åï¼æä»¥ä¸åéè¿°ã\n\n\n# useLayoutEffectä½¿ç¨ç¤ºä¾ï¼\n\nè¯·åè°ï¼ç®åç«ç¶æ¾ä¸å°ä¸ä¸ªuseLayoutEffectåéçä¾å­ï¼å ä¸ºè½å¤æ³å°çåºç¨åºæ¯å¶å®é½å¯ä»¥ç¨useEffectæ¥ä»£æ¿ã\n\né£åªè½è´´åºä¸æ®µç®åçä»£ç ï¼è®©ä½ çç¡®è®¤ä¸ä¸ï¼useLayoutEffectåäºuseEffectè§¦åè°ç¨ã\n\nä»£ç ç¤ºä¾å¦ä¸ï¼\n\nimport React,{useState,useEffect,useLayoutEffect} from 'react'\n\nfunction LayoutEffect() {\n  const [count,setCount] = useState(0);\n\n  useEffect(() => {\n    console.log('useEffect...');\n  },[count]);\n\n  useLayoutEffect(() => {\n    console.log('useLayoutEffect...');\n  },[count]);\n\n  return (\n    <div>\n        {count}\n        <button onClick={() => {setCount(count+1)}}>Click</button>\n    </div>\n  )\n}\nexport default LayoutEffect\n\n\nå®éè¿è¡å°±ä¼åç°ï¼\næ è®ºæ¯é¦æ¬¡æè½½ï¼è¿æ¯éæ°æ¸²æï¼consoleé¢æ¿ä¸­ï¼è¾åºé¡ºåºé½æ¯\nuseLayoutEffect...\nuseEffect...\n\nä¹å°±ç¡®è®¤ï¼åæ§è¡useLayoutEffectï¼åæ§è¡useEffectã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseLayoutEffectåºç¡ç¨æ³å·²ç»è®²å®ï¼æ²¡æé«çº§ç¨æ³ï¼ç´æ¥è¿å¥ä¸ä¸ä¸ªHookã",normalizedContent:"# 14 uselayouteffectåºç¡ç¨æ³\n\n\n# uselayouteffectæ¦å¿µè§£é\n\næä»¬ç¬¬ä¹ä¸ªè¦å­¦ä¹ çhook(é©å­å½æ°)æ¯uselayouteffectï¼ä»çä½ç¨æ¯âå¾ä½âæè½½æéæ°æ¸²æå®æè¿2ä¸ªç»ä»¶çå½å¨æå½æ°ãuselayouteffectä½¿ç¨æ¹æ³ãæä¼ åæ°åuseeffectå®å¨ç¸åã\n\nä»ä»¬çä¸åç¹å¨äºï¼ä½ å¯ä»¥æuselayouteffectç­åäºcomponentdidmountãcomponentdidupdateï¼å ä¸ºä»ä»¬è°ç¨é¶æ®µæ¯ç¸åçãèuseeffectæ¯å¨componentdidmountãcomponentdidupdateè°ç¨ä¹åæä¼è§¦åçã\n\nä¹å°±æ¯è¯´ï¼å½ç»ä»¶æædomé½æ¸²æå®æåï¼åæ­¥è°ç¨uselayouteffectï¼ç¶ååè°ç¨useeffectã\n\nuselayouteffectæ°¸è¿è¦æ¯useeffectåè§¦åå®æã\n\né£éå¸¸å¨uselayouteffecté¶æ®µæä»¬å¯ä»¥åä»ä¹å¢ï¼\nç­ï¼å¨è§¦åuselayouteffecté¶æ®µæ¶ï¼é¡µé¢å¨é¨domå·²ç»æ¸²æå®æï¼æ­¤æ¶å¯ä»¥è·åå½åé¡µé¢ææä¿¡æ¯ï¼åæ¬é¡µé¢æ¾ç¤ºå¸å±ç­ï¼ä½ å¯ä»¥æ ¹æ®éæ±ä¿®æ¹è°æ´é¡µé¢ã\n\nè¯·æ³¨æï¼uselayouteffectå¯¹é¡µé¢çæäºä¿®æ¹è°æ´å¯è½ä¼è§¦åç»ä»¶éæ°æ¸²æãå¦ææ¯å¯¹domè¿è¡ä¸äºæ ·å¼è°æ´æ¯ä¸ä¼è§¦åéæ°æ¸²æçï¼è¿ç¹åuseeffectæ¯ç¸åçã\n\nå¨reactå®æ¹ææ¡£ä¸­ï¼æç¡®è¡¨ç¤ºåªæå¨useeffectä¸è½æ»¡è¶³ä½ ç»ä»¶éæ±çæåµä¸ï¼æåºè¯¥èèä½¿ç¨uselayouteffectã å®æ¹æ¨èä¼åä½¿ç¨useeffectã\n\nè¯·æ³¨æï¼å¦ææ¯æå¡å¨æ¸²æï¼æ è®ºuseeffectè¿æ¯uselayouteffect é½æ æ³å¨jsä»£ç å è½½å®æä¹åæ§è¡ï¼å æ­¤é½ä¼æ¶å°éè¯¯è­¦åã æå¡å¨æ¸²ææ¶è¥æ³ä½¿ç¨useeffectï¼è§£å³æ¹æ¡ä¸å¨æ¬ç« ä¸­è®¨è®ºã\n\nè®©æä»¬åå°uselayouteffectåºç¡å­¦ä¹ ä¸­ã\n\n\n# uselayouteffectæ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼uselayouteffectçä½ç¨æ¯âå½é¡µé¢æè½½ææ¸²æå®ææ¶ï¼åç»ä½ ä¸æ¬¡æºä¼å¯¹é¡µé¢è¿è¡ä¿®æ¹âã\n\nå¦æä½ éæ©ä½¿ç¨uselayouteffectï¼å¯¹é¡µé¢è¿è¡äºä¿®æ¹ï¼æ´æ¹æ ·å¼ä¸ä¼å¼åéæ°æ¸²æï¼ä½æ¯ä¿®æ¹åéåä¼è§¦ååæ¬¡æ¸²æã\nå¦æä½ ä¸ä½¿ç¨uselayouteffectï¼é£ä¹ä¹åå°±åºè¯¥è°ç¨useeffectã\n\nè¡¥åè¯´æï¼\n1ãä¼åä½¿ç¨useeffectï¼useeffectæ æ³æ»¡è¶³éæ±æ¶åèèä½¿ç¨uselayouteffectã\n2ãuselayouteffectåè§¦åï¼useeffectåè§¦åã\n3ãuseeffectåuselayouteffectå¨æå¡å¨ç«¯æ¸²ææ¶ï¼é½ä¸è¡ï¼éè¦å¯»æ±å«çè§£å³æ¹æ¡ã\n\n\n# uselayouteffectå½æ°æºç ï¼\n\nåå°uselayouteffectçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸reactæºç ä¸­çreacthooks.jsã\n\n//å¤æ³¨ï¼æºç éç¨typescriptç¼åï¼å¦æä¸ætsä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\nexport function uselayouteffect(\n  create: () => (() => void) | void,\n  deps: array<mixed> | void | null,\n): void {\n  const dispatcher = resolvedispatcher();\n  return dispatcher.uselayouteffect(create, deps);\n}\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨hookâï¼å¹¶ä¸æ¯âhookæºç åæâã^_^ ä½ åªéç¥éuselayouteffectçç¨æ³åuseeffectä¸æ¨¡ä¸æ ·å³å¯ã\n\n\n# uselayouteffectåºæ¬ç¨æ³\n\nuselayouteffectçç¨æ³åuseeffectçç¨æ³ç¸åï¼æä»¥ä¸åéè¿°ã\n\n\n# uselayouteffectä½¿ç¨ç¤ºä¾ï¼\n\nè¯·åè°ï¼ç®åç«ç¶æ¾ä¸å°ä¸ä¸ªuselayouteffectåéçä¾å­ï¼å ä¸ºè½å¤æ³å°çåºç¨åºæ¯å¶å®é½å¯ä»¥ç¨useeffectæ¥ä»£æ¿ã\n\né£åªè½è´´åºä¸æ®µç®åçä»£ç ï¼è®©ä½ çç¡®è®¤ä¸ä¸ï¼uselayouteffectåäºuseeffectè§¦åè°ç¨ã\n\nä»£ç ç¤ºä¾å¦ä¸ï¼\n\nimport react,{usestate,useeffect,uselayouteffect} from 'react'\n\nfunction layouteffect() {\n  const [count,setcount] = usestate(0);\n\n  useeffect(() => {\n    console.log('useeffect...');\n  },[count]);\n\n  uselayouteffect(() => {\n    console.log('uselayouteffect...');\n  },[count]);\n\n  return (\n    <div>\n        {count}\n        <button onclick={() => {setcount(count+1)}}>click</button>\n    </div>\n  )\n}\nexport default layouteffect\n\n\nå®éè¿è¡å°±ä¼åç°ï¼\næ è®ºæ¯é¦æ¬¡æè½½ï¼è¿æ¯éæ°æ¸²æï¼consoleé¢æ¿ä¸­ï¼è¾åºé¡ºåºé½æ¯\nuselayouteffect...\nuseeffect...\n\nä¹å°±ç¡®è®¤ï¼åæ§è¡uselayouteffectï¼åæ§è¡useeffectã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuselayouteffectåºç¡ç¨æ³å·²ç»è®²å®ï¼æ²¡æé«çº§ç¨æ³ï¼ç´æ¥è¿å¥ä¸ä¸ä¸ªhookã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"15 useDebugValueåºç¡ç¨æ³",frontmatter:{title:"15 useDebugValueåºç¡ç¨æ³",date:"2023-09-18T16:01:07.000Z",permalink:"/pages/e1ebef/"},regularPath:"/03.react/15.useDebugValue%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95.html",relativePath:"03.react/15.useDebugValueåºç¡ç¨æ³.md",key:"v-1afb1872",path:"/pages/e1ebef/",headers:[{level:2,title:"useDebugValueæ¦å¿µè§£é",slug:"usedebugvalueæ¦å¿µè§£é",normalizedTitle:"usedebugvalueæ¦å¿µè§£é",charIndex:27},{level:5,title:"âReactå¼åè°è¯å·¥å·âæ¯ä»ä¹ï¼",slug:"reactå¼åè°è¯å·¥å·-æ¯ä»ä¹",normalizedTitle:"âreactå¼åè°è¯å·¥å·âæ¯ä»ä¹ï¼",charIndex:150},{level:2,title:"useDebugValueæ¯æ¥è§£å³ä»ä¹é®é¢çï¼",slug:"usedebugvalueæ¯æ¥è§£å³ä»ä¹é®é¢ç",normalizedTitle:"usedebugvalueæ¯æ¥è§£å³ä»ä¹é®é¢çï¼",charIndex:702},{level:5,title:"èªå®ä¹hookï¼",slug:"èªå®ä¹hook",normalizedTitle:"èªå®ä¹hookï¼",charIndex:928},{level:2,title:"useDebugValueå½æ°æºç ï¼",slug:"usedebugvalueå½æ°æºç ",normalizedTitle:"usedebugvalueå½æ°æºç ï¼",charIndex:1141},{level:2,title:"useDebugValueåºæ¬ç¨æ³",slug:"usedebugvalueåºæ¬ç¨æ³",normalizedTitle:"usedebugvalueåºæ¬ç¨æ³",charIndex:1525},{level:5,title:"ä»£ç å½¢å¼ï¼",slug:"ä»£ç å½¢å¼",normalizedTitle:"ä»£ç å½¢å¼ï¼",charIndex:1819},{level:5,title:"æè§£è¯´æï¼",slug:"æè§£è¯´æ",normalizedTitle:"æè§£è¯´æï¼",charIndex:1863},{level:2,title:"å¦ä½å¨reactè°è¯å·¥å·ä¸­æ¥çuseDebugValueè¡¨ç°å½¢å¼",slug:"å¦ä½å¨reactè°è¯å·¥å·ä¸­æ¥çusedebugvalueè¡¨ç°å½¢å¼",normalizedTitle:"å¦ä½å¨reactè°è¯å·¥å·ä¸­æ¥çusedebugvalueè¡¨ç°å½¢å¼",charIndex:1952},{level:2,title:"useDebugValueä½¿ç¨ç¤ºä¾ï¼",slug:"usedebugvalueä½¿ç¨ç¤ºä¾",normalizedTitle:"usedebugvalueä½¿ç¨ç¤ºä¾ï¼",charIndex:2244},{level:5,title:"å·ä½è¡¨ç°",slug:"å·ä½è¡¨ç°",normalizedTitle:"å·ä½è¡¨ç°",charIndex:2834},{level:5,title:"åæ¬¡å¼ºè°ï¼å¯¹äºä¸è¬æ§çé¡¹ç®å¼åï¼æ¯ä¸éè¦ä½¿ç¨useDebugValueæ¥é¢å¤æ è®°æäºåéçï¼é»è®¤çè°è¯è¾åºè¶³å¤æä»¬ä½¿ç¨äºã",slug:"åæ¬¡å¼ºè°-å¯¹äºä¸è¬æ§çé¡¹ç®å¼å-æ¯ä¸éè¦ä½¿ç¨usedebugvalueæ¥é¢å¤æ è®°æäºåéç-é»è®¤çè°è¯è¾åºè¶³å¤æä»¬ä½¿ç¨äºã",normalizedTitle:"åæ¬¡å¼ºè°ï¼å¯¹äºä¸è¬æ§çé¡¹ç®å¼åï¼æ¯ä¸éè¦ä½¿ç¨usedebugvalueæ¥é¢å¤æ è®°æäºåéçï¼é»è®¤çè°è¯è¾åºè¶³å¤æä»¬ä½¿ç¨äºã",charIndex:3326}],headersStr:"useDebugValueæ¦å¿µè§£é âReactå¼åè°è¯å·¥å·âæ¯ä»ä¹ï¼ useDebugValueæ¯æ¥è§£å³ä»ä¹é®é¢çï¼ èªå®ä¹hookï¼ useDebugValueå½æ°æºç ï¼ useDebugValueåºæ¬ç¨æ³ ä»£ç å½¢å¼ï¼ æè§£è¯´æï¼ å¦ä½å¨reactè°è¯å·¥å·ä¸­æ¥çuseDebugValueè¡¨ç°å½¢å¼ useDebugValueä½¿ç¨ç¤ºä¾ï¼ å·ä½è¡¨ç° åæ¬¡å¼ºè°ï¼å¯¹äºä¸è¬æ§çé¡¹ç®å¼åï¼æ¯ä¸éè¦ä½¿ç¨useDebugValueæ¥é¢å¤æ è®°æäºåéçï¼é»è®¤çè°è¯è¾åºè¶³å¤æä»¬ä½¿ç¨äºã",content:"# 15 useDebugValueåºç¡ç¨æ³\n\n\n# useDebugValueæ¦å¿µè§£é\n\næä»¬ç¬¬åä¸ªè¦å­¦ä¹ çHook(é©å­å½æ°)æ¯useDebugValueï¼ä»çä½ç¨æ¯âå¾ä½âReactå¼åè°è¯å·¥å·ä¸­çèªå®ä¹hookæ ç­¾ï¼è®©useDebugValueå¾ä½çèªå®ä¹hookå¯ä»¥æ¾ç¤ºé¢å¤çä¿¡æ¯ã\n\n# âReactå¼åè°è¯å·¥å·âæ¯ä»ä¹ï¼\n\nç­ï¼è°·æ­æµè§å¨ä¸­çä¸ä¸ªæ©å±æä»¶ï¼åå­å«âReact Developer Toolsâï¼æ¹ä¾¿æä»¬å¨è°·æ­æµè§å¨ä¸è¿è¡reacté¡¹ç®è°è¯ã\n\nå¦ä½å®è£ï¼\nç­ï¼å¯å¨Chromeæ©å±ç¨åºååºæç´¢å¹¶å®è£ãç±äºå½åç½ç»åå ï¼å¦æä½ ä¸ä¼ç§å­¦ä¸ç½ï¼é£ä¹å¯ä»¥éè¿å½åçä¸äºChromeæ©å±ç¨åºååºç½ç«ï¼ä¸è½½âReact Developer Toolsâç¦»çº¿çcrxå®è£æä»¶è¿è¡å®è£ãå·ä½åæ³å¯ä»¥èªå·±ç¾åº¦ã\n\nâReactå¼åè°è¯å·¥å·âçä½¿ç¨ç®åè¯´æï¼\nå¦æè¯¥æ©å±ç¨åºå®è£æåï¼é£ä¹ä¼æä»¥ä¸å ç§æåµï¼\n1ãå¯¹äºæ¬æºå¼åè°è¯çé¡¹ç®ç½é¡µï¼è¯¥æä»¶å¾æ ä¼åææ©é»è²ï¼ä¸å¾æ ä¸­é´æä¸ä¸ªå°è«å­ï¼è¡¨ç¤ºå¯ä»¥è¿è¡reactæºç å¼çè°è¯ï¼å½ä»£ç åºç°éè¯¯æ¶ä¼ç²¾åå®ä½åºéçä»£ç ä½ç½®ã\n\n2ãå¯¹äºå«äººå¼åçé¡¹ç®ç½é¡µï¼è¯¥æä»¶å¾æ ä¼åæèè²ï¼è¡¨ç¤ºè¯¥ç½é¡µç±reactå¼åï¼å½ä»£ç åºç°éè¯¯æ¶ä¸è½ç²¾åå®ä½åºéçä»£ç ä½ç½®ã\nä¾å¦é¿éäºåå°ãè¾è®¯äºåå°ãç¾åº¦ç¿»è¯è¿äºç½é¡µé½æ¯ç¨reactå¼åï¼è®¿é®è¿äºç½é¡µä½ å°±ä¼çå° è°è¯å·¥å·å¾åæ ä¸ºèè²ã è¿äºå¤§åé½ç¨reactï¼æä»¥è½ç¶å­¦ä¹ è¿ç¨ä¸­å¾çè¦ï¼ä½æ¯æ¯å¼å¾çã\n\n3ãå¯¹äºæ²¡æä½¿ç¨reactçç½é¡µï¼è¯¥æä»¶å¾æ ä¼åæç°è²ã\n\nè®©æä»¬åå°useDebugValueåºç¡å­¦ä¹ ä¸­ã\n\n\n# useDebugValueæ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼useDebugValueçç®çæ¯âå¨reactå¼åèå·¥å·èªå®ä¹hookæ ç­¾ä¸­æ¾ç¤ºé¢å¤ä¿¡æ¯âï¼æ¹ä¾¿æä»¬âä¸ç¼å°±è½æ¾å°âå¯¹åºçèªå®ä¹hookã\n\nè¡¥åè¯´æï¼\n1ãreactå®ç½ææ¡£ä¸­æç¡®è¡¨ç¤ºï¼å¨æ®éé¡¹ç®å¼åä¸­ä¸æ¨èä½¿ç¨useDebugValueï¼é»è®¤çè°è¯è¾åºå·²ç»å¾æ¸æ°å¯ç¨äºã\n2ãé¤éä½ çèªå®ä¹ hook æ¯ä½ä¸ºå±äº«åºä¸­çä¸é¨åææä»·å¼ãè¿æ ·å¶ä»äººæ´å®¹ææ³¨æå°ä½ èªå®ä¹çhookç¶æååã\n\n# èªå®ä¹hookï¼\n\nä½ å¯è½æ³¨æå°æ¬ç« ä¸­æå°äºâèªå®ä¹hookâï¼æ²¡éãåä¹åå­¦ä¹ çuseStateãuseContextç­ç­é½æ¯reactèªå¸¦çhookï¼è¿äºé»è®¤çhookæ¯æä»¬é¡¹ç®å¼åæéè¦ç¨å°çåç§é©å­å½æ°ã\n\nä½æ¯å®éå¼åä¸­ï¼æä»¬éè¦åå©è¿äºåºç¡çãé»è®¤çãèªå¸¦çhookå½æ°ï¼éè¿ç»åä»¥åæ·»å ä¸å¡é»è¾ä»£ç ï¼å½¢æèªå·±çhookå½æ°ã\n\nå·ä½å¦ä½èªå®ä¹hookï¼ç¨åä¼åç¬æä¸ç« å¦ä½âèªå®ä¹hookâä¸­è¯¦ç»è®²è¿°ã\n\n\n# useDebugValueå½æ°æºç ï¼\n\nåå°useDebugValueçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸Reactæºç ä¸­çReactHooks.jsã\n\n//å¤æ³¨ï¼æºç éç¨TypeScriptç¼åï¼å¦æä¸æTSä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\nexport function useDebugValue<T>(\n  value: T,\n  formatterFn: ?(value: T) => mixed,\n): void {\n    if (__DEV__) {\n    const dispatcher = resolveDispatcher();\n    return dispatcher.useDebugValue(value, formatterFn);\n  }\n}\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨Hookâï¼å¹¶ä¸æ¯âHookæºç åæâã^_^\n\n\n# useDebugValueåºæ¬ç¨æ³\n\nuseDebugValue(value,formatterFn)å½æ°ç¬¬1ä¸ªåæ°ä¸ºæä»¬è¦é¢å¤æ¾ç¤ºçåå®¹åéãç¬¬2ä¸ªåæ°æ¯å¯éçï¼æ¯å¯¹ç¬¬1ä¸ªåæ°å¼çæ°æ®åæ ¼å¼å½æ°ã\n\nè¯·æ³¨æï¼\n1ãuseDebugValueåºè¯¥å¨èªå®ä¹hookä¸­ä½¿ç¨ï¼å¦æç´æ¥å¨ç»ä»¶åä½¿ç¨æ¯æ æçï¼ä¸ä¼æ¥éä¹ä¸ä¼æä»»ä½é¢å¤ä¿¡æ¯å±ç¤ºã\n1ãä¸è¬è°è¯ä¸éè¦ä½¿ç¨useDebugValueï¼é¤éä½ ç¼åçhookæ¯å¬å±åºä¸­çä¸é¨åï¼å®å¨æ¯æ³å¸æ¾é¢å¤ä¿¡æ¯ï¼å¼èµ·å«äººæ³¨æã\n2ãå¦æä½¿ç¨useDebugValueï¼æå¥½è®¾ç½®ç¬¬2ä¸ªåæ°ï¼åreactå¼åè°è¯å·¥å·è®²æ¸æ¥å¦ä½æ ¼å¼åå±ç¤ºç¬¬1ä¸ªåæ°ã\n\n# ä»£ç å½¢å¼ï¼\n\nuseDebugValue(xxx, xxx => xxxxx)\n\n\n# æè§£è¯´æï¼\n\n1ãxxx ä¸ºæä»¬è¦éç¹å³æ³¨çåéã\n2ãxxx => xxxxx æ¯ (xxx) => {return xxxxx} çç®åãè¡¨æå¦ä½æ ¼å¼ååéxxxã\n\n\n# å¦ä½å¨reactè°è¯å·¥å·ä¸­æ¥çuseDebugValueè¡¨ç°å½¢å¼\n\nåææ¡ä»¶ï¼\n1ãå¨è°·æ­æµè§å¨ä¸­æåå®è£äºreactå¼åè°è¯å·¥å·\n2ãreacté¡¹ç®ä¸­ä½¿ç¨äºèªå®ä¹hookï¼ä¸hookä¸­ä½¿ç¨äºuseDebugValue\n\né£ä¹ä½ å¯ä»¥è¿è¡ä¸ä¸æ­¥éª¤ï¼\n1ãæå¼reactè°è¯ç½é¡µï¼ä¾å¦http://localhost:3000/\n2ãæå¼è°·æ­æµè§å¨è°è¯é¢æ¿(å¿«æ·é®ä¸ºF12)\n3ãæ¾å°å¹¶ç¹å»âComponentsâä¸æ \n4ãå¨å³ä¾§çªå£ä¸­ï¼æ¾å°âhooksâï¼å¨âhooksâä¸å°±è½çå°èªå®ä¹hookä¸­useDebugValueèªå®ä¹æ¾ç¤ºçä¿¡æ¯ã\n\nå·ä½è¿æ¯ä»¥ä¸é¢å®éä¾å­æ¥è¯´æã\n\n\n# useDebugValueä½¿ç¨ç¤ºä¾ï¼\n\nä¸¾ä¾ï¼useTimeæ¯æä»¬èªå®ä¹çä¸ä¸ªhookå½æ°ï¼é£ä¹å¨è¿ä¸ªèªå®ä¹hookä¸­ï¼å¯ä»¥éè¿useDebugValueå¯¹åétimeè¿è¡é¢å¤ä¿¡æ¯å±ç¤ºã\n\nä»£ç ç¤ºä¾å¦ä¸ï¼\n\n//èªå®ä¹hookï¼useTime\nfunction useTime(date){\n  const [time,setTime] = useState(date);\n  useDebugValue(time,time => new Date(time));//è¯·æ³¨æè¿ä¸è¡ä»£ç \n  return [time,setTime];\n}\n\n//ç»ä»¶ä¸­ä½¿ç¨useTimeï¼ä¼ªä»£ç çæ®µ\nconst [time,setTime] = useTime(Date.now());//è¯·æ³¨ææ­¤å¤ä½¿ç¨çæ¯èªå®ä¹hookï¼useTime\n\n\nä»£ç åæï¼\n1ãæä»¬å¨èªå®ä¹hookä¸­ï¼ä½¿ç¨äºuseDebugValue\n2ãuseDebugValueç¬¬1ä¸ªåæ°æ¯timeï¼åreactå¼åè°è¯å·¥å·è¡¨æè¦éç¹å³æ³¨çåéæ¯timeã\n3ãç¬¬2ä¸ªåæ°æ¯å¯¹timeçä¸ä¸ªæ ¼å¼åå½æ°ãç±äºtimeå®éä¸ºä¸ä¸ªæ¶é´æ³æ°å­ï¼éè¿time => new Date(time)å°æ¶é´æ³è½¬åæå·ä½çå¯è¯»æ¶é´å­ç¬¦ä¸²ï¼ä¾å¦æ­¤æ¶æ­¤å»ï¼Mon May 11 2020 14:27:39 GMT+0800 (ä¸­å½æ åæ¶é´)\n\n# å·ä½è¡¨ç°\n\nå¨è°·æ­æµè§å¨è°è¯é¢æ¿çâComponentâå³ä¾§ï¼ä½ ä¼çå°ï¼\n\nhooks  \n  time:Mon May 11 2020 14:27:39 GMT+0800 (ä¸­å½æ åæ¶é´)  \n    State:1589178459090  \n\n\nåè®¾ä¸ä½¿ç¨useDebuValueï¼é»è®¤çå°çæ¯ï¼\n\nhooks  \n  time: \n    State:1589178459090  \n\n\nâMon May 11 2020 14:27:39 GMT+0800 (ä¸­å½æ åæ¶é´) âå°±æ¯useDebugValueé¢å¤å±ç¤ºåºçä¿¡æ¯ã\n\nä½ çè³è¿å¯ä»¥ä½¿ç¨æ¨¡æ¿å­ç¬¦ä¸²ï¼å¯¹æ ¼å¼åæ°æ®è¿è¡ä¿®æ¹ï¼æ¯å¦å°åæ¬çç¬¬2ä¸ªåæ° time => new Date(time) ä¿®æ¹ä¸ºï¼time => `çè¿é ${new Date(time)}`\n\nå¨è°·æ­æµè§å¨è°è¯é¢æ¿çâComponentâå³ä¾§ï¼ä½ ä¼çå°ï¼\n\nhooks  \n  time:çè¿é Mon May 11 2020 14:27:39 GMT+0800 (ä¸­å½æ åæ¶é´)  \n    State:1589178459090  \n\n\n# åæ¬¡å¼ºè°ï¼å¯¹äºä¸è¬æ§çé¡¹ç®å¼åï¼æ¯ä¸éè¦ä½¿ç¨useDebugValueæ¥é¢å¤æ è®°æäºåéçï¼é»è®¤çè°è¯è¾åºè¶³å¤æä»¬ä½¿ç¨äºã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseDebugValueåºç¡ç¨æ³å·²ç»è®²å®ï¼æ²¡æé«çº§ç¨æ³ï¼ç´æ¥è¿å¥ä¸ä¸ä¸ªHookã\n\nä¸ï¼åºäºreact 16.13çæ¬çå¨é¨ hookï¼ç»äºè®²å®äºï¼æ²¡æä¸ä¸ä¸ªhookäºã\n\nè½åæå°ç°å¨ï¼ççä¸å®¹æï¼é»è®¤èªå¸¦ç react hook å­¦å®åï¼è¿éè¦å­¦ä¹ å¦ä½èªå®ä¹hook...\næ¶æèµ·æ¥ï¼ååæä¸ä¸ã",normalizedContent:"# 15 usedebugvalueåºç¡ç¨æ³\n\n\n# usedebugvalueæ¦å¿µè§£é\n\næä»¬ç¬¬åä¸ªè¦å­¦ä¹ çhook(é©å­å½æ°)æ¯usedebugvalueï¼ä»çä½ç¨æ¯âå¾ä½âreactå¼åè°è¯å·¥å·ä¸­çèªå®ä¹hookæ ç­¾ï¼è®©usedebugvalueå¾ä½çèªå®ä¹hookå¯ä»¥æ¾ç¤ºé¢å¤çä¿¡æ¯ã\n\n# âreactå¼åè°è¯å·¥å·âæ¯ä»ä¹ï¼\n\nç­ï¼è°·æ­æµè§å¨ä¸­çä¸ä¸ªæ©å±æä»¶ï¼åå­å«âreact developer toolsâï¼æ¹ä¾¿æä»¬å¨è°·æ­æµè§å¨ä¸è¿è¡reacté¡¹ç®è°è¯ã\n\nå¦ä½å®è£ï¼\nç­ï¼å¯å¨chromeæ©å±ç¨åºååºæç´¢å¹¶å®è£ãç±äºå½åç½ç»åå ï¼å¦æä½ ä¸ä¼ç§å­¦ä¸ç½ï¼é£ä¹å¯ä»¥éè¿å½åçä¸äºchromeæ©å±ç¨åºååºç½ç«ï¼ä¸è½½âreact developer toolsâç¦»çº¿çcrxå®è£æä»¶è¿è¡å®è£ãå·ä½åæ³å¯ä»¥èªå·±ç¾åº¦ã\n\nâreactå¼åè°è¯å·¥å·âçä½¿ç¨ç®åè¯´æï¼\nå¦æè¯¥æ©å±ç¨åºå®è£æåï¼é£ä¹ä¼æä»¥ä¸å ç§æåµï¼\n1ãå¯¹äºæ¬æºå¼åè°è¯çé¡¹ç®ç½é¡µï¼è¯¥æä»¶å¾æ ä¼åææ©é»è²ï¼ä¸å¾æ ä¸­é´æä¸ä¸ªå°è«å­ï¼è¡¨ç¤ºå¯ä»¥è¿è¡reactæºç å¼çè°è¯ï¼å½ä»£ç åºç°éè¯¯æ¶ä¼ç²¾åå®ä½åºéçä»£ç ä½ç½®ã\n\n2ãå¯¹äºå«äººå¼åçé¡¹ç®ç½é¡µï¼è¯¥æä»¶å¾æ ä¼åæèè²ï¼è¡¨ç¤ºè¯¥ç½é¡µç±reactå¼åï¼å½ä»£ç åºç°éè¯¯æ¶ä¸è½ç²¾åå®ä½åºéçä»£ç ä½ç½®ã\nä¾å¦é¿éäºåå°ãè¾è®¯äºåå°ãç¾åº¦ç¿»è¯è¿äºç½é¡µé½æ¯ç¨reactå¼åï¼è®¿é®è¿äºç½é¡µä½ å°±ä¼çå° è°è¯å·¥å·å¾åæ ä¸ºèè²ã è¿äºå¤§åé½ç¨reactï¼æä»¥è½ç¶å­¦ä¹ è¿ç¨ä¸­å¾çè¦ï¼ä½æ¯æ¯å¼å¾çã\n\n3ãå¯¹äºæ²¡æä½¿ç¨reactçç½é¡µï¼è¯¥æä»¶å¾æ ä¼åæç°è²ã\n\nè®©æä»¬åå°usedebugvalueåºç¡å­¦ä¹ ä¸­ã\n\n\n# usedebugvalueæ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼usedebugvalueçç®çæ¯âå¨reactå¼åèå·¥å·èªå®ä¹hookæ ç­¾ä¸­æ¾ç¤ºé¢å¤ä¿¡æ¯âï¼æ¹ä¾¿æä»¬âä¸ç¼å°±è½æ¾å°âå¯¹åºçèªå®ä¹hookã\n\nè¡¥åè¯´æï¼\n1ãreactå®ç½ææ¡£ä¸­æç¡®è¡¨ç¤ºï¼å¨æ®éé¡¹ç®å¼åä¸­ä¸æ¨èä½¿ç¨usedebugvalueï¼é»è®¤çè°è¯è¾åºå·²ç»å¾æ¸æ°å¯ç¨äºã\n2ãé¤éä½ çèªå®ä¹ hook æ¯ä½ä¸ºå±äº«åºä¸­çä¸é¨åææä»·å¼ãè¿æ ·å¶ä»äººæ´å®¹ææ³¨æå°ä½ èªå®ä¹çhookç¶æååã\n\n# èªå®ä¹hookï¼\n\nä½ å¯è½æ³¨æå°æ¬ç« ä¸­æå°äºâèªå®ä¹hookâï¼æ²¡éãåä¹åå­¦ä¹ çusestateãusecontextç­ç­é½æ¯reactèªå¸¦çhookï¼è¿äºé»è®¤çhookæ¯æä»¬é¡¹ç®å¼åæéè¦ç¨å°çåç§é©å­å½æ°ã\n\nä½æ¯å®éå¼åä¸­ï¼æä»¬éè¦åå©è¿äºåºç¡çãé»è®¤çãèªå¸¦çhookå½æ°ï¼éè¿ç»åä»¥åæ·»å ä¸å¡é»è¾ä»£ç ï¼å½¢æèªå·±çhookå½æ°ã\n\nå·ä½å¦ä½èªå®ä¹hookï¼ç¨åä¼åç¬æä¸ç« å¦ä½âèªå®ä¹hookâä¸­è¯¦ç»è®²è¿°ã\n\n\n# usedebugvalueå½æ°æºç ï¼\n\nåå°usedebugvalueçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸reactæºç ä¸­çreacthooks.jsã\n\n//å¤æ³¨ï¼æºç éç¨typescriptç¼åï¼å¦æä¸ætsä»£ç ï¼éè¯»èµ·æ¥ç¨æ¾å°é¾\nexport function usedebugvalue<t>(\n  value: t,\n  formatterfn: ?(value: t) => mixed,\n): void {\n    if (__dev__) {\n    const dispatcher = resolvedispatcher();\n    return dispatcher.usedebugvalue(value, formatterfn);\n  }\n}\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨hookâï¼å¹¶ä¸æ¯âhookæºç åæâã^_^\n\n\n# usedebugvalueåºæ¬ç¨æ³\n\nusedebugvalue(value,formatterfn)å½æ°ç¬¬1ä¸ªåæ°ä¸ºæä»¬è¦é¢å¤æ¾ç¤ºçåå®¹åéãç¬¬2ä¸ªåæ°æ¯å¯éçï¼æ¯å¯¹ç¬¬1ä¸ªåæ°å¼çæ°æ®åæ ¼å¼å½æ°ã\n\nè¯·æ³¨æï¼\n1ãusedebugvalueåºè¯¥å¨èªå®ä¹hookä¸­ä½¿ç¨ï¼å¦æç´æ¥å¨ç»ä»¶åä½¿ç¨æ¯æ æçï¼ä¸ä¼æ¥éä¹ä¸ä¼æä»»ä½é¢å¤ä¿¡æ¯å±ç¤ºã\n1ãä¸è¬è°è¯ä¸éè¦ä½¿ç¨usedebugvalueï¼é¤éä½ ç¼åçhookæ¯å¬å±åºä¸­çä¸é¨åï¼å®å¨æ¯æ³å¸æ¾é¢å¤ä¿¡æ¯ï¼å¼èµ·å«äººæ³¨æã\n2ãå¦æä½¿ç¨usedebugvalueï¼æå¥½è®¾ç½®ç¬¬2ä¸ªåæ°ï¼åreactå¼åè°è¯å·¥å·è®²æ¸æ¥å¦ä½æ ¼å¼åå±ç¤ºç¬¬1ä¸ªåæ°ã\n\n# ä»£ç å½¢å¼ï¼\n\nusedebugvalue(xxx, xxx => xxxxx)\n\n\n# æè§£è¯´æï¼\n\n1ãxxx ä¸ºæä»¬è¦éç¹å³æ³¨çåéã\n2ãxxx => xxxxx æ¯ (xxx) => {return xxxxx} çç®åãè¡¨æå¦ä½æ ¼å¼ååéxxxã\n\n\n# å¦ä½å¨reactè°è¯å·¥å·ä¸­æ¥çusedebugvalueè¡¨ç°å½¢å¼\n\nåææ¡ä»¶ï¼\n1ãå¨è°·æ­æµè§å¨ä¸­æåå®è£äºreactå¼åè°è¯å·¥å·\n2ãreacté¡¹ç®ä¸­ä½¿ç¨äºèªå®ä¹hookï¼ä¸hookä¸­ä½¿ç¨äºusedebugvalue\n\né£ä¹ä½ å¯ä»¥è¿è¡ä¸ä¸æ­¥éª¤ï¼\n1ãæå¼reactè°è¯ç½é¡µï¼ä¾å¦http://localhost:3000/\n2ãæå¼è°·æ­æµè§å¨è°è¯é¢æ¿(å¿«æ·é®ä¸ºf12)\n3ãæ¾å°å¹¶ç¹å»âcomponentsâä¸æ \n4ãå¨å³ä¾§çªå£ä¸­ï¼æ¾å°âhooksâï¼å¨âhooksâä¸å°±è½çå°èªå®ä¹hookä¸­usedebugvalueèªå®ä¹æ¾ç¤ºçä¿¡æ¯ã\n\nå·ä½è¿æ¯ä»¥ä¸é¢å®éä¾å­æ¥è¯´æã\n\n\n# usedebugvalueä½¿ç¨ç¤ºä¾ï¼\n\nä¸¾ä¾ï¼usetimeæ¯æä»¬èªå®ä¹çä¸ä¸ªhookå½æ°ï¼é£ä¹å¨è¿ä¸ªèªå®ä¹hookä¸­ï¼å¯ä»¥éè¿usedebugvalueå¯¹åétimeè¿è¡é¢å¤ä¿¡æ¯å±ç¤ºã\n\nä»£ç ç¤ºä¾å¦ä¸ï¼\n\n//èªå®ä¹hookï¼usetime\nfunction usetime(date){\n  const [time,settime] = usestate(date);\n  usedebugvalue(time,time => new date(time));//è¯·æ³¨æè¿ä¸è¡ä»£ç \n  return [time,settime];\n}\n\n//ç»ä»¶ä¸­ä½¿ç¨usetimeï¼ä¼ªä»£ç çæ®µ\nconst [time,settime] = usetime(date.now());//è¯·æ³¨ææ­¤å¤ä½¿ç¨çæ¯èªå®ä¹hookï¼usetime\n\n\nä»£ç åæï¼\n1ãæä»¬å¨èªå®ä¹hookä¸­ï¼ä½¿ç¨äºusedebugvalue\n2ãusedebugvalueç¬¬1ä¸ªåæ°æ¯timeï¼åreactå¼åè°è¯å·¥å·è¡¨æè¦éç¹å³æ³¨çåéæ¯timeã\n3ãç¬¬2ä¸ªåæ°æ¯å¯¹timeçä¸ä¸ªæ ¼å¼åå½æ°ãç±äºtimeå®éä¸ºä¸ä¸ªæ¶é´æ³æ°å­ï¼éè¿time => new date(time)å°æ¶é´æ³è½¬åæå·ä½çå¯è¯»æ¶é´å­ç¬¦ä¸²ï¼ä¾å¦æ­¤æ¶æ­¤å»ï¼mon may 11 2020 14:27:39 gmt+0800 (ä¸­å½æ åæ¶é´)\n\n# å·ä½è¡¨ç°\n\nå¨è°·æ­æµè§å¨è°è¯é¢æ¿çâcomponentâå³ä¾§ï¼ä½ ä¼çå°ï¼\n\nhooks  \n  time:mon may 11 2020 14:27:39 gmt+0800 (ä¸­å½æ åæ¶é´)  \n    state:1589178459090  \n\n\nåè®¾ä¸ä½¿ç¨usedebuvalueï¼é»è®¤çå°çæ¯ï¼\n\nhooks  \n  time: \n    state:1589178459090  \n\n\nâmon may 11 2020 14:27:39 gmt+0800 (ä¸­å½æ åæ¶é´) âå°±æ¯usedebugvalueé¢å¤å±ç¤ºåºçä¿¡æ¯ã\n\nä½ çè³è¿å¯ä»¥ä½¿ç¨æ¨¡æ¿å­ç¬¦ä¸²ï¼å¯¹æ ¼å¼åæ°æ®è¿è¡ä¿®æ¹ï¼æ¯å¦å°åæ¬çç¬¬2ä¸ªåæ° time => new date(time) ä¿®æ¹ä¸ºï¼time => `çè¿é ${new date(time)}`\n\nå¨è°·æ­æµè§å¨è°è¯é¢æ¿çâcomponentâå³ä¾§ï¼ä½ ä¼çå°ï¼\n\nhooks  \n  time:çè¿é mon may 11 2020 14:27:39 gmt+0800 (ä¸­å½æ åæ¶é´)  \n    state:1589178459090  \n\n\n# åæ¬¡å¼ºè°ï¼å¯¹äºä¸è¬æ§çé¡¹ç®å¼åï¼æ¯ä¸éè¦ä½¿ç¨usedebugvalueæ¥é¢å¤æ è®°æäºåéçï¼é»è®¤çè°è¯è¾åºè¶³å¤æä»¬ä½¿ç¨äºã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºusedebugvalueåºç¡ç¨æ³å·²ç»è®²å®ï¼æ²¡æé«çº§ç¨æ³ï¼ç´æ¥è¿å¥ä¸ä¸ä¸ªhookã\n\nä¸ï¼åºäºreact 16.13çæ¬çå¨é¨ hookï¼ç»äºè®²å®äºï¼æ²¡æä¸ä¸ä¸ªhookäºã\n\nè½åæå°ç°å¨ï¼ççä¸å®¹æï¼é»è®¤èªå¸¦ç react hook å­¦å®åï¼è¿éè¦å­¦ä¹ å¦ä½èªå®ä¹hook...\næ¶æèµ·æ¥ï¼ååæä¸ä¸ã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"16 èªå®ä¹hook",frontmatter:{title:"16 èªå®ä¹hook",date:"2023-09-18T16:40:07.000Z",permalink:"/pages/c38877/"},regularPath:"/03.react/16.%E8%87%AA%E5%AE%9A%E4%B9%89hook.html",relativePath:"03.react/16.èªå®ä¹hook.md",key:"v-3a895b40",path:"/pages/c38877/",headers:[{level:2,title:"èªå®ä¹hookæ¦å¿µè§£é",slug:"èªå®ä¹hookæ¦å¿µè§£é",normalizedTitle:"èªå®ä¹hookæ¦å¿µè§£é",charIndex:17},{level:2,title:"èªå®ä¹hookæ¯æ¥è§£å³ä»ä¹é®é¢çï¼",slug:"èªå®ä¹hookæ¯æ¥è§£å³ä»ä¹é®é¢ç",normalizedTitle:"èªå®ä¹hookæ¯æ¥è§£å³ä»ä¹é®é¢çï¼",charIndex:293},{level:2,title:"èªå®ä¹hookåºæ¬ç¨æ³",slug:"èªå®ä¹hookåºæ¬ç¨æ³",normalizedTitle:"èªå®ä¹hookåºæ¬ç¨æ³",charIndex:520},{level:5,title:"ä»£ç åæï¼",slug:"ä»£ç åæ",normalizedTitle:"ä»£ç åæï¼",charIndex:1907},{level:2,title:"ä¸å¸¦è¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾ï¼",slug:"ä¸å¸¦è¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾",normalizedTitle:"ä¸å¸¦è¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾ï¼",charIndex:2400},{level:2,title:"å¸¦æ®éè¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾ï¼",slug:"å¸¦æ®éè¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾",normalizedTitle:"å¸¦æ®éè¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾ï¼",charIndex:3525},{level:2,title:"å¸¦ç¹æ®ç»æè¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾ï¼",slug:"å¸¦ç¹æ®ç»æè¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾",normalizedTitle:"å¸¦ç¹æ®ç»æè¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾ï¼",charIndex:4990}],headersStr:"èªå®ä¹hookæ¦å¿µè§£é èªå®ä¹hookæ¯æ¥è§£å³ä»ä¹é®é¢çï¼ èªå®ä¹hookåºæ¬ç¨æ³ ä»£ç åæï¼ ä¸å¸¦è¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾ï¼ å¸¦æ®éè¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾ï¼ å¸¦ç¹æ®ç»æè¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾ï¼",content:"# 16 èªå®ä¹hook\n\n\n# èªå®ä¹hookæ¦å¿µè§£é\n\nåuseStateãuseEffectãuseContextãuseReducerãuseCallbackãuseMemoãuseRefãuseImperativeHandleãuseLayoutEffectãuseDebugValueè¿10ä¸ªhookæ¯reacté»è®¤èªå¸¦çhookï¼èæè°èªå®ä¹hookå°±æ¯ç±æä»¬èªå·±ç¼åçhookã\n\næè°èªå®ä¹hookå°±æ¯æåæ¥åå¨å½æ°ç»ä»¶åçhookç¸å³ä»£ç æ½ç¦»åºæ¥ï¼åç¬å®ä¹æä¸ä¸ªå½æ°ï¼èè¿ä¸ªæ½ç¦»åºæ¥çhookå½æ°å°±ç§°ä¹ä¸ºâèªå®ä¹hooké©å­å½æ°âï¼ç®ç§°âèªå®ä¹hookâã\n\n\n# èªå®ä¹hookæ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼èªå®ä¹hookæ¯å°åæ¥å¨ç»ä»¶ä¸­ç¼åçç¸å³hookä»£ç æ½ç¦»åºç»ä»¶ï¼è®©hookç¸å³ä»£ç ç¬ç«å­å¨ï¼è¾¾å°ä¼åä»£ç ç»æãç¸å³hookä»£ç å¯ä»¥éå¤ä½¿ç¨çç®çã\n\nè¡¥åè¯´æï¼\n1ãå¦æä½ å¨å«äººçé¡¹ç®ä»£ç ä¸­ï¼åç°é¤äºreacté»è®¤èªå¸¦çé£10ä¸ªhookä»¥å¤ï¼åºç°äº useXxx() è¿æ ·çççåhookçå½æ°ï¼å¯ä»¥è¯å®é£äºå°±æ¯èªå®ä¹çhookã\n2ãéçreactæ°çæ¬åå¸ï¼å¯è½ä¼åºç°æ´å¤æ°çãé»è®¤èªå¸¦çhookã\n\n\n# èªå®ä¹hookåºæ¬ç¨æ³\n\né¦åæä»¬ç¥éhookåªè½ç¨å¨å½æ°ç»ä»¶ä¸­ï¼èå½æ°ç»ä»¶æ¬èº«æ¯ä¸ä¸ªç¨å¾®ç¹æ®çå½æ°ï¼å°½ç®¡ç¨å¾®ç¹æ®ä½æ¯ç«ä»ä¹éµå¾ªä¸è¬å½æ°çä½¿ç¨è§å¾ã æè°âæåæ¥åå¨å½æ°ç»ä»¶åçhookç¸å³ä»£ç æ½ç¦»åºæ¥ï¼åç¬å®ä¹æä¸ä¸ªå½æ°â æ¬è´¨ä¸å°±æ¯æå½æ°åé¨å®ä¹çåéææ¹æ³æ¿åºæ¥ï¼æ¾å°å½æ°å¤é¢åç¬å®ä¹æä¸ä¸ªå½æ°ã\n\nè¿ä¸ªæ½ç¦»åºæ¥æ°å®ä¹çå½æ°ï¼éµå¾ªJSé»è®¤çå½æ°ç¨æ³ï¼å³å½æ°åæ°å¯ä»¥ä»»æè®¾å®ï¼è¿åå¼ä¹å¯ä»¥æ¯ä»»æåå®¹ã\n\nè¯·æ³¨æï¼reactè§å®ææçèªå®ä¹hookå½æ°å½åæ¶å¿é¡»ä½¿ç¨ useXxx è¿ç§å½¢å¼ã\n\nä¸¾ä¸ä¸ªæç®åçä¾å­ï¼åè®¾æä»¬æä¸ä¸ªç»ä»¶ï¼ç»ä»¶åé¨æä¸ä¸ªcountçåéï¼æä»¬çä»£ç ä¹åæ¯è¿æ ·çï¼\n\nimport React,{useState} from 'react'\nfunction CurrentComponent() {\n  const [count,setCount] = useState(0);//è¯·æ³¨æè¿è¡ä»£ç ï¼å°±æ¯æä»¬è¦å³å°æ½ç¦»åºå»çhook\n  return (\n    <div>\n        {count}\n        <button onClick={() => setCount(count+1)}>add +1</button>\n    </div>\n  )\n}\nexport default CurrentComponent\n\n\nå¨ä¸é¢è¿ä¸ªç»ä»¶ä¸­ï¼éè¿ const [count,setCount] = useState(0) å®ä¹äºç»ä»¶åçåécountåä¿®æ¹countçæ¹æ³ãé£æä»¬ç°å¨å°è¿è¡ç¸å³çhookæ½ç¦»åºå½æ°ç»ä»¶ãæä»¬è®¡åææ½ç¦»åºæ¥çãåcountç¸å³çå½æ°ï¼å½åä¸ºuseCountï¼ä¿®æ¹åçä»£ç å¦ä¸ï¼\n\n//useCount.js\nimport {useState} from 'react'ï¼\nfunction useCount(initialValue){\n\n  //ä¾ç¶ä½¿ç¨ useState åå»ºcountcountåsetCount\n  //å¹¶ä¸å°åæ°initialValueçå¼èµäºç»countä½ä¸ºé»è®¤å¼\n  //å°åå»ºå¥½çcountåsetCountä½ä¸ºå½æ°è¿åå¼ return åºå»\n\n  const [count,setCount] = useState(initialValue);\n  return [count,setCount];\n}\nexport default useCount;\n\n//CurrentComponent.js\nimport React from 'react'\nimport useCount from './useCount';//å¼å¥useCount\nfunction CurrentComponent() {\n  const [count,setCount] = useCount(0);//è¯·æ³¨æè¿éä½¿ç¨çæ¯useCountï¼èä¸æ¯useState\n  return (\n    <div>\n        {count}\n        <button onClick={() => setCount(count+1)}>add +1</button>\n    </div>\n  )\n}\nexport default CurrentComponent\n\n\n# ä»£ç åæï¼\n\n1ãæä»¬å°åæ¬ç»ä»¶åå®ä¹çcountç¸å³ä»£ç æ½ç¦»åºç»ä»¶ï¼åç¬å®ä¹ä¸ä¸ª useCount å½æ°ã\n2ãç»ä»¶éè¦ä½¿ç¨ useCountï¼åªéåå¼å¥useCountï¼ç¶åæ useCount å½ææ®éå½æ°ä½¿ç¨å°±å¥½äºã\n3ãuseCountå°±æ¯æä»¬èªå®ä¹çhookã\n\næ³¨æï¼ä¸è¬èªå®ä¹hooké¡¶é¨æ¯ä¸éè¦å¼å¥Reactçï¼åªéè¦å¼å¥ä½¿ç¨å°ç hook å½æ°å³å¯ã\nä¾å¦ä¸é¢ useCount é¡¶é¨ï¼æä»¬åçæ¯ import {useState} from 'react' èä¸æ¯ import React,{useState} from 'react'ï¼\n\nä¸é¢ä¸¾ä¾ä¸­çuseCountéå¸¸ç®åï¼åé¨å¹¶æ²¡æè¿å¤é»è¾ï¼å¨å®éå¼åä¸­èªå®ä¹hookåé¨è¯å®è¦ææ¯è¾å¤æçé»è¾ã\n\nç±äºæ¯åç¬å®ä¹çï¼æä»¥èªå®ä¹hookå¯ä»¥åæ¶è¢«å¤ä¸ªç»ä»¶å¼å¥åä½¿ç¨ï¼è¾¾å°ä»£ç å¤ç¨çç®çã\n\nåéç¹ï¼å¨å®éé¡¹ç®ä¸­ï¼éå¸¸èªå®ä¹hookè¿åå¼æ3ç§è¡¨ç°å½¢å¼ï¼\n1ãä¸å¸¦è¿åå¼çå½æ°\n2ãå¸¦æ®éè¿åå¼çå½æ°\n3ãå¸¦ç¹æ®ç»æè¿åå¼çå½æ°\n\nä»¥ä¸3ç§ä¸åè¿åå¼åæåçéç¨åºæ¯ï¼ä¸é¢å°±ä»¥å®éç¤ºä¾æ¥éä¸è¯´æã\n\n\n# ä¸å¸¦è¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾ï¼\n\nä¸¾ä¾ï¼è¥ç¶ç»ä»¶åæå¤ä¸ªå­ç»ä»¶ï¼æ¯ä¸ªå­ç»ä»¶åé¨é½æä¸åçä¸å¡ä»£ç ï¼ä½æ¯ææå­ç»ä»¶æä¸ä¸ªç¸åçåè½ï¼å°±æ¯å½èªèº«åé¨åévalueåçååæ¶ï¼å°ç½é¡µæ é¢æ¹ä¸ºåévalueçå¼ã\n\né¦åæä»¬ç¥éä¿®æ¹ç½é¡µæ é¢æ¯å¨ç»ä»¶åé¨çuseEffect()å½æ°ä¸­ä¿®æ¹ï¼é£ç»åä¸é¢çä½¿ç¨åºæ¯ï¼æä»¬å¯ä»¥å°useEffect()åç¬æ½ç¦»åºæ¥ï¼ä½ä¸ºä¸ä¸ªèªå®ä¹hookï¼å½åä¸º useDocumentTitleï¼è®©ææå­ç»ä»¶é½å¤ç¨è¿ä¸ªuseDocumentTitleã\n\nuseDocumentTitle ä»£ç å¦ä¸ï¼\n\nimport {useEffect} from 'react'\nfunction useDocumentTitle(value) {\n  useEffect(() => {\n    document.title = value;\n  },[value]);\n}\nexport default useDocumentTitle;\n\n\nåè®¾æä»¬å¶ä¸­ä¸ä¸ªå­ç»ä»¶çåè½ä¸ºï¼\n1ãæ1ä¸ªnumberç±»åçåécount\n2ãæ1ä¸ªæé®ï¼ç¹å»æé®åå°countä¿®æ¹ä¸ºä¸ä¸ªéæºæ°å­\n3ãå½ç»ä»¶éæ°æ¸²æå®æåï¼å°ç½é¡µæ é¢ä¿®æ¹ä¸ºcountçå¼\n\nå­ç»ä»¶ä»£ç ä¸ºï¼\n\nimport React,{useState} from 'react'\nimport useDocumentTitle from './useDocumentTitle';\nfunction ChildComponent() {\n  const [count,setCount] = useState(0);\n  useDocumentTitle(count);//æåé¨åécountä¼ ç»useDocumentTitleï¼æ¢ä½ä¸ºç½é¡µæ é¢åå®¹ï¼åæ¶ä¹ä½ä¸ºuseEffectçåéä¾èµ\n  return (\n    <div>\n        <button onClick={() => setCount(Math.floor(Math.random()*1000))}>click me</button>\n    </div>\n  )\n}\nexport default ChildComponent\n\n\nå¶ä»å­ç»ä»¶ä¹ä½¿ç¨useDocumentTitleï¼è¿æ ·æä»¬ä¾¿å°åæ¬æ¯ä¸ªå­ç»ä»¶é½éè¦ç¼åçuseEffectæ¹ä¸ºç»ä¸çuseDocumentTitleï¼å®ç°äºä»£ç å¤ç¨ã\n\nåºç¨åºæ¯å°æ»ç»ï¼\nå¨è¿ä¸ªç¤ºä¾ä¸­ï¼useDocumentTitleå½æ°å¹¶æ²¡æä»»ä½è¿åå¼ï¼å­ç»ä»¶ä½¿ç¨useDocumentTitleæ¶å°±å¥½ååæ¬é£æ®µuseEffectä»£ç æ¬èº«å°±å®ä¹å¨é£éä¼¼çã\n\n\n# å¸¦æ®éè¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾ï¼\n\nå¨æ¬ç« æå¼å§è®²è§£âèªå®ä¹hookåºæ¬ç¨æ³âæ¶ï¼æä¸¾çuseCountä¾å­éå¸¸ç®åï¼è¿æ¬¡æä»¬å°å¯¹useCountè¿è¡åè½ä¸çæ©å±ã\n\nåæ¬useCountåªæ¯å®ä¹äºcountåsetCountï¼è¿æ¬¡æè°çåè½æ©å±ï¼å°±æ¯å°setCountæ¹ä¸ºå¶ä»å ç§ä¿®æ¹countçå½æ°ã\nä¾å¦ï¼\n1ãæ·»å  add()\n2ãåå» sub()\n3ãç¸ä¹ mul()\n4ãæ¢å¤åå§å¼ reset()\n\nä¿®æ¹åçuseCountä»£ç ä¸ºï¼\n\nimport {useState} from 'react'\nfunction useCount(initialValue){\n  const [count,setCount] = useState(initialValue);\n  const add = param => {setCount(prev => prev + param);}\n  const sub = param => {setCount(prev => prev - param);}\n  const mul = param => {setCount(prev => prev * param);}\n  const reset = () => {setCount(() => initialValue);}\n  return [count,add,sub,mul,reset]; //å°countåå®ä¹ç4ä¸ªæ¹æ³ä½ä¸ºè¿åå¼ return åºå»\n}\nexport default useCount;\n\n\nè¯·æ³¨æï¼ä¸ºäºé¿å4ä¸ªä¿®æ¹å½æ°ä¸­å¾å°çæ¯æ§çcountï¼æä»¥æä»¬éç¨çæ¯ setCount(prev => xxxxx) è¿ç§ä¿®æ¹æ¹å¼ï¼èä¸æ¯ç´æ¥ä½¿ç¨ setCount(count xxx)ã\n\nCurrentComponentç»ä»¶æ³ä½¿ç¨useCountï¼ä»£ç ä¸ºï¼\n\nimport React from 'react'\nimport useCount from './useCount'\n\nfunction CurrentComponent() {\n  const [count,add,sub,mul,reset] = useCount(0); //ä½¿ç¨useCountï¼å¹¶è§£æuseCountçè¿åå¼\n  return (\n    <div>\n        {count}\n        <button onClick={() => {add(1)}}>+ 1</button>\n        <button onClick={() => {sub(1)}}>- 1</button>\n        <button onClick={() => {mul(2)}}>* 2</button>\n        <button onClick={() => {reset()}}>reset</button>\n    </div>\n  )\n}\nexport default CurrentComponent\n\n\nå¯¹äºä¸é¢è¿ä¸ªææï¼ä½ æ¯å¦è§å¾ç¼çï¼ æ²¡éï¼å¨è®²è§£useReduceræ¶ï¼å°±ä½¿ç¨useReducerå®ç°äºç±»ä¼¼çä¸ä¸ªææã åªä¸è¿è¿æ¬¡æ¯ä¸ºäºè®²è§£èªå®ä¹hookï¼èé£æ¬¡æ¯è®²è§£å¦ä½ä½¿ç¨useReduceræ¿ä»£useStateå®ç°å¤æçä¸å¡ã\n\nåºç¨åºæ¯å°æ»ç»ï¼\n1ãæä»¬å¯ä»¥å¨èªå®ä¹hookä¸­ç¼åç¸å³ä¸å¡é»è¾å½æ°(æ¹æ³)ï¼å¹¶éè¿è¿åå¼çå½¢å¼ return åºå»ï¼ä¾å¶ä»ç»ä»¶è°ç¨ã\n\n\n# å¸¦ç¹æ®ç»æè¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾ï¼\n\nä¸ä¸ä¸ªä»£ç ç¤ºä¾è®²è§£äºâå¸¦æ®éè¿åå¼âçèªå®ä¹hookï¼é£è¿æ¬¡è¦è®²çâå¸¦ç¹æ®ç»æè¿åå¼âçèªå®ä¹hookç©¶ç«å·®å«å¨åªéï¼\n\nâå¸¦ç¹æ®ç»æè¿åå¼âä¸­çç¹æ®æ¯æï¼\nç­ï¼æä»¬æç»ä»¶éè¦ç¨å°çå¤é¡¹å±æ§è®¾ç½®ï¼åå¹¶ä¸ºä¸ä¸ªå¯¹è±¡ å¹¶ return åºå»ï¼ä¾ç»ä»¶ä½¿ç¨ã\n\nè¿æ¯ä»¥ç¤ºä¾æ¥è®²è§£ä¼æ´å®¹æçè§£ï¼åè®¾æä»¬æä¸ä¸ªç»å½ç»ä»¶ï¼åè½ä¸ºï¼\n1ãæä¸ä¸ªç¨æ·åè¾å¥æ¡\n2ãæä¸ä¸ªå¯ç è¾å¥æ¡\n3ãæä¸ä¸ªæäº¤æé®\n\nè¡¥åè¯´æï¼ä¸ºäºç®åä»£ç ï¼æä»¬å¹¶ä¸åçæ­£çç»å½éªè¯ï¼ç¹å»æäº¤æé®åï¼\n1ãä»ä»æ¯alertä¸ä¸ç¨æ·ååå¯ç ï¼å³è¡¨ç¤ºç»å½\n2ãåæ¶æ¸é¤ç¨æ·ååå¯ç è¾å¥æ¡éçåå®¹\n\néæ±åæï¼\n1ãæ¯ä¸ªè¾å¥æ¡é½æ¯ä¸ä¸ª<input>ï¼é½éè¦ç»å®ä¸ä¸ªåéï¼é½éè¦è®¾ç½®onChangeäºä»¶\n2ãæ¯ä¸ä¸ªè¾å¥æ¡é½éè¦æ¸ç©ºåå®¹\n\næä»¬å°å®ä¹ä¸ä¸ªèªå®ä¹hookï¼å½åä¸ºuseInputï¼useInputæ¥å®ç°è¿2ä¸ªè¾å¥æ¡å±æçä¸å¡é»è¾ã\n\nuseInputçä»£ç ä¸ºï¼\n\nimport {useState} from 'react'\nfunction useInput(initialValue) {\n  const [value,setValue] = useState(initialValue); //å®ä¹è¾å¥æ¡å¯¹åºçå¼value\n  //å®ä¹resetå½æ°ï¼ç¨æ¥éç½®è¾å¥æ¡\n  const reset = () => {\n    setValue(initialValue);\n  }\n  //å®ä¹ä¸ä¸ª bind å¯¹è±¡ï¼è¯¥å¯¹è±¡æ value å onChange 2ä¸ªå±æ§\n  const bind = {\n    value,\n    onChange: eve => {\n        setValue(eve.target.value)\n    }\n  }\n  return [value,reset,bind];//å°è¾å¥æ¡çå¼ãéç½®è¾å¥æ¡å½æ°ãå®ä¹çbindå¯¹è±¡ä½ä¸ºè¿åå¼ return åºå»\n}\nexport default useInput\n\n\nè¯·æ³¨æï¼å¨useInputä¸­ï¼è¿åå¼ valueãreset æä»¬å¾å®¹æçè§£ï¼ä½æ¯ bind æ¯æ¥åä»ä¹çï¼\nç­ï¼è¿ä¸ª bind å°±æ¯æä»¬åé¢æå°çâå¸¦ç¹æ®ç»æè¿åå¼âï¼bindå¯¹è±¡æ¬èº«ç»æç±2ä¸ªå±æ§valueåonChangeç»æã\nè³äº bind æä¹ç¨ï¼å¾å¿«æ­æã\n\nç»å½ç»ä»¶LoginFormçä»£ç ä¸ºï¼\n\nimport React from 'react'\nimport useInput from './useInput';\nfunction LoginForm() {\n  const [usename,resetUsename,bindUsename] = useInput(''); //å®ä¹ç¨æ·åè¾å¥æ¡ç¸å³çåé\n  const [password,resetPassword,bindPassword] = useInput(''); //å®ä¹å¯ç è¾å¥æ¡ç¸å³çåé\n\n  const submitHandle = (eve) => {\n    eve.preventDefault(); //é»æ­¢formçæ­£æäº¤\n    alert(`usename:${usename}\\rpassword:${password}`); //éè¿alertï¼å¼¹åºç¨æ·ååå¯ç çå¼\n    resetUsename(); //éç½®ç¨æ·åè¾å¥æ¡\n    resetPassword(); //éç½®å¯ç è¾å¥æ¡\n  }\n\n  //è¯·ç¹å«çæç¨æ·ååå¯ç è¾å¥æ¡ä¸­ç {...bindUsename}å{...bindPassword}\n  return (\n    <form onSubmit={submitHandle}>\n        <label>usename:</label>\n        <input type='text' {...bindUsename} />\n        <label>password:</label>\n        <input type='password' {...bindPassword} />\n        <input type='submit' value='login' />\n    </form>\n  )\n}\nexport default LoginForm;\n\n\nå¯¹äºè·åè¾å¥æ¡çå¼ãä»¥åè°ç¨è¾å¥æ¡å¯¹åºçreset()å½æ°ï¼ç¸ä¿¡ä½ å¾å®¹æçè§£ã\n\nä¸é¢å¯¹ {...bindUsename} å {...bindPassword} åè¿ä¸æ­¥è¯´æï¼\n1ãé¦åæä»¬ç¥é {...obj} è¿ç§å¨åçJSä¸­ï¼ç¸å½äºæobjå¯¹è±¡è¿è¡è§£æï¼ç¶åå¾å°ä¸ä¸ªæµæ·è´çæ°å¯¹è±¡ã\n2ãä½æ¯å¨ä¸é¢çä»£ç ä¸­å¹¶ä¸æ¯è¿ä¸ªææï¼åä¸ä¸è¦è¢«è¿·æã å¨JSXä¸­çæç»ä»¶ï¼å¦æè¦æ·»å æå±æ§ï¼æ ¼å¼ä¸º xxx={xxx}ã\n\nä¾å¦å¸¸è§çç»ä¸ä¸ªè¾å¥æ¡ç»å®æåéï¼åæ¶æ·»å onChangeäºä»¶ï¼ä¸è¬åæ³ä¸ºï¼\n\n<input type='text' value={xx} onChange={xxxx} />\n\n\nèæä»¬æ¬æ¬¡ä»£ç ä¸­ï¼éç¨çæ¯ï¼\n\n<input type='text' {...bindUsename} />\n<input type='password' {...bindPassword} />\n\n\nè¿éé¢ç {...bindUsename} {...bindPassword} å¶å®ç¸å½äºæ bindUsename å bindPassword è¿è¡äºè§£æï¼å°±å¥½åç´æ¥åå¨è¿éä¼¼çã\n\nå¦æ<input>ä¸­æéå¸¸å¤ç¸åçå±æ§ï¼é£ä¹æè¿äºç¸åå±æ§æç¼å° useInput ç bind ä¸­ï¼è¿æ ·å¯ä»¥ç®åç»ä»¶éçä»£ç ã\n\nåºç¨åºæ¯å°æ»ç»ï¼\n1ãå¨èªå®ä¹hookä¸­ï¼å°ç»ä»¶éè¦çå¤é¡¹å±æ§åå¹¶æä¸ä¸ªå¯¹è±¡ï¼ä¾ç»ä»¶å±æ§è§£æä½¿ç¨ï¼ä¼ç®åç»ä»¶ä»£ç ï¼æé«ä»£ç å¤ç¨çã\n\nç¸ä¿¡éè¿ä¸é¢3ä¸ªç¤ºä¾ï¼å¯¹èªå®ä¹hookçè¿åå¼ä¸åå½¢å¼çæ¼ç¤ºï¼ä¸¾ä¸åä¸ï¼ä¼å¸®å©ä½ çµæ´»çç¼åèªå®ä¹hookã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºèªå®ä¹hookå·²ç»è®²å®ã\n\næä»¬å¯¹ä¹åææå­¦è¿çhookè¿è¡ä¸æ¬¡å°æ»ç»ã",normalizedContent:"# 16 èªå®ä¹hook\n\n\n# èªå®ä¹hookæ¦å¿µè§£é\n\nåusestateãuseeffectãusecontextãusereducerãusecallbackãusememoãuserefãuseimperativehandleãuselayouteffectãusedebugvalueè¿10ä¸ªhookæ¯reacté»è®¤èªå¸¦çhookï¼èæè°èªå®ä¹hookå°±æ¯ç±æä»¬èªå·±ç¼åçhookã\n\næè°èªå®ä¹hookå°±æ¯æåæ¥åå¨å½æ°ç»ä»¶åçhookç¸å³ä»£ç æ½ç¦»åºæ¥ï¼åç¬å®ä¹æä¸ä¸ªå½æ°ï¼èè¿ä¸ªæ½ç¦»åºæ¥çhookå½æ°å°±ç§°ä¹ä¸ºâèªå®ä¹hooké©å­å½æ°âï¼ç®ç§°âèªå®ä¹hookâã\n\n\n# èªå®ä¹hookæ¯æ¥è§£å³ä»ä¹é®é¢çï¼\n\nç­ï¼èªå®ä¹hookæ¯å°åæ¥å¨ç»ä»¶ä¸­ç¼åçç¸å³hookä»£ç æ½ç¦»åºç»ä»¶ï¼è®©hookç¸å³ä»£ç ç¬ç«å­å¨ï¼è¾¾å°ä¼åä»£ç ç»æãç¸å³hookä»£ç å¯ä»¥éå¤ä½¿ç¨çç®çã\n\nè¡¥åè¯´æï¼\n1ãå¦æä½ å¨å«äººçé¡¹ç®ä»£ç ä¸­ï¼åç°é¤äºreacté»è®¤èªå¸¦çé£10ä¸ªhookä»¥å¤ï¼åºç°äº usexxx() è¿æ ·çççåhookçå½æ°ï¼å¯ä»¥è¯å®é£äºå°±æ¯èªå®ä¹çhookã\n2ãéçreactæ°çæ¬åå¸ï¼å¯è½ä¼åºç°æ´å¤æ°çãé»è®¤èªå¸¦çhookã\n\n\n# èªå®ä¹hookåºæ¬ç¨æ³\n\né¦åæä»¬ç¥éhookåªè½ç¨å¨å½æ°ç»ä»¶ä¸­ï¼èå½æ°ç»ä»¶æ¬èº«æ¯ä¸ä¸ªç¨å¾®ç¹æ®çå½æ°ï¼å°½ç®¡ç¨å¾®ç¹æ®ä½æ¯ç«ä»ä¹éµå¾ªä¸è¬å½æ°çä½¿ç¨è§å¾ã æè°âæåæ¥åå¨å½æ°ç»ä»¶åçhookç¸å³ä»£ç æ½ç¦»åºæ¥ï¼åç¬å®ä¹æä¸ä¸ªå½æ°â æ¬è´¨ä¸å°±æ¯æå½æ°åé¨å®ä¹çåéææ¹æ³æ¿åºæ¥ï¼æ¾å°å½æ°å¤é¢åç¬å®ä¹æä¸ä¸ªå½æ°ã\n\nè¿ä¸ªæ½ç¦»åºæ¥æ°å®ä¹çå½æ°ï¼éµå¾ªjsé»è®¤çå½æ°ç¨æ³ï¼å³å½æ°åæ°å¯ä»¥ä»»æè®¾å®ï¼è¿åå¼ä¹å¯ä»¥æ¯ä»»æåå®¹ã\n\nè¯·æ³¨æï¼reactè§å®ææçèªå®ä¹hookå½æ°å½åæ¶å¿é¡»ä½¿ç¨ usexxx è¿ç§å½¢å¼ã\n\nä¸¾ä¸ä¸ªæç®åçä¾å­ï¼åè®¾æä»¬æä¸ä¸ªç»ä»¶ï¼ç»ä»¶åé¨æä¸ä¸ªcountçåéï¼æä»¬çä»£ç ä¹åæ¯è¿æ ·çï¼\n\nimport react,{usestate} from 'react'\nfunction currentcomponent() {\n  const [count,setcount] = usestate(0);//è¯·æ³¨æè¿è¡ä»£ç ï¼å°±æ¯æä»¬è¦å³å°æ½ç¦»åºå»çhook\n  return (\n    <div>\n        {count}\n        <button onclick={() => setcount(count+1)}>add +1</button>\n    </div>\n  )\n}\nexport default currentcomponent\n\n\nå¨ä¸é¢è¿ä¸ªç»ä»¶ä¸­ï¼éè¿ const [count,setcount] = usestate(0) å®ä¹äºç»ä»¶åçåécountåä¿®æ¹countçæ¹æ³ãé£æä»¬ç°å¨å°è¿è¡ç¸å³çhookæ½ç¦»åºå½æ°ç»ä»¶ãæä»¬è®¡åææ½ç¦»åºæ¥çãåcountç¸å³çå½æ°ï¼å½åä¸ºusecountï¼ä¿®æ¹åçä»£ç å¦ä¸ï¼\n\n//usecount.js\nimport {usestate} from 'react'ï¼\nfunction usecount(initialvalue){\n\n  //ä¾ç¶ä½¿ç¨ usestate åå»ºcountcountåsetcount\n  //å¹¶ä¸å°åæ°initialvalueçå¼èµäºç»countä½ä¸ºé»è®¤å¼\n  //å°åå»ºå¥½çcountåsetcountä½ä¸ºå½æ°è¿åå¼ return åºå»\n\n  const [count,setcount] = usestate(initialvalue);\n  return [count,setcount];\n}\nexport default usecount;\n\n//currentcomponent.js\nimport react from 'react'\nimport usecount from './usecount';//å¼å¥usecount\nfunction currentcomponent() {\n  const [count,setcount] = usecount(0);//è¯·æ³¨æè¿éä½¿ç¨çæ¯usecountï¼èä¸æ¯usestate\n  return (\n    <div>\n        {count}\n        <button onclick={() => setcount(count+1)}>add +1</button>\n    </div>\n  )\n}\nexport default currentcomponent\n\n\n# ä»£ç åæï¼\n\n1ãæä»¬å°åæ¬ç»ä»¶åå®ä¹çcountç¸å³ä»£ç æ½ç¦»åºç»ä»¶ï¼åç¬å®ä¹ä¸ä¸ª usecount å½æ°ã\n2ãç»ä»¶éè¦ä½¿ç¨ usecountï¼åªéåå¼å¥usecountï¼ç¶åæ usecount å½ææ®éå½æ°ä½¿ç¨å°±å¥½äºã\n3ãusecountå°±æ¯æä»¬èªå®ä¹çhookã\n\næ³¨æï¼ä¸è¬èªå®ä¹hooké¡¶é¨æ¯ä¸éè¦å¼å¥reactçï¼åªéè¦å¼å¥ä½¿ç¨å°ç hook å½æ°å³å¯ã\nä¾å¦ä¸é¢ usecount é¡¶é¨ï¼æä»¬åçæ¯ import {usestate} from 'react' èä¸æ¯ import react,{usestate} from 'react'ï¼\n\nä¸é¢ä¸¾ä¾ä¸­çusecountéå¸¸ç®åï¼åé¨å¹¶æ²¡æè¿å¤é»è¾ï¼å¨å®éå¼åä¸­èªå®ä¹hookåé¨è¯å®è¦ææ¯è¾å¤æçé»è¾ã\n\nç±äºæ¯åç¬å®ä¹çï¼æä»¥èªå®ä¹hookå¯ä»¥åæ¶è¢«å¤ä¸ªç»ä»¶å¼å¥åä½¿ç¨ï¼è¾¾å°ä»£ç å¤ç¨çç®çã\n\nåéç¹ï¼å¨å®éé¡¹ç®ä¸­ï¼éå¸¸èªå®ä¹hookè¿åå¼æ3ç§è¡¨ç°å½¢å¼ï¼\n1ãä¸å¸¦è¿åå¼çå½æ°\n2ãå¸¦æ®éè¿åå¼çå½æ°\n3ãå¸¦ç¹æ®ç»æè¿åå¼çå½æ°\n\nä»¥ä¸3ç§ä¸åè¿åå¼åæåçéç¨åºæ¯ï¼ä¸é¢å°±ä»¥å®éç¤ºä¾æ¥éä¸è¯´æã\n\n\n# ä¸å¸¦è¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾ï¼\n\nä¸¾ä¾ï¼è¥ç¶ç»ä»¶åæå¤ä¸ªå­ç»ä»¶ï¼æ¯ä¸ªå­ç»ä»¶åé¨é½æä¸åçä¸å¡ä»£ç ï¼ä½æ¯ææå­ç»ä»¶æä¸ä¸ªç¸åçåè½ï¼å°±æ¯å½èªèº«åé¨åévalueåçååæ¶ï¼å°ç½é¡µæ é¢æ¹ä¸ºåévalueçå¼ã\n\né¦åæä»¬ç¥éä¿®æ¹ç½é¡µæ é¢æ¯å¨ç»ä»¶åé¨çuseeffect()å½æ°ä¸­ä¿®æ¹ï¼é£ç»åä¸é¢çä½¿ç¨åºæ¯ï¼æä»¬å¯ä»¥å°useeffect()åç¬æ½ç¦»åºæ¥ï¼ä½ä¸ºä¸ä¸ªèªå®ä¹hookï¼å½åä¸º usedocumenttitleï¼è®©ææå­ç»ä»¶é½å¤ç¨è¿ä¸ªusedocumenttitleã\n\nusedocumenttitle ä»£ç å¦ä¸ï¼\n\nimport {useeffect} from 'react'\nfunction usedocumenttitle(value) {\n  useeffect(() => {\n    document.title = value;\n  },[value]);\n}\nexport default usedocumenttitle;\n\n\nåè®¾æä»¬å¶ä¸­ä¸ä¸ªå­ç»ä»¶çåè½ä¸ºï¼\n1ãæ1ä¸ªnumberç±»åçåécount\n2ãæ1ä¸ªæé®ï¼ç¹å»æé®åå°countä¿®æ¹ä¸ºä¸ä¸ªéæºæ°å­\n3ãå½ç»ä»¶éæ°æ¸²æå®æåï¼å°ç½é¡µæ é¢ä¿®æ¹ä¸ºcountçå¼\n\nå­ç»ä»¶ä»£ç ä¸ºï¼\n\nimport react,{usestate} from 'react'\nimport usedocumenttitle from './usedocumenttitle';\nfunction childcomponent() {\n  const [count,setcount] = usestate(0);\n  usedocumenttitle(count);//æåé¨åécountä¼ ç»usedocumenttitleï¼æ¢ä½ä¸ºç½é¡µæ é¢åå®¹ï¼åæ¶ä¹ä½ä¸ºuseeffectçåéä¾èµ\n  return (\n    <div>\n        <button onclick={() => setcount(math.floor(math.random()*1000))}>click me</button>\n    </div>\n  )\n}\nexport default childcomponent\n\n\nå¶ä»å­ç»ä»¶ä¹ä½¿ç¨usedocumenttitleï¼è¿æ ·æä»¬ä¾¿å°åæ¬æ¯ä¸ªå­ç»ä»¶é½éè¦ç¼åçuseeffectæ¹ä¸ºç»ä¸çusedocumenttitleï¼å®ç°äºä»£ç å¤ç¨ã\n\nåºç¨åºæ¯å°æ»ç»ï¼\nå¨è¿ä¸ªç¤ºä¾ä¸­ï¼usedocumenttitleå½æ°å¹¶æ²¡æä»»ä½è¿åå¼ï¼å­ç»ä»¶ä½¿ç¨usedocumenttitleæ¶å°±å¥½ååæ¬é£æ®µuseeffectä»£ç æ¬èº«å°±å®ä¹å¨é£éä¼¼çã\n\n\n# å¸¦æ®éè¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾ï¼\n\nå¨æ¬ç« æå¼å§è®²è§£âèªå®ä¹hookåºæ¬ç¨æ³âæ¶ï¼æä¸¾çusecountä¾å­éå¸¸ç®åï¼è¿æ¬¡æä»¬å°å¯¹usecountè¿è¡åè½ä¸çæ©å±ã\n\nåæ¬usecountåªæ¯å®ä¹äºcountåsetcountï¼è¿æ¬¡æè°çåè½æ©å±ï¼å°±æ¯å°setcountæ¹ä¸ºå¶ä»å ç§ä¿®æ¹countçå½æ°ã\nä¾å¦ï¼\n1ãæ·»å  add()\n2ãåå» sub()\n3ãç¸ä¹ mul()\n4ãæ¢å¤åå§å¼ reset()\n\nä¿®æ¹åçusecountä»£ç ä¸ºï¼\n\nimport {usestate} from 'react'\nfunction usecount(initialvalue){\n  const [count,setcount] = usestate(initialvalue);\n  const add = param => {setcount(prev => prev + param);}\n  const sub = param => {setcount(prev => prev - param);}\n  const mul = param => {setcount(prev => prev * param);}\n  const reset = () => {setcount(() => initialvalue);}\n  return [count,add,sub,mul,reset]; //å°countåå®ä¹ç4ä¸ªæ¹æ³ä½ä¸ºè¿åå¼ return åºå»\n}\nexport default usecount;\n\n\nè¯·æ³¨æï¼ä¸ºäºé¿å4ä¸ªä¿®æ¹å½æ°ä¸­å¾å°çæ¯æ§çcountï¼æä»¥æä»¬éç¨çæ¯ setcount(prev => xxxxx) è¿ç§ä¿®æ¹æ¹å¼ï¼èä¸æ¯ç´æ¥ä½¿ç¨ setcount(count xxx)ã\n\ncurrentcomponentç»ä»¶æ³ä½¿ç¨usecountï¼ä»£ç ä¸ºï¼\n\nimport react from 'react'\nimport usecount from './usecount'\n\nfunction currentcomponent() {\n  const [count,add,sub,mul,reset] = usecount(0); //ä½¿ç¨usecountï¼å¹¶è§£æusecountçè¿åå¼\n  return (\n    <div>\n        {count}\n        <button onclick={() => {add(1)}}>+ 1</button>\n        <button onclick={() => {sub(1)}}>- 1</button>\n        <button onclick={() => {mul(2)}}>* 2</button>\n        <button onclick={() => {reset()}}>reset</button>\n    </div>\n  )\n}\nexport default currentcomponent\n\n\nå¯¹äºä¸é¢è¿ä¸ªææï¼ä½ æ¯å¦è§å¾ç¼çï¼ æ²¡éï¼å¨è®²è§£usereduceræ¶ï¼å°±ä½¿ç¨usereducerå®ç°äºç±»ä¼¼çä¸ä¸ªææã åªä¸è¿è¿æ¬¡æ¯ä¸ºäºè®²è§£èªå®ä¹hookï¼èé£æ¬¡æ¯è®²è§£å¦ä½ä½¿ç¨usereduceræ¿ä»£usestateå®ç°å¤æçä¸å¡ã\n\nåºç¨åºæ¯å°æ»ç»ï¼\n1ãæä»¬å¯ä»¥å¨èªå®ä¹hookä¸­ç¼åç¸å³ä¸å¡é»è¾å½æ°(æ¹æ³)ï¼å¹¶éè¿è¿åå¼çå½¢å¼ return åºå»ï¼ä¾å¶ä»ç»ä»¶è°ç¨ã\n\n\n# å¸¦ç¹æ®ç»æè¿åå¼çèªå®ä¹hookä½¿ç¨ç¤ºä¾ï¼\n\nä¸ä¸ä¸ªä»£ç ç¤ºä¾è®²è§£äºâå¸¦æ®éè¿åå¼âçèªå®ä¹hookï¼é£è¿æ¬¡è¦è®²çâå¸¦ç¹æ®ç»æè¿åå¼âçèªå®ä¹hookç©¶ç«å·®å«å¨åªéï¼\n\nâå¸¦ç¹æ®ç»æè¿åå¼âä¸­çç¹æ®æ¯æï¼\nç­ï¼æä»¬æç»ä»¶éè¦ç¨å°çå¤é¡¹å±æ§è®¾ç½®ï¼åå¹¶ä¸ºä¸ä¸ªå¯¹è±¡ å¹¶ return åºå»ï¼ä¾ç»ä»¶ä½¿ç¨ã\n\nè¿æ¯ä»¥ç¤ºä¾æ¥è®²è§£ä¼æ´å®¹æçè§£ï¼åè®¾æä»¬æä¸ä¸ªç»å½ç»ä»¶ï¼åè½ä¸ºï¼\n1ãæä¸ä¸ªç¨æ·åè¾å¥æ¡\n2ãæä¸ä¸ªå¯ç è¾å¥æ¡\n3ãæä¸ä¸ªæäº¤æé®\n\nè¡¥åè¯´æï¼ä¸ºäºç®åä»£ç ï¼æä»¬å¹¶ä¸åçæ­£çç»å½éªè¯ï¼ç¹å»æäº¤æé®åï¼\n1ãä»ä»æ¯alertä¸ä¸ç¨æ·ååå¯ç ï¼å³è¡¨ç¤ºç»å½\n2ãåæ¶æ¸é¤ç¨æ·ååå¯ç è¾å¥æ¡éçåå®¹\n\néæ±åæï¼\n1ãæ¯ä¸ªè¾å¥æ¡é½æ¯ä¸ä¸ª<input>ï¼é½éè¦ç»å®ä¸ä¸ªåéï¼é½éè¦è®¾ç½®onchangeäºä»¶\n2ãæ¯ä¸ä¸ªè¾å¥æ¡é½éè¦æ¸ç©ºåå®¹\n\næä»¬å°å®ä¹ä¸ä¸ªèªå®ä¹hookï¼å½åä¸ºuseinputï¼useinputæ¥å®ç°è¿2ä¸ªè¾å¥æ¡å±æçä¸å¡é»è¾ã\n\nuseinputçä»£ç ä¸ºï¼\n\nimport {usestate} from 'react'\nfunction useinput(initialvalue) {\n  const [value,setvalue] = usestate(initialvalue); //å®ä¹è¾å¥æ¡å¯¹åºçå¼value\n  //å®ä¹resetå½æ°ï¼ç¨æ¥éç½®è¾å¥æ¡\n  const reset = () => {\n    setvalue(initialvalue);\n  }\n  //å®ä¹ä¸ä¸ª bind å¯¹è±¡ï¼è¯¥å¯¹è±¡æ value å onchange 2ä¸ªå±æ§\n  const bind = {\n    value,\n    onchange: eve => {\n        setvalue(eve.target.value)\n    }\n  }\n  return [value,reset,bind];//å°è¾å¥æ¡çå¼ãéç½®è¾å¥æ¡å½æ°ãå®ä¹çbindå¯¹è±¡ä½ä¸ºè¿åå¼ return åºå»\n}\nexport default useinput\n\n\nè¯·æ³¨æï¼å¨useinputä¸­ï¼è¿åå¼ valueãreset æä»¬å¾å®¹æçè§£ï¼ä½æ¯ bind æ¯æ¥åä»ä¹çï¼\nç­ï¼è¿ä¸ª bind å°±æ¯æä»¬åé¢æå°çâå¸¦ç¹æ®ç»æè¿åå¼âï¼bindå¯¹è±¡æ¬èº«ç»æç±2ä¸ªå±æ§valueåonchangeç»æã\nè³äº bind æä¹ç¨ï¼å¾å¿«æ­æã\n\nç»å½ç»ä»¶loginformçä»£ç ä¸ºï¼\n\nimport react from 'react'\nimport useinput from './useinput';\nfunction loginform() {\n  const [usename,resetusename,bindusename] = useinput(''); //å®ä¹ç¨æ·åè¾å¥æ¡ç¸å³çåé\n  const [password,resetpassword,bindpassword] = useinput(''); //å®ä¹å¯ç è¾å¥æ¡ç¸å³çåé\n\n  const submithandle = (eve) => {\n    eve.preventdefault(); //é»æ­¢formçæ­£æäº¤\n    alert(`usename:${usename}\\rpassword:${password}`); //éè¿alertï¼å¼¹åºç¨æ·ååå¯ç çå¼\n    resetusename(); //éç½®ç¨æ·åè¾å¥æ¡\n    resetpassword(); //éç½®å¯ç è¾å¥æ¡\n  }\n\n  //è¯·ç¹å«çæç¨æ·ååå¯ç è¾å¥æ¡ä¸­ç {...bindusename}å{...bindpassword}\n  return (\n    <form onsubmit={submithandle}>\n        <label>usename:</label>\n        <input type='text' {...bindusename} />\n        <label>password:</label>\n        <input type='password' {...bindpassword} />\n        <input type='submit' value='login' />\n    </form>\n  )\n}\nexport default loginform;\n\n\nå¯¹äºè·åè¾å¥æ¡çå¼ãä»¥åè°ç¨è¾å¥æ¡å¯¹åºçreset()å½æ°ï¼ç¸ä¿¡ä½ å¾å®¹æçè§£ã\n\nä¸é¢å¯¹ {...bindusename} å {...bindpassword} åè¿ä¸æ­¥è¯´æï¼\n1ãé¦åæä»¬ç¥é {...obj} è¿ç§å¨åçjsä¸­ï¼ç¸å½äºæobjå¯¹è±¡è¿è¡è§£æï¼ç¶åå¾å°ä¸ä¸ªæµæ·è´çæ°å¯¹è±¡ã\n2ãä½æ¯å¨ä¸é¢çä»£ç ä¸­å¹¶ä¸æ¯è¿ä¸ªææï¼åä¸ä¸è¦è¢«è¿·æã å¨jsxä¸­çæç»ä»¶ï¼å¦æè¦æ·»å æå±æ§ï¼æ ¼å¼ä¸º xxx={xxx}ã\n\nä¾å¦å¸¸è§çç»ä¸ä¸ªè¾å¥æ¡ç»å®æåéï¼åæ¶æ·»å onchangeäºä»¶ï¼ä¸è¬åæ³ä¸ºï¼\n\n<input type='text' value={xx} onchange={xxxx} />\n\n\nèæä»¬æ¬æ¬¡ä»£ç ä¸­ï¼éç¨çæ¯ï¼\n\n<input type='text' {...bindusename} />\n<input type='password' {...bindpassword} />\n\n\nè¿éé¢ç {...bindusename} {...bindpassword} å¶å®ç¸å½äºæ bindusename å bindpassword è¿è¡äºè§£æï¼å°±å¥½åç´æ¥åå¨è¿éä¼¼çã\n\nå¦æ<input>ä¸­æéå¸¸å¤ç¸åçå±æ§ï¼é£ä¹æè¿äºç¸åå±æ§æç¼å° useinput ç bind ä¸­ï¼è¿æ ·å¯ä»¥ç®åç»ä»¶éçä»£ç ã\n\nåºç¨åºæ¯å°æ»ç»ï¼\n1ãå¨èªå®ä¹hookä¸­ï¼å°ç»ä»¶éè¦çå¤é¡¹å±æ§åå¹¶æä¸ä¸ªå¯¹è±¡ï¼ä¾ç»ä»¶å±æ§è§£æä½¿ç¨ï¼ä¼ç®åç»ä»¶ä»£ç ï¼æé«ä»£ç å¤ç¨çã\n\nç¸ä¿¡éè¿ä¸é¢3ä¸ªç¤ºä¾ï¼å¯¹èªå®ä¹hookçè¿åå¼ä¸åå½¢å¼çæ¼ç¤ºï¼ä¸¾ä¸åä¸ï¼ä¼å¸®å©ä½ çµæ´»çç¼åèªå®ä¹hookã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºèªå®ä¹hookå·²ç»è®²å®ã\n\næä»¬å¯¹ä¹åææå­¦è¿çhookè¿è¡ä¸æ¬¡å°æ»ç»ã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"17 React Hook æ»ç»",frontmatter:{title:"17 React Hook æ»ç»",date:"2023-09-18T16:40:25.000Z",permalink:"/pages/621c1c/"},regularPath:"/03.react/17.React%20Hook%20%E6%80%BB%E7%BB%93.html",relativePath:"03.react/17.React Hook æ»ç».md",key:"v-4bd231aa",path:"/pages/621c1c/",headers:[{level:2,title:"react hook åé¡¾",slug:"react-hook-åé¡¾",normalizedTitle:"react hook åé¡¾",charIndex:88},{level:5,title:"å®ä¹åé",slug:"å®ä¹åé",normalizedTitle:"å®ä¹åé",charIndex:105},{level:5,title:"ç»ä»¶ä¼ å¼",slug:"ç»ä»¶ä¼ å¼",normalizedTitle:"ç»ä»¶ä¼ å¼",charIndex:159},{level:5,title:"å¯¹è±¡å¼ç¨",slug:"å¯¹è±¡å¼ç¨",normalizedTitle:"å¯¹è±¡å¼ç¨",charIndex:228},{level:5,title:"çå½å¨æ",slug:"çå½å¨æ",normalizedTitle:"çå½å¨æ",charIndex:375},{level:5,title:"æ§è½ä¼å",slug:"æ§è½ä¼å",normalizedTitle:"æ§è½ä¼å",charIndex:447},{level:5,title:"ä»£ç è°è¯",slug:"ä»£ç è°è¯",normalizedTitle:"ä»£ç è°è¯",charIndex:524},{level:5,title:"èªå®ä¹hook",slug:"èªå®ä¹hook",normalizedTitle:"èªå®ä¹hook",charIndex:560},{level:2,title:"react hook æ©å±éè¯»",slug:"react-hook-æ©å±éè¯»",normalizedTitle:"react hook æ©å±éè¯»",charIndex:640},{level:2,title:"ä¿¡æ¯åé¦",slug:"ä¿¡æ¯åé¦",normalizedTitle:"ä¿¡æ¯åé¦",charIndex:689}],headersStr:"react hook åé¡¾ å®ä¹åé ç»ä»¶ä¼ å¼ å¯¹è±¡å¼ç¨ çå½å¨æ æ§è½ä¼å ä»£ç è°è¯ èªå®ä¹hook react hook æ©å±éè¯» ä¿¡æ¯åé¦",content:"# 17 React Hook æ»ç»\n\né¦åï¼å¯¹ä½ è½å¤åæå°ç°å¨ï¼è¡¨ç¤ºæ·±æ·±çèµæ¬ï¼å­¦ä¹ React Hookä¹è·¯ä¸å®¹æã\n\næä»¬å¿«éçåé¡¾ä¸ä¸ä¹åå­¦ä¹ è¿çåä¸ªhookã\n\n\n# react hook åé¡¾\n\n# å®ä¹åé\n\nuseState()ï¼å®ä¹æ®éåé\nuseReducer()ï¼å®ä¹æä¸åç±»åãåæ°çåé\n\n# ç»ä»¶ä¼ å¼\n\nuseContext()ï¼å®ä¹åæ¥æ¶å·æå¨å±æ§è´¨çå±æ§ä¼ å¼å¯¹è±¡ï¼å¿é¡»éåReact.createContext()ä½¿ç¨\n\n# å¯¹è±¡å¼ç¨\n\nuseRef()ï¼è·åæ¸²æåçDOMåç´ å¯¹è±¡ï¼å¯è°ç¨è¯¥å¯¹è±¡åçhtmlçæ¹æ³ï¼å¯è½éè¦éåReact.forwardRef()ä½¿ç¨\nuseImperativeHandle()ï¼è·ååè°ç¨æ¸²æåçDOMåç´ å¯¹è±¡æ¥æçèªå®ä¹æ¹æ³ï¼å¿é¡»éåReact.forwardRef()ä½¿ç¨\n\n# çå½å¨æ\n\nuseEffect()ï¼æè½½ææ¸²æå®æåãå³å°è¢«å¸è½½åï¼è°åº¦\nuseLayoutEffect()ï¼æè½½ææ¸²æå®æåï¼åæ­¥è°åº¦\n\n# æ§è½ä¼å\n\nuseCallback()ï¼è·åæå¤çå½æ°çå¼ç¨ï¼å¿é¡»éåReact.memo()ä½¿ç¨\nuseMemo()ï¼è·åæå¤çå½æ°è¿åå¼çå¯æ¬\n\n# ä»£ç è°è¯\n\nuseDebugValue()ï¼å¯¹reactå¼åè°è¯å·¥å·ä¸­çèªå®ä¹hookï¼å¢å é¢å¤æ¾ç¤ºä¿¡æ¯\n\n# èªå®ä¹hook\n\nuseCustomHook()ï¼å°hookç¸å³é»è¾ä»£ç ä»ç»ä»¶ä¸­æ½ç¦»ï¼æé«hookä»£ç å¯å¤ç¨æ§\n\n\n# react hook æ©å±éè¯»\n\né01ï¼Reactåºç¡ç¥è¯\né02ï¼Reactæ©å±éè¯»\n\n\n# ä¿¡æ¯åé¦\n\nè¥æéè¯¯æ¬¢è¿ææ­£ï¼æ¬äººQQ (1933668022)ï¼æéè¿é®ä»¶èç³»ï¼allen@183.co\n\n----------------------------------------\n\nè³æ­¤ï¼React Hook ä½ å·²å­¦ä¹ å®æã\n\nçå¿ä¸ºä½ é¼æï¼å æ²¹ï¼å¨å®è·µä¸­å»æåèªå·±ç React Hook ææå¼å§ã",normalizedContent:"# 17 react hook æ»ç»\n\né¦åï¼å¯¹ä½ è½å¤åæå°ç°å¨ï¼è¡¨ç¤ºæ·±æ·±çèµæ¬ï¼å­¦ä¹ react hookä¹è·¯ä¸å®¹æã\n\næä»¬å¿«éçåé¡¾ä¸ä¸ä¹åå­¦ä¹ è¿çåä¸ªhookã\n\n\n# react hook åé¡¾\n\n# å®ä¹åé\n\nusestate()ï¼å®ä¹æ®éåé\nusereducer()ï¼å®ä¹æä¸åç±»åãåæ°çåé\n\n# ç»ä»¶ä¼ å¼\n\nusecontext()ï¼å®ä¹åæ¥æ¶å·æå¨å±æ§è´¨çå±æ§ä¼ å¼å¯¹è±¡ï¼å¿é¡»éåreact.createcontext()ä½¿ç¨\n\n# å¯¹è±¡å¼ç¨\n\nuseref()ï¼è·åæ¸²æåçdomåç´ å¯¹è±¡ï¼å¯è°ç¨è¯¥å¯¹è±¡åçhtmlçæ¹æ³ï¼å¯è½éè¦éåreact.forwardref()ä½¿ç¨\nuseimperativehandle()ï¼è·ååè°ç¨æ¸²æåçdomåç´ å¯¹è±¡æ¥æçèªå®ä¹æ¹æ³ï¼å¿é¡»éåreact.forwardref()ä½¿ç¨\n\n# çå½å¨æ\n\nuseeffect()ï¼æè½½ææ¸²æå®æåãå³å°è¢«å¸è½½åï¼è°åº¦\nuselayouteffect()ï¼æè½½ææ¸²æå®æåï¼åæ­¥è°åº¦\n\n# æ§è½ä¼å\n\nusecallback()ï¼è·åæå¤çå½æ°çå¼ç¨ï¼å¿é¡»éåreact.memo()ä½¿ç¨\nusememo()ï¼è·åæå¤çå½æ°è¿åå¼çå¯æ¬\n\n# ä»£ç è°è¯\n\nusedebugvalue()ï¼å¯¹reactå¼åè°è¯å·¥å·ä¸­çèªå®ä¹hookï¼å¢å é¢å¤æ¾ç¤ºä¿¡æ¯\n\n# èªå®ä¹hook\n\nusecustomhook()ï¼å°hookç¸å³é»è¾ä»£ç ä»ç»ä»¶ä¸­æ½ç¦»ï¼æé«hookä»£ç å¯å¤ç¨æ§\n\n\n# react hook æ©å±éè¯»\n\né01ï¼reactåºç¡ç¥è¯\né02ï¼reactæ©å±éè¯»\n\n\n# ä¿¡æ¯åé¦\n\nè¥æéè¯¯æ¬¢è¿ææ­£ï¼æ¬äººqq (1933668022)ï¼æéè¿é®ä»¶èç³»ï¼allen@183.co\n\n----------------------------------------\n\nè³æ­¤ï¼react hook ä½ å·²å­¦ä¹ å®æã\n\nçå¿ä¸ºä½ é¼æï¼å æ²¹ï¼å¨å®è·µä¸­å»æåèªå·±ç react hook ææå¼å§ã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"18 ç¤ºä¾ï¼Reactä½¿ç¨Echartsæç¨å°çhooks",frontmatter:{title:"18 ç¤ºä¾ï¼Reactä½¿ç¨Echartsæç¨å°çhooks",date:"2023-09-18T16:43:57.000Z",permalink:"/pages/a44117/"},regularPath:"/03.react/18.%E7%A4%BA%E4%BE%8B%EF%BC%9AReact%E4%BD%BF%E7%94%A8Echarts%E6%89%80%E7%94%A8%E5%88%B0%E7%9A%84hooks.html",relativePath:"03.react/18.ç¤ºä¾ï¼Reactä½¿ç¨Echartsæç¨å°çhooks.md",key:"v-6b0a6271",path:"/pages/a44117/",headers:[{level:2,title:"Echartsç®ä»",slug:"echartsç®ä»",normalizedTitle:"echartsç®ä»",charIndex:96},{level:2,title:"Echartsåºç¡æä½",slug:"echartsåºç¡æä½",normalizedTitle:"echartsåºç¡æä½",charIndex:208},{level:2,title:"éå¯¹ä»¥ä¸Echartsç¹æ§ï¼å¯¹åºç hooks",slug:"éå¯¹ä»¥ä¸echartsç¹æ§-å¯¹åºç-hooks",normalizedTitle:"éå¯¹ä»¥ä¸echartsç¹æ§ï¼å¯¹åºç hooks",charIndex:419},{level:2,title:"ä½¿ç¨(å°è£)Echartsç¤ºä¾ä»£ç ",slug:"ä½¿ç¨-å°è£-echartsç¤ºä¾ä»£ç ",normalizedTitle:"ä½¿ç¨(å°è£)echartsç¤ºä¾ä»£ç ",charIndex:828}],headersStr:"Echartsç®ä» Echartsåºç¡æä½ éå¯¹ä»¥ä¸Echartsç¹æ§ï¼å¯¹åºç hooks ä½¿ç¨(å°è£)Echartsç¤ºä¾ä»£ç ",content:"# 18 ç¤ºä¾ï¼Reactä½¿ç¨Echartsæç¨å°çhooks\n\næ¬ç¯æç« åäº 2020å¹´11æ13æ¥ï¼è·ç¦»åé¢æç« å·²ç»è¿å»åå¹´ï¼å æ­¤æ¬æçè®²è¿°é£æ ¼åç¤ºä¾ä»£ç ï¼å¯è½ååé¢çç« èä¸åã\n\n\n# Echartsç®ä»\n\nEcharts æ¯ç¾åº¦å¬å¸æ¨åºçï¼åºäºåç JS çå¾è¡¨åºï¼åè´¹å¼æº ï¼å¯ç¨äºæ°æ®å¯è§åé¡¹ç®ã\n\nå®ç½å°åï¼https://echarts.apache.org/zh/feature.html\n\n\n# Echartsåºç¡æä½\n\n1ãEcharts æ¯åºäºåç JS çåºï¼èä¸æ¯ React ç»ä»¶ï¼éè¦å° âå¾è¡¨â æè½½å° DOM\n\n2ãecharts.init(xxx-dom) æ¯åå»º âå¾è¡¨â çå¥å£å½æ°ï¼è¯¥å½æ°å°åå»ºåå»ºçæ­£çå¾è¡¨å®ä¾ï¼å¹¶å¡«åå° xxx-dom ä¸­\n\n3ãä¸ä¸ªå¾è¡¨ å¯¹åºä¸ä¸ª DOMï¼N ä¸ªå¾æ éè¦ N ä¸ª DOM\n\n4ãå¾è¡¨å®ä¾éè¿ setOption(option) æ¥è®¾ç½®(æ´æ°)æ°æ®\n\n\n# éå¯¹ä»¥ä¸Echartsç¹æ§ï¼å¯¹åºç hooks\n\n1ãä½¿ç¨ useRef æ¥å¾ä½ jsx ä¸­çæä¸ª DOM\n\n2ãä½¿ç¨ useEffect( () => {}, [] ) æ¥å¾ä½ React ç¬¬ä¸æ¬¡æè½½ï¼å¹¶éè¿ echarts.init(xxx-dom) åå»ºåºçæ­£çå¾è¡¨\n\n3ãä½¿ç¨ useState æ¥å¾ä½ åå»ºåºççæ­£å¾è¡¨ï¼ä»¥ä¾¿ä»¥åååç§æ´æ°æä½\n\n4ãä½¿ç¨ useEffect( () => {}, [xxx-echart,option] ) æ¥ä¸æ­çå¬ç»ä»¶ä¼ éè¿æ¥çæ°æ®ååï¼å¹¶æ´æ°å¾è¡¨æ°æ®\n\n> è¡¥åè¯´æï¼å°½ç®¡ NPM ä¸­å·²ç»æ echarts-for-react è¿ä¸ªåï¼å·²ç»å° Echarts å°è£æå¯ç´æ¥ä½¿ç¨ç React ç»ä»¶ï¼ä½æ¯æå¹¶ä¸æ¯å»ºè®®ä½¿ç¨ï¼å ä¸ºæ¯ç« Echarts å¹¶ä¸æ¯ç¹å«é¾ï¼æ²¡æå¿è¦ä½¿ç¨å«äººå°è£å¥½çãå­¦ä¹ æ¬æåï¼ä½ èªå·±ä¹å¯ä»¥è½»æ¾å°è£èªå·±ç Echarts ç»ä»¶ï¼çµæ´»æ¹ä¾¿ã\n\n\n# ä½¿ç¨(å°è£)Echartsç¤ºä¾ä»£ç \n\n> ç»èä¸è¿å¤è¯´ï¼æ­¤å¤åªæ¼ç¤º 2 ä¸ªç»ä»¶æºç ï¼ä½¿ç¨ TypeScript ç¼å\n> \n>  1. å­ç»ä»¶ä¸ºä¸ä¸ªå¾è¡¨ï¼å¾è¡¨æ¯ä»ä¹ç±»åï¼ç± éç½®æ°æ® option ä¸­ xAxis.type çå¼å³å®\n>  2. ç¶ç»ä»¶è´è´£è°ç¨å­ç»ä»¶å¹¶ä¼ éå¾è¡¨éç½®æ°æ®\n\nç¶ç»ä»¶ï¼\n\nimport React from 'react'\nimport { EChartOption } from 'echarts'\nimport Echart from '../../components/echart'\n\nimport './index.scss'\n\nconst option: EChartOption = {\n    xAxis: {\n        type: 'category',\n        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\n    },\n    yAxis: {\n        type: 'value'\n    },\n    series: [{\n        data: [820, 932, 901, 934, 1290, 1330, 1320],\n        type: 'line'\n    }]\n}\n\nconst IndexPage: React.FC = () => {\n    return (\n        <Echart option={option} />\n    )\n}\n\nexport default IndexPage\n\n\nå­ç»ä»¶ï¼\n\nimport React, { useState, useRef, useEffect } from 'react'\nimport echarts, { EChartOption, ECharts } from 'echarts'\n\nimport './index.scss'\n\ninterface EchartProp {\n    option: EChartOption\n}\n\nconst Echart: React.FC<EchartProp> = ({ option }) => {\n\n    const chartRef = useRef<HTMLDivElement>(null) //ç¨æ¥å¾ä½æ¸²æåç DOM\n    const [echartsInstance, setEchartsInstance] = useState<ECharts>() //ç¨æ¥å¾ä½çæåç å¾è¡¨å®ä¾å¯¹è±¡\n\n    //ä»ç¬¬ä¸æ¬¡æè½½æ¶æ§è¡ï¼å° DOM ä¼ éç» echartsï¼éè¿ echarts.init() å¾å°çæ­£çå¾è¡¨ JS å¯¹è±¡\n    useEffect(() => {\n        if (chartRef.current) {\n            setEchartsInstance(echarts.init(chartRef.current))\n        }\n    }, [])\n\n    //çå¬ä¾èµååï¼å¹¶æ ¹æ®éè¦æ´æ°å¾è¡¨æ°æ®\n    useEffect(() => {\n        echartsInstance?.setOption(option)\n    }, [echartsInstance, option])\n\n    return (\n        <div ref={chartRef} className='echarts' />\n    )\n}\n\nexport default Echart\n\n\nä»¥ä¸ç¤ºä¾ä¸­ï¼ç¶ç»ä»¶åè½ç¸å¯¹ç®åï¼è´è´£è°ç¨å­ç»ä»¶ï¼å¹¶å°å¾è¡¨éç½®æ°æ®ä¼ éç»å­ç»ä»¶ã\n\nçæ­£éè¦å³æ³¨çå°±æ¯ å­ç»ä»¶ï¼å¨å­ç»ä»¶ä¸­åå«ç¨å°äº useRefãuseStateãuseEffect è¿ 3 ä¸ª hookï¼å°¤å¶æ¯ useEffect è¿è¢«ä½¿ç¨äº 2 æ¬¡ã",normalizedContent:"# 18 ç¤ºä¾ï¼reactä½¿ç¨echartsæç¨å°çhooks\n\næ¬ç¯æç« åäº 2020å¹´11æ13æ¥ï¼è·ç¦»åé¢æç« å·²ç»è¿å»åå¹´ï¼å æ­¤æ¬æçè®²è¿°é£æ ¼åç¤ºä¾ä»£ç ï¼å¯è½ååé¢çç« èä¸åã\n\n\n# echartsç®ä»\n\necharts æ¯ç¾åº¦å¬å¸æ¨åºçï¼åºäºåç js çå¾è¡¨åºï¼åè´¹å¼æº ï¼å¯ç¨äºæ°æ®å¯è§åé¡¹ç®ã\n\nå®ç½å°åï¼https://echarts.apache.org/zh/feature.html\n\n\n# echartsåºç¡æä½\n\n1ãecharts æ¯åºäºåç js çåºï¼èä¸æ¯ react ç»ä»¶ï¼éè¦å° âå¾è¡¨â æè½½å° dom\n\n2ãecharts.init(xxx-dom) æ¯åå»º âå¾è¡¨â çå¥å£å½æ°ï¼è¯¥å½æ°å°åå»ºåå»ºçæ­£çå¾è¡¨å®ä¾ï¼å¹¶å¡«åå° xxx-dom ä¸­\n\n3ãä¸ä¸ªå¾è¡¨ å¯¹åºä¸ä¸ª domï¼n ä¸ªå¾æ éè¦ n ä¸ª dom\n\n4ãå¾è¡¨å®ä¾éè¿ setoption(option) æ¥è®¾ç½®(æ´æ°)æ°æ®\n\n\n# éå¯¹ä»¥ä¸echartsç¹æ§ï¼å¯¹åºç hooks\n\n1ãä½¿ç¨ useref æ¥å¾ä½ jsx ä¸­çæä¸ª dom\n\n2ãä½¿ç¨ useeffect( () => {}, [] ) æ¥å¾ä½ react ç¬¬ä¸æ¬¡æè½½ï¼å¹¶éè¿ echarts.init(xxx-dom) åå»ºåºçæ­£çå¾è¡¨\n\n3ãä½¿ç¨ usestate æ¥å¾ä½ åå»ºåºççæ­£å¾è¡¨ï¼ä»¥ä¾¿ä»¥åååç§æ´æ°æä½\n\n4ãä½¿ç¨ useeffect( () => {}, [xxx-echart,option] ) æ¥ä¸æ­çå¬ç»ä»¶ä¼ éè¿æ¥çæ°æ®ååï¼å¹¶æ´æ°å¾è¡¨æ°æ®\n\n> è¡¥åè¯´æï¼å°½ç®¡ npm ä¸­å·²ç»æ echarts-for-react è¿ä¸ªåï¼å·²ç»å° echarts å°è£æå¯ç´æ¥ä½¿ç¨ç react ç»ä»¶ï¼ä½æ¯æå¹¶ä¸æ¯å»ºè®®ä½¿ç¨ï¼å ä¸ºæ¯ç« echarts å¹¶ä¸æ¯ç¹å«é¾ï¼æ²¡æå¿è¦ä½¿ç¨å«äººå°è£å¥½çãå­¦ä¹ æ¬æåï¼ä½ èªå·±ä¹å¯ä»¥è½»æ¾å°è£èªå·±ç echarts ç»ä»¶ï¼çµæ´»æ¹ä¾¿ã\n\n\n# ä½¿ç¨(å°è£)echartsç¤ºä¾ä»£ç \n\n> ç»èä¸è¿å¤è¯´ï¼æ­¤å¤åªæ¼ç¤º 2 ä¸ªç»ä»¶æºç ï¼ä½¿ç¨ typescript ç¼å\n> \n>  1. å­ç»ä»¶ä¸ºä¸ä¸ªå¾è¡¨ï¼å¾è¡¨æ¯ä»ä¹ç±»åï¼ç± éç½®æ°æ® option ä¸­ xaxis.type çå¼å³å®\n>  2. ç¶ç»ä»¶è´è´£è°ç¨å­ç»ä»¶å¹¶ä¼ éå¾è¡¨éç½®æ°æ®\n\nç¶ç»ä»¶ï¼\n\nimport react from 'react'\nimport { echartoption } from 'echarts'\nimport echart from '../../components/echart'\n\nimport './index.scss'\n\nconst option: echartoption = {\n    xaxis: {\n        type: 'category',\n        data: ['mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun']\n    },\n    yaxis: {\n        type: 'value'\n    },\n    series: [{\n        data: [820, 932, 901, 934, 1290, 1330, 1320],\n        type: 'line'\n    }]\n}\n\nconst indexpage: react.fc = () => {\n    return (\n        <echart option={option} />\n    )\n}\n\nexport default indexpage\n\n\nå­ç»ä»¶ï¼\n\nimport react, { usestate, useref, useeffect } from 'react'\nimport echarts, { echartoption, echarts } from 'echarts'\n\nimport './index.scss'\n\ninterface echartprop {\n    option: echartoption\n}\n\nconst echart: react.fc<echartprop> = ({ option }) => {\n\n    const chartref = useref<htmldivelement>(null) //ç¨æ¥å¾ä½æ¸²æåç dom\n    const [echartsinstance, setechartsinstance] = usestate<echarts>() //ç¨æ¥å¾ä½çæåç å¾è¡¨å®ä¾å¯¹è±¡\n\n    //ä»ç¬¬ä¸æ¬¡æè½½æ¶æ§è¡ï¼å° dom ä¼ éç» echartsï¼éè¿ echarts.init() å¾å°çæ­£çå¾è¡¨ js å¯¹è±¡\n    useeffect(() => {\n        if (chartref.current) {\n            setechartsinstance(echarts.init(chartref.current))\n        }\n    }, [])\n\n    //çå¬ä¾èµååï¼å¹¶æ ¹æ®éè¦æ´æ°å¾è¡¨æ°æ®\n    useeffect(() => {\n        echartsinstance?.setoption(option)\n    }, [echartsinstance, option])\n\n    return (\n        <div ref={chartref} classname='echarts' />\n    )\n}\n\nexport default echart\n\n\nä»¥ä¸ç¤ºä¾ä¸­ï¼ç¶ç»ä»¶åè½ç¸å¯¹ç®åï¼è´è´£è°ç¨å­ç»ä»¶ï¼å¹¶å°å¾è¡¨éç½®æ°æ®ä¼ éç»å­ç»ä»¶ã\n\nçæ­£éè¦å³æ³¨çå°±æ¯ å­ç»ä»¶ï¼å¨å­ç»ä»¶ä¸­åå«ç¨å°äº userefãusestateãuseeffect è¿ 3 ä¸ª hookï¼å°¤å¶æ¯ useeffect è¿è¢«ä½¿ç¨äº 2 æ¬¡ã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"19 useTransitionåºç¡ç¨æ³",frontmatter:{title:"19 useTransitionåºç¡ç¨æ³",date:"2023-09-18T16:45:22.000Z",permalink:"/pages/74a184/"},regularPath:"/03.react/19.useTransition%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95.html",relativePath:"03.react/19.useTransitionåºç¡ç¨æ³.md",key:"v-782f6ddc",path:"/pages/74a184/",headers:[{level:2,title:"19 useTransitionåºç¡ç¨æ³",slug:"_19-usetransitionåºç¡ç¨æ³",normalizedTitle:"19 usetransitionåºç¡ç¨æ³",charIndex:2},{level:2,title:"useTransitionæ¦å¿µä»ç»",slug:"usetransitionæ¦å¿µä»ç»",normalizedTitle:"usetransitionæ¦å¿µä»ç»",charIndex:27},{level:2,title:"useTransitionç¨æ¥è§£å³ä»ä¹é®é¢ï¼",slug:"usetransitionç¨æ¥è§£å³ä»ä¹é®é¢",normalizedTitle:"usetransitionç¨æ¥è§£å³ä»ä¹é®é¢ï¼",charIndex:140},{level:2,title:"useTransitionæºç ",slug:"usetransitionæºç ",normalizedTitle:"usetransitionæºç ",charIndex:489},{level:2,title:"useTransitionåºæ¬ç¨æ³",slug:"usetransitionåºæ¬ç¨æ³",normalizedTitle:"usetransitionåºæ¬ç¨æ³",charIndex:1003},{level:2,title:"useTransitionä½¿ç¨ç¤ºä¾",slug:"usetransitionä½¿ç¨ç¤ºä¾",normalizedTitle:"usetransitionä½¿ç¨ç¤ºä¾",charIndex:1371}],headersStr:"19 useTransitionåºç¡ç¨æ³ useTransitionæ¦å¿µä»ç» useTransitionç¨æ¥è§£å³ä»ä¹é®é¢ï¼ useTransitionæºç  useTransitionåºæ¬ç¨æ³ useTransitionä½¿ç¨ç¤ºä¾",content:"# 19 useTransitionåºç¡ç¨æ³\n\n\n# useTransitionæ¦å¿µä»ç»\n\nreactæä¾äºuseDeferredValueåæ¥ç±»ä¼¼é²æèæµçä½ç¨ï¼èuseTransitionä¹æ¯ç±»ä¼¼çä½ç¨ï¼ä½æ¯è¯¥hookæ¯éè¿éä½æ°æ®æ¸²æçä¼åçº§æ¥è¾¾å°ä¼åæ´æ°å¶ä»æ°æ®\n\n\n# useTransitionç¨æ¥è§£å³ä»ä¹é®é¢ï¼\n\n * é¦åç»å®ä¸ä¸ªåºæ¯ï¼å¼åæ¶ç»å¸¸ä¼éå°éè¦èæ³è¾å¥ï¼ä¹å°±æ¯è¾å¥çåæ¶è¦è¿åèæ³æç´¢ç»æçåè¡¨ã\n * ä½æ¯è¿ä¸ªåè¡¨ææ¶è¿åå¼éå¸¸çé¿ï¼ææ¶ä¼å¯¼è´ç¨æ·è¾å¥å¼çæ´æ°ç¼æ¢ï¼è¿éå°±äº§çäºä¸ä¸ªé®é¢ï¼å½é¡µé¢æå¤§éUIæ´æ°çæ¶åï¼æä¹å¤çæ°æ®æ´æ°ä¸ä¼å¡é¡¿ã\n * å¯ä»¥æåé²æèæµï¼é²ææä¸ä¸ªå¼ç«¯ï¼å½æä»¬é¿æ¶é´çæç»­è¾å¥ï¼æ¶é´é´éå°äºé²æè®¾ç½®çæ¶é´ï¼ï¼é¡µé¢å°±ä¼é¿æ¶é´é½ä¸å°ååºãèstartTransition å¯ä»¥æå® UI çæ¸²æä¼åçº§ï¼åªäºéè¦å®æ¶æ´æ°ï¼åªäºéè¦å»¶è¿æ´æ°ãå³ä½¿ç¨æ·é¿æ¶é´è¾å¥æè¿ 5s ä¹ä¼æ´æ°ä¸æ¬¡ã\n * ä¹å¯ä»¥ç¨useDeferredValueï¼ä¹å¯ä»¥ç¨âå¯è§çªå£å è½½âçæ¹æ¡ï¼ å¨è¿éä»ç»æä¹ç¨useTransitionè§£å³\n\n\n# useTransitionæºç \n\nåå°useTransitionçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸Reactæºç ä¸­çReactHooks.jsã\n\nexport function useTransition(): [\n  boolean,\n  (callback: () => void, options?: StartTransitionOptions) => void,\n] {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useTransition();\n}\n\n\nåæ ¹æ®å¼å¥æä»¶ï¼å°react-reconciler/src/ReactInternalTypes.jsæ¾å°Dispatchéæç»è°ç¨çuseTransition\n\n  useTransition(): [\n    boolean,\n    (callback: () => void, options?: StartTransitionOptions) => void,\n  ],\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨Hookâï¼å¹¶ä¸æ¯âHookæºç åæâã^_^\n\n\n# useTransitionåºæ¬ç¨æ³\n\nuseTransition()å½æ°å¯ä»¥ä¸ä¼ åï¼ä¼ åå¯ä»¥ä¼ ä¸ä¸ªæ¯«ç§å¼ç¨æ¥ä¿®æ¹æè¿æ´æ°æ¶é´ï¼startTransitionåè°éçèµå¼å°ä¼è¢«éä½ä¼åçº§ãisPending æç¤ºè¿æ¸¡ä»»å¡ä½æ¶æ´»è·ä»¥æ¾ç¤ºä¸ä¸ªç­å¾ç¶æã\n\n> ä»£ç å½¢å¼\n\nconst [isPending, startTransition] = useTransition();\n\nstartTransition(() => {\n  setCount(count + 1);\n})\n\n\nä¼ ååæ³\n\n// å»¶è¿ä¸¤ç§\nconst [isPending, startTransition] = useTransition(2000);\n\nstartTransition(() => {\n  setCount(count + 1);\n})\n\n\n\n# useTransitionä½¿ç¨ç¤ºä¾\n\nä¸¾ä¾ï¼æç´¢å¼æçå³é®è¯èæ³ãä¸è¬æ¥è¯´ï¼å¯¹äºç¨æ·å¨è¾å¥æ¡ä¸­è¾å¥é½å¸ææ¯å®æ¶æ´æ°çï¼å¦ææ­¤æ¶èæ³è¯æ¯è¾å¤åæ¶ä¹è¦å®æ¶æ´æ°çè¯ï¼è¿å°±å¯è½ä¼å¯¼è´ç¨æ·çè¾å¥ä¼å¡é¡¿ãè¿æ ·ä¸æ¥ç¨æ·çä½éªä¼åå·®ï¼è¿å¹¶ä¸æ¯æä»¬æ³è¦çç»æã\n\næä»¬å°è¿ä¸ªåºæ¯çç¶ææ´æ°æååºæ¥ï¼ä¸ä¸ªæ¯ç¨æ·è¾å¥çæ´æ°ï¼ä¸ä¸ªæ¯èæ³è¯çæ´æ°ï¼è¿ä¸ªä¸¤ä¸ªæ´æ°ç´§æ¥ç¨åº¦æ¾ç¶åèå¤§äºåèã\n\nè¿éæ´æ°ææå¯è½è¿ä¸å¤ææ¾ï¼å¯ä»¥æå¼æµè§å¨æ§å¶å°ï¼ç¹å»performance insightsé¡¹ï¼å¨Measure page loadå³è¾¹æä¸ªä¸æéé¡¹ï¼å¨cpué£æ çå³è¾¹ä¸æéæ©4x slowdownå¯ä»¥å°æµè§å¨è¿è¡éåº¦è°æ¢ååï¼è¿æ ·å¡é¡¿ä¼ææ¾äºã\n\nè¿éæåä¸ºä¸¤ä¸ªç»ä»¶ï¼ç¶ç»ä»¶æ¯useTransitionçä½¿ç¨ï¼å­ç»ä»¶æ¯åè¡¨æ¸²æï¼ä»£ç å¦ä¸ï¼\n\nç¶ç»ä»¶ï¼\n\nimport { useState, useTransition } from 'react'\nimport ProductList from './components/ProductList'\n\n// åè¡¨æ°æ®ççæ\nexport function generateProducts() {\n  const products: Array<string> = []\n  for (let i = 0; i < 10000; i++) {\n    products.push(`Product ${i + 1}`)\n  }\n  return products\n}\n\n// åè¡¨æ°æ®\nconst dummyProducts = generateProducts()\n\n// ç¨æ·è¾å¥æ¶è¿æ»¤æç´¢ï¼è¾¾å°ä¸ä¸ªèæ³è¾å¥çææ\nfunction filterProducts(filterTerm) {\n  if (!filterTerm) {\n    return dummyProducts\n  }\n  return dummyProducts.filter((product) => product.includes(filterTerm))\n}\n\nfunction App() {\n  const [isPending, startTransition] = useTransition()\n  const [filterTerm, setFilterTerm] = useState('')\n\n  const filteredProducts = filterProducts(filterTerm)\n\n  function updateFilterHandler(event) {\n    // åè¡¨æ°æ®èµå¼çè¿è¡ç­çº§\n    startTransition(() => {\n      setFilterTerm(event.target.value)\n    })\n  }\n\n  return (\n    <div id=\"app\">\n      <input type=\"text\" onChange={updateFilterHandler} />\n      {isPending && <p style={{ color: 'white' }}>æ´æ°åè¡¨ã. </p>}\n      <ProductList products={filteredProducts} />\n    </div>\n  )\n}\n\nexport default App\n\n\nå­ç»ä»¶ï¼\n\nimport { useDeferredValue } from \"react\";\n\nfunction ProductList({ products }) {\n  const deferredProducts = useDeferredValue(products);\n  return (\n    <ul>\n      {deferredProducts.map((product, index) => (\n        <li key={index}>{product}</li>\n      ))}\n    </ul>\n  );\n}\n\nexport default ProductList;\n\n\néè¿è¿ä¸ªæ¡ä¾ï¼ç¸ä¿¡ä½ å¯¹useMemoçæºå¶åç¨æ³ä¸å®ææææ¡ã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºuseTransitionåºç¡ç¨æ³å·²ç»è®²å®ã",normalizedContent:"# 19 usetransitionåºç¡ç¨æ³\n\n\n# usetransitionæ¦å¿µä»ç»\n\nreactæä¾äºusedeferredvalueåæ¥ç±»ä¼¼é²æèæµçä½ç¨ï¼èusetransitionä¹æ¯ç±»ä¼¼çä½ç¨ï¼ä½æ¯è¯¥hookæ¯éè¿éä½æ°æ®æ¸²æçä¼åçº§æ¥è¾¾å°ä¼åæ´æ°å¶ä»æ°æ®\n\n\n# usetransitionç¨æ¥è§£å³ä»ä¹é®é¢ï¼\n\n * é¦åç»å®ä¸ä¸ªåºæ¯ï¼å¼åæ¶ç»å¸¸ä¼éå°éè¦èæ³è¾å¥ï¼ä¹å°±æ¯è¾å¥çåæ¶è¦è¿åèæ³æç´¢ç»æçåè¡¨ã\n * ä½æ¯è¿ä¸ªåè¡¨ææ¶è¿åå¼éå¸¸çé¿ï¼ææ¶ä¼å¯¼è´ç¨æ·è¾å¥å¼çæ´æ°ç¼æ¢ï¼è¿éå°±äº§çäºä¸ä¸ªé®é¢ï¼å½é¡µé¢æå¤§éuiæ´æ°çæ¶åï¼æä¹å¤çæ°æ®æ´æ°ä¸ä¼å¡é¡¿ã\n * å¯ä»¥æåé²æèæµï¼é²ææä¸ä¸ªå¼ç«¯ï¼å½æä»¬é¿æ¶é´çæç»­è¾å¥ï¼æ¶é´é´éå°äºé²æè®¾ç½®çæ¶é´ï¼ï¼é¡µé¢å°±ä¼é¿æ¶é´é½ä¸å°ååºãèstarttransition å¯ä»¥æå® ui çæ¸²æä¼åçº§ï¼åªäºéè¦å®æ¶æ´æ°ï¼åªäºéè¦å»¶è¿æ´æ°ãå³ä½¿ç¨æ·é¿æ¶é´è¾å¥æè¿ 5s ä¹ä¼æ´æ°ä¸æ¬¡ã\n * ä¹å¯ä»¥ç¨usedeferredvalueï¼ä¹å¯ä»¥ç¨âå¯è§çªå£å è½½âçæ¹æ¡ï¼ å¨è¿éä»ç»æä¹ç¨usetransitionè§£å³\n\n\n# usetransitionæºç \n\nåå°usetransitionçå­¦ä¹ ä¸­ï¼é¦åçä¸ä¸reactæºç ä¸­çreacthooks.jsã\n\nexport function usetransition(): [\n  boolean,\n  (callback: () => void, options?: starttransitionoptions) => void,\n] {\n  const dispatcher = resolvedispatcher();\n  return dispatcher.usetransition();\n}\n\n\nåæ ¹æ®å¼å¥æä»¶ï¼å°react-reconciler/src/reactinternaltypes.jsæ¾å°dispatchéæç»è°ç¨çusetransition\n\n  usetransition(): [\n    boolean,\n    (callback: () => void, options?: starttransitionoptions) => void,\n  ],\n\n\nä¸è¿°ä»£ç çä¸ææ²¡å³ç³»ï¼æ¬ç³»åæç¨åªæ¯è®²è¿°âå¦ä½ä½¿ç¨hookâï¼å¹¶ä¸æ¯âhookæºç åæâã^_^\n\n\n# usetransitionåºæ¬ç¨æ³\n\nusetransition()å½æ°å¯ä»¥ä¸ä¼ åï¼ä¼ åå¯ä»¥ä¼ ä¸ä¸ªæ¯«ç§å¼ç¨æ¥ä¿®æ¹æè¿æ´æ°æ¶é´ï¼starttransitionåè°éçèµå¼å°ä¼è¢«éä½ä¼åçº§ãispending æç¤ºè¿æ¸¡ä»»å¡ä½æ¶æ´»è·ä»¥æ¾ç¤ºä¸ä¸ªç­å¾ç¶æã\n\n> ä»£ç å½¢å¼\n\nconst [ispending, starttransition] = usetransition();\n\nstarttransition(() => {\n  setcount(count + 1);\n})\n\n\nä¼ ååæ³\n\n// å»¶è¿ä¸¤ç§\nconst [ispending, starttransition] = usetransition(2000);\n\nstarttransition(() => {\n  setcount(count + 1);\n})\n\n\n\n# usetransitionä½¿ç¨ç¤ºä¾\n\nä¸¾ä¾ï¼æç´¢å¼æçå³é®è¯èæ³ãä¸è¬æ¥è¯´ï¼å¯¹äºç¨æ·å¨è¾å¥æ¡ä¸­è¾å¥é½å¸ææ¯å®æ¶æ´æ°çï¼å¦ææ­¤æ¶èæ³è¯æ¯è¾å¤åæ¶ä¹è¦å®æ¶æ´æ°çè¯ï¼è¿å°±å¯è½ä¼å¯¼è´ç¨æ·çè¾å¥ä¼å¡é¡¿ãè¿æ ·ä¸æ¥ç¨æ·çä½éªä¼åå·®ï¼è¿å¹¶ä¸æ¯æä»¬æ³è¦çç»æã\n\næä»¬å°è¿ä¸ªåºæ¯çç¶ææ´æ°æååºæ¥ï¼ä¸ä¸ªæ¯ç¨æ·è¾å¥çæ´æ°ï¼ä¸ä¸ªæ¯èæ³è¯çæ´æ°ï¼è¿ä¸ªä¸¤ä¸ªæ´æ°ç´§æ¥ç¨åº¦æ¾ç¶åèå¤§äºåèã\n\nè¿éæ´æ°ææå¯è½è¿ä¸å¤ææ¾ï¼å¯ä»¥æå¼æµè§å¨æ§å¶å°ï¼ç¹å»performance insightsé¡¹ï¼å¨measure page loadå³è¾¹æä¸ªä¸æéé¡¹ï¼å¨cpué£æ çå³è¾¹ä¸æéæ©4x slowdownå¯ä»¥å°æµè§å¨è¿è¡éåº¦è°æ¢ååï¼è¿æ ·å¡é¡¿ä¼ææ¾äºã\n\nè¿éæåä¸ºä¸¤ä¸ªç»ä»¶ï¼ç¶ç»ä»¶æ¯usetransitionçä½¿ç¨ï¼å­ç»ä»¶æ¯åè¡¨æ¸²æï¼ä»£ç å¦ä¸ï¼\n\nç¶ç»ä»¶ï¼\n\nimport { usestate, usetransition } from 'react'\nimport productlist from './components/productlist'\n\n// åè¡¨æ°æ®ççæ\nexport function generateproducts() {\n  const products: array<string> = []\n  for (let i = 0; i < 10000; i++) {\n    products.push(`product ${i + 1}`)\n  }\n  return products\n}\n\n// åè¡¨æ°æ®\nconst dummyproducts = generateproducts()\n\n// ç¨æ·è¾å¥æ¶è¿æ»¤æç´¢ï¼è¾¾å°ä¸ä¸ªèæ³è¾å¥çææ\nfunction filterproducts(filterterm) {\n  if (!filterterm) {\n    return dummyproducts\n  }\n  return dummyproducts.filter((product) => product.includes(filterterm))\n}\n\nfunction app() {\n  const [ispending, starttransition] = usetransition()\n  const [filterterm, setfilterterm] = usestate('')\n\n  const filteredproducts = filterproducts(filterterm)\n\n  function updatefilterhandler(event) {\n    // åè¡¨æ°æ®èµå¼çè¿è¡ç­çº§\n    starttransition(() => {\n      setfilterterm(event.target.value)\n    })\n  }\n\n  return (\n    <div id=\"app\">\n      <input type=\"text\" onchange={updatefilterhandler} />\n      {ispending && <p style={{ color: 'white' }}>æ´æ°åè¡¨ã. </p>}\n      <productlist products={filteredproducts} />\n    </div>\n  )\n}\n\nexport default app\n\n\nå­ç»ä»¶ï¼\n\nimport { usedeferredvalue } from \"react\";\n\nfunction productlist({ products }) {\n  const deferredproducts = usedeferredvalue(products);\n  return (\n    <ul>\n      {deferredproducts.map((product, index) => (\n        <li key={index}>{product}</li>\n      ))}\n    </ul>\n  );\n}\n\nexport default productlist;\n\n\néè¿è¿ä¸ªæ¡ä¾ï¼ç¸ä¿¡ä½ å¯¹usememoçæºå¶åç¨æ³ä¸å®ææææ¡ã\n\n----------------------------------------\n\nè³æ­¤ï¼å³äºusetransitionåºç¡ç¨æ³å·²ç»è®²å®ã",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"20 Reactåºç¡ç¥è¯",frontmatter:{title:"20 Reactåºç¡ç¥è¯",date:"2023-09-19T08:57:56.000Z",permalink:"/pages/0116b5/"},regularPath:"/03.react/20.React%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html",relativePath:"03.react/20.Reactåºç¡ç¥è¯.md",key:"v-513c8141",path:"/pages/0116b5/",headers:[{level:2,title:"å®è£reactå¹¶åå§å",slug:"å®è£reactå¹¶åå§å",normalizedTitle:"å®è£reactå¹¶åå§å",charIndex:52},{level:5,title:"1ãå®è£ï¼npm install -g create-react-app",slug:"_1ãå®è£-npm-install-g-create-react-app",normalizedTitle:"1ãå®è£ï¼npm install -g create-react-app",charIndex:67},{level:5,title:"2ãåå»ºhello-reactç®å½å¹¶åå§åï¼npx create-react-app hello-react",slug:"_2ãåå»ºhello-reactç®å½å¹¶åå§å-npx-create-react-app-hello-react",normalizedTitle:"2ãåå»ºhello-reactç®å½å¹¶åå§åï¼npx create-react-app hello-react",charIndex:107},{level:5,title:"3ãå¯å¨é¡¹ç®ï¼cd hello-reactãnpm start",slug:"_3ãå¯å¨é¡¹ç®-cd-hello-reactãnpm-start",normalizedTitle:"3ãå¯å¨é¡¹ç®ï¼cd hello-reactãnpm start",charIndex:387},{level:2,title:"èªå®ä¹ç»ä»¶åºç¡ç¥è¯",slug:"èªå®ä¹ç»ä»¶åºç¡ç¥è¯",normalizedTitle:"èªå®ä¹ç»ä»¶åºç¡ç¥è¯",charIndex:452},{level:2,title:'"çº¯å½æ°" æ¦å¿µè§£é',slug:"çº¯å½æ°-æ¦å¿µè§£é",normalizedTitle:"&quot;çº¯å½æ°&quot; æ¦å¿µè§£é",charIndex:null},{level:2,title:'"åæ§ç»ä»¶" æ¦å¿µè§£é',slug:"åæ§ç»ä»¶-æ¦å¿µè§£é",normalizedTitle:"&quot;åæ§ç»ä»¶&quot; æ¦å¿µè§£é",charIndex:null},{level:2,title:'"å£°æå¼å¼å" æ¦å¿µè§£é',slug:"å£°æå¼å¼å-æ¦å¿µè§£é",normalizedTitle:"&quot;å£°æå¼å¼å&quot; æ¦å¿µè§£é",charIndex:null},{level:2,title:'"åé¡¹æ°æ®æµ" æ¦å¿µè§£é',slug:"åé¡¹æ°æ®æµ-æ¦å¿µè§£é",normalizedTitle:"&quot;åé¡¹æ°æ®æµ&quot; æ¦å¿µè§£é",charIndex:null},{level:2,title:'"è§å¾å±æ¸²ææ¡æ¶" æ¦å¿µè§£é',slug:"è§å¾å±æ¸²ææ¡æ¶-æ¦å¿µè§£é",normalizedTitle:"&quot;è§å¾å±æ¸²ææ¡æ¶&quot; æ¦å¿µè§£é",charIndex:null},{level:2,title:'"å½æ°å¼ç¼ç¨" æ¦å¿µè§£é',slug:"å½æ°å¼ç¼ç¨-æ¦å¿µè§£é",normalizedTitle:"&quot;å½æ°å¼ç¼ç¨&quot; æ¦å¿µè§£é",charIndex:null},{level:2,title:'"èæDOM" æ¦å¿µè§£é',slug:"èædom-æ¦å¿µè§£é",normalizedTitle:"&quot;èædom&quot; æ¦å¿µè§£é",charIndex:null},{level:2,title:'"Diffç®æ³" æ¦å¿µè§£é',slug:"diffç®æ³-æ¦å¿µè§£é",normalizedTitle:"&quot;diffç®æ³&quot; æ¦å¿µè§£é",charIndex:null},{level:5,title:"åå±(åçº§)èæDOMæ¯å¯¹",slug:"åå±-åçº§-èædomæ¯å¯¹",normalizedTitle:"åå±(åçº§)èædomæ¯å¯¹",charIndex:4439},{level:5,title:"åè¡¨åç´ ä½¿ç¨keyå¼è¿è¡æ¯å¯¹",slug:"åè¡¨åç´ ä½¿ç¨keyå¼è¿è¡æ¯å¯¹",normalizedTitle:"åè¡¨åç´ ä½¿ç¨keyå¼è¿è¡æ¯å¯¹",charIndex:4717},{level:2,title:'"é«é¶ç»ä»¶" æ¦å¿µè§£é',slug:"é«é¶ç»ä»¶-æ¦å¿µè§£é",normalizedTitle:"&quot;é«é¶ç»ä»¶&quot; æ¦å¿µè§£é",charIndex:null},{level:2,title:'"çå½å¨æå½æ°" æ¦å¿µè§£é',slug:"çå½å¨æå½æ°-æ¦å¿µè§£é",normalizedTitle:"&quot;çå½å¨æå½æ°&quot; æ¦å¿µè§£é",charIndex:null},{level:4,title:"çå½å¨æ4ä¸ªé¶æ®µåè¯¥é¶æ®µåççå½å¨æå½æ°ï¼",slug:"çå½å¨æ4ä¸ªé¶æ®µåè¯¥é¶æ®µåççå½å¨æå½æ°",normalizedTitle:"çå½å¨æ4ä¸ªé¶æ®µåè¯¥é¶æ®µåççå½å¨æå½æ°ï¼",charIndex:5183},{level:5,title:"åå§å(Initialization)",slug:"åå§å-initialization",normalizedTitle:"åå§å(initialization)",charIndex:5208},{level:5,title:"æè½½(Mounting)",slug:"æè½½-mounting",normalizedTitle:"æè½½(mounting)",charIndex:5297},{level:5,title:"æ´æ°(Updation)ï¼",slug:"æ´æ°-updation",normalizedTitle:"æ´æ°(updation)ï¼",charIndex:5375},{level:5,title:"æè·å­ç»ä»¶éè¯¯ï¼",slug:"æè·å­ç»ä»¶éè¯¯",normalizedTitle:"æè·å­ç»ä»¶éè¯¯ï¼",charIndex:5993},{level:5,title:"å¸è½½(Unmounting)ï¼",slug:"å¸è½½-unmounting",normalizedTitle:"å¸è½½(unmounting)ï¼",charIndex:6038},{level:5,title:"çå½å¨æå½æ°çå ä¸ªåºç¨åºæ¯ï¼",slug:"çå½å¨æå½æ°çå ä¸ªåºç¨åºæ¯",normalizedTitle:"çå½å¨æå½æ°çå ä¸ªåºç¨åºæ¯ï¼",charIndex:6221},{level:5,title:"ç¬¬ä¸ç§ï¼å¼ç¨å¤é¨cssæ ·å¼",slug:"ç¬¬ä¸ç§-å¼ç¨å¤é¨cssæ ·å¼",normalizedTitle:"ç¬¬ä¸ç§ï¼å¼ç¨å¤é¨cssæ ·å¼",charIndex:6964},{level:5,title:"ç¬¬äºç§ï¼åé¨æ ·å¼",slug:"ç¬¬äºç§-åé¨æ ·å¼",normalizedTitle:"ç¬¬äºç§ï¼åé¨æ ·å¼",charIndex:7138}],headersStr:'å®è£reactå¹¶åå§å 1ãå®è£ï¼npm install -g create-react-app 2ãåå»ºhello-reactç®å½å¹¶åå§åï¼npx create-react-app hello-react 3ãå¯å¨é¡¹ç®ï¼cd hello-reactãnpm start èªå®ä¹ç»ä»¶åºç¡ç¥è¯ "çº¯å½æ°" æ¦å¿µè§£é "åæ§ç»ä»¶" æ¦å¿µè§£é "å£°æå¼å¼å" æ¦å¿µè§£é "åé¡¹æ°æ®æµ" æ¦å¿µè§£é "è§å¾å±æ¸²ææ¡æ¶" æ¦å¿µè§£é "å½æ°å¼ç¼ç¨" æ¦å¿µè§£é "èæDOM" æ¦å¿µè§£é "Diffç®æ³" æ¦å¿µè§£é åå±(åçº§)èæDOMæ¯å¯¹ åè¡¨åç´ ä½¿ç¨keyå¼è¿è¡æ¯å¯¹ "é«é¶ç»ä»¶" æ¦å¿µè§£é "çå½å¨æå½æ°" æ¦å¿µè§£é çå½å¨æ4ä¸ªé¶æ®µåè¯¥é¶æ®µåççå½å¨æå½æ°ï¼ åå§å(Initialization) æè½½(Mounting) æ´æ°(Updation)ï¼ æè·å­ç»ä»¶éè¯¯ï¼ å¸è½½(Unmounting)ï¼ çå½å¨æå½æ°çå ä¸ªåºç¨åºæ¯ï¼ ç¬¬ä¸ç§ï¼å¼ç¨å¤é¨cssæ ·å¼ ç¬¬äºç§ï¼åé¨æ ·å¼',content:'# Reactåºç¡ç¥è¯\n\nè¯´æï¼ä»¥ä¸è¿äºåºç¡ç¥è¯éç¨äºç±»ç»ä»¶åå½æ°ç»ä»¶ï¼å¹¶ä¸æ¯å½æ°ç»ä»¶ç¬æçã\n\n\n# å®è£reactå¹¶åå§å\n\n# 1ãå®è£ï¼npm install -g create-react-app\n\n# 2ãåå»ºhello-reactç®å½å¹¶åå§åï¼npx create-react-app hello-react\n\næ³¨æï¼\n\n 1. ç®å½åä¸åè®¸æå¤§åå­æ¯\n 2. åå§åè¿ç¨æ¯è¾æ¢ï¼çè³å¯è½éè¦5-10åé\n 3. å¦ææ¥éï¼npm ERR! Unexpected end of JSON input while parsing near \'...n\\r\\nwsFcBAEBCAAQBQJd\'ï¼ è§£å³æ¹æ³ï¼npm root -g æ¾å°æ¬æºnpmå¨å±å®è£ç®å½ï¼cd è¿å¥è¯¥ç®å½ï¼æ§è¡æ¸é¤ç¼å­ï¼npm cache clean --forceï¼ç¶ååæ¬¡åå§åã\n\n# 3ãå¯å¨é¡¹ç®ï¼cd hello-reactãnpm start\n\né»è®¤å°å¯å¨ï¼http://localhost:3000\n\n\n# èªå®ä¹ç»ä»¶åºç¡ç¥è¯\n\n1ãèªå®ä¹ç»ä»¶å¿é¡»ä»¥å¤§åå­æ¯å¼å¤´ãé»è®¤ç½é¡µåçæ ç­¾è¿ä»¥å°åå¼å¤´ãè¯·æ³¨æè¿éè¡¨è¿°ç"é»è®¤ç½é¡µåçæ ç­¾"æ¬è´¨ä¸å¹¶ä¸æ¯çå®çåçç½é¡µæ ç­¾ï¼ä»ä»¬æ¯reacté»è®¤å®ä¹å¥½çãåç½®çèªå®ä¹ç»ä»¶æ ç­¾ï¼åªä¸è¿è¿äºæ ç­¾åå¥½ååçæ ç­¾çä½ç¨ï¼åè½ï¼åç§°ä¸æ¨¡ä¸æ ·èå·²ã\n\n2ãèªå®ä¹ç»ä»¶å¦æä¸å¸æè®¾å®æå¤å±çæ ç­¾ï¼é£ä¹å¯ä»¥ä½¿ç¨react(16+çæ¬)æä¾çå ä½ç¬¦Fragmentæ¥åå½æå¤å±æ ç­¾ï¼\n\nimport React,{Component,Fragment} from \'react\';  \nç±»ç»ä»¶ï¼render(){return <Fragment>xxxxxxx</Fragment>}  \nå½æ°ç»ä»¶ï¼return <Fragment>xxxxxxx</Fragment>\n\n\nå¨ææ°çreactçæ¬ä¸­ï¼ä¹å¯ä»¥ç´æ¥ä½¿ç¨<></>æ¥ä»£æ¿Fragmentãå¶ä¸­<>å¯ä¸å¯ä»¥æ¥æçå±æ§ä¸ºkeyãå³< key=\'xxx\'></>\n\n3ãä½¿ç¨æ°ç»mapå¾ªç¯æ´æ°liï¼ä¸å®è¦ç»liæ·»å å¯¹åºçkeyå¼ï¼å¦åè½ç¶æ­£å¸¸è¿è¡ï¼ä½æ¯ä¼æ¥éè¯¯è­¦åãä¸å»ºè®®ç´æ¥ä½¿ç¨indexä½ä¸ºkeyå¼ã\n\n4ãå¨ææ°çreactçæ¬ä¸­ï¼ä¸ºäºæé«æ´æ°æ§è½ï¼æ¨èéç¨å¼æ­¥çæ¹å¼æ´æ°æ°æ®ãå·ä½ä½¿ç¨æ¹å¼ä¸ºï¼setXxx((prevData) => {return xxx})ãå¶ä¸­åæ°prevDataæä¹åçåéå¼ï¼returnçå¯¹è±¡æä¿®æ¹ä¹åçæ°æ®å¼ã\n\nå¯ä»¥å°ä¸é¢ä»£ç ç®åä¸ºï¼setXxx(prevData => xxx) è¥æ²¡æç¨å°prevDataåæ°ï¼è¿å¯ä»¥çç¥ï¼å³ setXxx(() => xxx);\n\nå¼æ­¥çç®çæ¯ä¸ºäºä¼åæ´æ°æ§è½ï¼reactç­æååç°å¤æ¡æ°æ®åéåçä¿®æ¹ï¼é£ä¹ä»ä¼å°ææä¿®æ¹åå¹¶æä¸æ¬¡ä¿®æ¹åæç»æ§è¡ã\n\n5ãå¨JSXä¸­åæ³¨éï¼æ ¼å¼ä¸ºï¼{/* xxxxx */}æ{//xxxx}ï¼æ³¨æå¦æä½¿ç¨åè¡æ³¨éï¼æå¤çå¤§æ¬å·å¿é¡»åç¬å ä¸è¡ãæ³¨éå°½å¨å¼åæºä»£ç ä¸­æ¾ç¤ºï¼å¨å¯¼åºçç½é¡µä¸­ä¸ä¼æè¯¥æ³¨éã\n\n6ãç»æ ç­¾æ·»å æ ·å¼æ¶ï¼æ¨èä½¿ç¨classNameï¼ä¸æ¨èä½¿ç¨classãå¦æä½¿ç¨classè½ç¶è¿è¡æ²¡é®é¢ï¼ä½æ¯ä¼æ¥éè¯¯è­¦åï¼å ä¸ºæ ·å¼classè¿ä¸ªå³é®è¯åjsä¸­å£°æç±»çclasså²çªãç±»ä¼¼çè¿ææ ç­¾ä¸­forå³é®è¯ï¼æ¨èæ¹ä¸ºhtmlForã\n\n7ãéå¸¸æåµä¸ï¼reactæ¯éå¯¹ç»ä»¶å¼åï¼å¹¶ä¸åªè´è´£å¯¹htmlä¸­æä¸ä¸ªdivè¿è¡æ¸²æï¼é£ä¹æå³çè¯¥htmlå¶ä»æ ç­¾ä¸åå½±åï¼è¿æ ·å¼ç³åºæ¥ä¸ä¸ªç»æï¼ä¸ä¸ªhtmlæ¢å¯ä»¥ä½¿ç¨reactï¼ä¹å¯ä»¥ä½¿ç¨vueï¼ä¸¤èå¯ä»¥å¹¶å­ã\n\n8ãä¸ºäºæ¹ä¾¿è°è¯ä»£ç ï¼å¯ä»¥å¨è°·æ­æµè§å¨ä¸­å®è£React Developer Toolsæä»¶ãå®è£åå¯å¨è°·æ­æµè§å¨è°è¯æ¨¡å¼ä¸ï¼æ¥çcomponentæ ç­¾ä¸çåå®¹ã è¥è®¿é®æ¬æºreactè°è¯ç½é¡µåè¯¥æä»¶å¾æ ä¸ºçº¢è²ãè¥è®¿é®å¯¼åºçæ¬çReactç½é¡µåè¯¥æçº¿æ¾ç¤ºä¸ºèè²ãè¥è®¿é®çç½é¡µæ²¡ä½¿ç¨reactæ¡æ¶åä¸ºç°è²ã\n\n9ãç»ç»ä»¶è®¾å®å±æ§ï¼åªæå±æ§åæ²¡æå±æ§å¼ï¼é£ä¹é»è®¤reactä¼å°è¯¥å±æ§å¼è®¾ç½®ä¸ºtrueãå¨ES6ä¸­å¦æåªæä¸ä¸ªå±æ§å¯¹è±¡æ²¡æå±æ§å¼ï¼éå¸¸çè§£ä¸ºè¯¥å±æ§ååå±æ§å¼æ¯ç¸åçã ä¸ºäºé¿åæ··æ·ï¼ä¸å»ºè®®ä¸ç»å±æ§ä¸è®¾ç½®å±æ§å¼ã\n\n10ãReactDOM.createPortal()ç¨æ¥å°åç´ æ¸²æå°ä»»æDOMåç´ ä¸­(åæ¬é¡¶çº§ç»ä»¶ä¹å¤çå¶ä»DOMä¸­)ã\n\n\n# "çº¯å½æ°" æ¦å¿µè§£é\n\nJSä¸­å®ä¹çææå½æ°é½å¯ä»¥å¢å åæ°ï¼æè°"çº¯å½æ°"æ¯æå½æ°åé¨å¹¶æªä¿®æ¹è¿è¯¥åæ°çå½æ°ã\n\nä¾å¦ä»¥ä¸å½æ°ï¼function myFun(a){let c=a }ï¼è¯¥å½æ°åé¨ä»æªæ´æ¹è¿åæ°aï¼é£ä¹è¿ä¸ªå½æ°å°±æ¯çº¯å½æ°ã\n\nåä¾ï¼éçº¯å½æ° ä¾å¦ï¼function myFun(a){a=a+2; let c=a}ï¼è¯¥å½æ°åé¨ä¿®æ¹è¿åæ°aï¼é£ä¹è¿ä¸ªå½æ°å°±ä¸åæ¯çº¯å½æ°äºã\n\nçº¯å½æ°çç¹æ®æä¹æ¯ä»ä¹ï¼\nå ä¸ºçº¯å½æ°åé¨ä»ä¸ä¼ç´æ¥ä¿®æ¹åæ°ï¼é£ä¹æ è®ºè¿è¡å¤å°æ¬¡ï¼æ§è¡ç»ææ°¸è¿æ¯ä¸è´çã\n\nè¥ä»ä»æä¸ä¸ªå½æ°ï¼é£ä¹ä¹æ æè°ï¼ä½æ¯å¦ææå¤ä¸ªå½æ°é½æ¯é½éè¦è°ç¨æ§è¡åä¸ä¸ªåé(åæ°)ï¼ä¸ºäºç¡®ä¿å¤ä¸ªå½æ°æ§è¡ç»ææ¯ç¬¦åé¢æçï¼é£ä¹å°±è¦æ±æ¯ä¸ªå½æ°é½ä¸è½å¨èªå·±åé¨ä¿®æ¹è¯¥åé(åæ°)ã\n\nè¿å°±æ¯ä¸ºä»ä¹reactä¸åè®¸ç´æ¥ä¿®æ¹æåéçåå ã\n\n\n# "åæ§ç»ä»¶" æ¦å¿µè§£é\n\nåinputãselectãtextareaãformç­å°èªèº«valueä¸æåéè¿è¡ç»å®çç»ä»¶ï¼ç§°ä¹ä¸ºåæ§ç»ä»¶ã\n\n"åæ§"å³è¿äºç»ä»¶çå¯ä»¥å¼åå°æåéçæ§å¶ã\n\nä¸ä¹å¯¹åºçæ¯"éåæ§ç»ä»¶"ï¼å³è¯¥ç»ä»¶å¯¹åºçå¼å¹¶ä¸è½è¢«æåéæ§å¶ã\n\nä¾å¦"<input type=\'file\'/>"ï¼è¯¥ç»ä»¶çå¼ä¸ºç¨æ·éä¸­æ¬å°çæä»¶ä¿¡æ¯ï¼è¯¥å¼å¹¶ä¸è½ç´æ¥éè¿æåéæ¥è¿è¡valueå¼çè®¾å®ï¼å æ­¤è¯¥ç»ä»¶å±äº"éåæ§ç»ä»¶"ã\n\n\n# "å£°æå¼å¼å" æ¦å¿µè§£é\n\n"å£°æå¼å¼å"ï¼åºäºæ°æ®å®ä¹åæ°æ®æ¹åï¼è§å¾å±èªå¨æ´æ°ã\n"å½ä»¤å¼å¼å"ï¼åºäºå·ä½æ§è¡å½ä»¤æ´æ¹è§å¾ï¼ä¾å¦DOMæä½ä¿®æ¹ã\n\næ³¨æï¼å£°æå¼å¼åå¹¶ä¸æ¯ä¸è¿è¡DOMæä½ï¼èæ¯æDOMæä½é¢çéå°æä½ã\n\n\n# "åé¡¹æ°æ®æµ" æ¦å¿µè§£é\n\nreactæ¡æ¶çååä¸­è§å®ï¼å­ç»ä»¶åªå¯ä»¥ä½¿ç¨ç¶ç»ä»¶ä¼ éè¿æ¥çxxxå±æ§å¯¹åºçå¼ææ¹æ³ï¼ä¸å¯ä»¥æ¹åã\n\næ°æ®åªè½åååçä¼ é(ç¶ä¼ åå­ï¼ä¸åè®¸å­ç´æ¥ä¿®æ¹ç¶)ï¼è¥å­ç»ä»¶æ³ä¿®æ¹ç¶ç»ä»¶ä¸­çæ°æ®ï¼åªè½éè¿ç¶ç»ä»¶æ´é²ç»å­ç»ä»¶çå½æ°(æ¹æ³)æ¥é´æ¥ä¿®æ¹ã\n\nreactæ¡æ¶å·ä½å®ç°æ¹å¼æ¯è®¾ç½®ç¶ç»ä»¶ä¼ éç»å­ç»ä»¶ç"æ°æ®å¼ææ¹æ³"ä»ä»ä¸ºå¯è¯»ï¼ä½ä¸å¯ä¿®æ¹ã\n\nä¸ºä»ä¹è¦åè¿æ ·çéå¶ï¼\nå ä¸ºä¸ä¸ªç¶ç»ä»¶å¯ä»¥æå¤ä¸ªå­ç»ä»¶ï¼å¦ææ¯ä¸ªå­ç»ä»¶é½å¯ä¿®æ¹ç¶ç»ä»¶ä¸­çæ°æ®(å­ç»ä»¶ä¹é´å½¼æ­¤å±ç¨ç¶ç»ä»¶çæ°æ®)ï¼ä¸ä¸ªå­ç»ä»¶çæ°æ®ä¿®æ¹ä¼é æå¶ä»å­ç»ä»¶æ°æ®æ´æ¹ï¼æç»ä¼è®©æ´ä¸ªç»ä»¶æ°æ®åå¾éå¸¸å¤æã\n\nä¸ºäºç®åæ°æ®æä½å¤æç¨åº¦ï¼å æ­¤éç¨ååæ°æ®æµç­ç¥ï¼ä¿è¯ç¶ç»ä»¶æ°æ®çå¯ä¸æç»å¯ä¿®æ¹æå½ç¶ç»ä»¶ææã\n\n\n# "è§å¾å±æ¸²ææ¡æ¶" æ¦å¿µè§£é\n\nreactæ¡æ¶èªèº«å®ä½æ¯"è§å¾å±æ¸²ææ¡æ¶"ï¼ååæ°æ®æµæ¦å¿µå¾å¥½ï¼ä½æ¯å®éé¡¹ç®ä¸­é¡µé¢ä¼å¾å¤æã\n\nä¾å¦é¡¶çº§ç»ä»¶Rootä¸­åå«ä½¿ç¨äºç»ä»¶A(ç±å­ç»ä»¶A0ãA1ãA2ææ)ãç»ä»¶B(ç±å­ç»ä»¶A0ãA1ãA2ææ)ãç»ä»¶C(ç±å­ç»ä»¶C0ãC1ãC2ææ)ï¼è¥æ­¤æ¶ç»ä»¶Açå­ç»ä»¶A2æ³åç»ä»¶Cçå­ç»ä»¶C1è¿è¡æ°æ®äº¤äºï¼é£ä¹æç§ååæ°æ®æµçè§èï¼æ°æ®æä½æµç¨ä¸º A2 -> A -> Root -> C - C1ï¼å¯ä»¥çåºæä½æµç¨éå¸¸å¤æã\n\næä»¥å®éå¼åä¸­ï¼Reactæ¡æ¶ä¹è®¸ä¼ç»åå¶ä»"æ°æ®å±æ¡æ¶"(ä¾å¦ReduxãFluxç­)ï¼ä½æ¯è¯·æ³¨æï¼åªä»æäºhookä»¥åï¼å¯ä»¥éè¿useReducer+useContextæ¥å®ç°ç±»ä¼¼Reduxçåè½ã\n\n\n# "å½æ°å¼ç¼ç¨" æ¦å¿µè§£é\n\nreactèªå®ä¹ç»ä»¶çåç§äº¤äºé½å¨åé¨å®ä¹ä¸åçå½æ°(jsè¯­æ³è§å®ï¼ç±»classä¸­å®ä¹çå½æ°ä¸éè¦å¨åé¢å functionå³é®è¯)ï¼å æ­¤æä¸ºå½æ°å¼ç¼ç¨ãä¸ååçJSåhtmläº¤äºé£æ ·ï¼æ´å¤ä¾§éhtmlæ ç­¾ãDOMæä½æ¥å®ç°è§å¾åäº¤äºã\n\nå½æ°å¼ç¼ç¨çå ç¹å¥½å¤ï¼\n1ãå¯ä»¥æå¤æåè½çå¤çå½æ°æåæå¤ä¸ªç»å°çå½æ°ã\n2ãç±äºé½æ¯éè¿å½æ°æ¥è¿è¡è§å¾å±æ¸²æåæ°æ®äº¤äºï¼æ´å æ¹ä¾¿ç¼å"åç«¯èªå¨åæµè¯"ä»£ç ã\n\n\n# "èæDOM" æ¦å¿µè§£é\n\nèæDOM(Virtual Dom)å°±æ¯ä¸ä¸ªJSå¯¹è±¡(æ°ç»å¯¹è±¡)ï¼ç¨æ¥æè¿°çå®DOMãç¸å¯¹éè¿htmlæ ç­¾åå»ºççå®DOMï¼èæDOMæ¯ä¿å­å¨å®¢æ·ç«¯åå­éçä¸ä»½JSè¡¨è¿°DOMçæ°ç»å¯¹è±¡ã\n\nç¨æç®åçä¸ä¸ªdivæ ç­¾æ¥ç¤ºæä¸¤èçå·®å¼ï¼æ°æ®æ ¼å¼å¦ä¸ï¼\n\n//çå®DOMæ°æ®æ ¼å¼(ç½é¡µæ ç­¾)\n<div id=\'mydiv\'>hell react</div>\n\n//èæDOMæ°æ®æ ¼å¼(JSæ°ç»å¯¹è±¡)\n//èæDOMæ°ç»å¯¹è±¡æ ¼å¼ä¸ºï¼æ ç­¾å+å±æ§éå+å¼\n[\'div\',{id:\'mydiv\'},\'hell react\']\n\n//å¨JSXçåå»ºæ¨¡æ¿ä»£ç ä¸­ï¼éå¸¸ä»£ç æ ¼å¼ä¸º\nrender(){return <div id=\'mydiv\'>hello react</>}\n\n//è¿å¯ä»¥ä½¿ç¨reactæä¾çï¼æ´å åºå±çæ¹æ³æ¥å®ç°\nrender(){return React.createElement(\'div\',{id:\'mydiv\'},\'hello react\')}\n\n\nèæDOMæ´æ°æ§è½å¿«çåå å¹¶ä¸æ¯å ä¸ºå¨åå­ä¸­(çè®ºä¸ä»»ä½è½¯ä»¶é½æ¯è¿è¡å¨åå­ä¸­)ï¼èæ¯å ä¸ºèæDOMå¨å­çæ°æ®æ ¼å¼ä¸ºJSå¯¹è±¡ï¼ç¨JSæ¥æä½(çæ/æ¥è¯¢/å¯¹æ¯/æ´æ°)JSå¯¹è±¡å¾å®¹æãç¨JSæä½(çæ/æ¥è¯¢/å¯¹æ¯/æ´æ°)çå®DOMåéè¦è°ç¨Web Actionå±çAPIï¼æ§è½ç¸å¯¹å°±æ¢ã\n\nreactè¿è¡(æ´æ°)æ­¥éª¤ï¼å¤§è´ä¸ºï¼\n1ãå®ä¹ç»ä»¶æ°æ®åé\n2ãå®ä¹ç»ä»¶æ¨¡æ¿JSX\n3ãæ°æ®ä¸æ¨¡æ¿ç»åï¼çæä¸ä»½èæDOM\n4ãå°èæDOMè½¬åä¸ºçå®DOM\n5ãå°å¾å°ççå®DOMæè½½å°htmlä¸­(éè¿çå®DOMæä½)ï¼ç¨æ¥æ¾ç¤º\n6ãçå¬åéåçæ¹åï¼è¥ææ¹åéæ°æ§è¡ç¬¬3æ­¥(æ°æ®ä¸æ¨¡æ¿ç»åï¼çæå¦å¤ä¸ä»½æ°çèæDOM)\n7ãå¨åå­ä¸­å¯¹æ¯ååä¸¤ä»½èæDOMï¼æ¾åºå·®å¼é¨å(diffç®æ³)\n8ãå°å·®å¼é¨åè½¬åä¸ºçå®çDOM\n8ãå°å·®å¼åççå®DOMï¼éè¿çå®DOMæä½è¿è¡æ´æ°\n\nå½åéåçæ´æ¹æ¶ï¼èæDOMåå°äºçå®DOMçåå»ºåå¯¹æ¯æ¬¡æ°(éè¿èæDOMèéçå®DOM)ï¼ä»èæé«äºæ§è½ã\n\n\n# "Diffç®æ³" æ¦å¿µè§£é\n\nå½åéåçæ¹åæ¶ï¼éè¦éæ°çææ°çèæDOMï¼å¹¶ä¸å¯¹æ§çèæDOMè¿è¡å·®å¼åæ¯å¯¹ã\nDiffç®æ³å°±æ¯è¿ä¸ªå·®å¼åæ¯å¯¹çç®æ³ã\n\nDiffç®æ³ä¸ºäºæé«æ§è½ï¼ä¼åç®æ³ï¼éå¸¸ååä¸ºï¼\n\n# åå±(åçº§)èæDOMæ¯å¯¹\n\nåä»ä¸¤ä¸ªèæDOM(JSå¯¹è±¡)åå±(å³é¡¶å±)å¼å§æ¯å¯¹ï¼å¦æåç°åå±å°±ä¸ä¸è´ï¼é£ä¹å°±ç´æ¥æ¾å¼ä¸ä¸å±(çº§å«)çå¯¹æ¯ï¼éç¨ææ°çèæDOMã\n\nçé®ç¹ï¼åå¦ä¸¤å¿èæDOMé¡¶å±ä¸ä¸è´ï¼ä½ä¸ä¸çº§å«ä»¥ååé¢çæ´å¤çº§å«é½ä¸è´ï¼å¦æä»ä»å ä¸ºé¡¶å±ä¸ä¸è´èå°±è¯¥æ¾å¼ä¸ä¸çº§å«ï¼éæ°æä½çå®DOMä»å¤´æ¸²æï¼å²ä¸æ¯æ§è½æµªè´¹ï¼\n\nç­ï¼åå±(åçº§)èæDOMæ¯å¯¹ï¼"æ¯å¯¹"ç®æ³ç¸å¯¹ç®åï¼æ¯å¯¹éåº¦å¿«ãå¦æéç¨å¤å±(å¤çº§)æ¯å¯¹ï¼"æ¯å¯¹"ç®æ³ä¼ç¸å¯¹å¤æï¼æ¯å¯¹éåº¦æ¢ã åå±èæDOMæ¯å¯¹å°±æ¯å©ç¨äºæ¯å¯¹éåº¦å¿«çä¼å¿æ¥æµæ¶"æä½çå®DOMæä½æ§è½ä¸çæµªè´¹"ã\n\n# åè¡¨åç´ ä½¿ç¨keyå¼è¿è¡æ¯å¯¹\n\nè¿éçkeyå¼æ¯å¼"ç¨³å®çkeyå¼(æ¯æè§å¾çå­ç¬¦ä¸²ï¼éæ°å­)"ï¼è¥keyå¼ä¸ºç´¢å¼æ°å­indexï¼é£ä¹é¡ºåºåçæ¹åæ¶ï¼ç´¢å¼æ°å­ä¹ä¼åçååï¼æ æ³å¤æ­ä¹åçåç°å¨çæ¯å¦æ¯åä¸ä¸ªå¯¹è±¡ã\n\nå¦ækeyå¼æ¯ç¨³å®çï¼é£ä¹å¨æ¯å¯¹çæ¶åï¼æ¯è¾å®¹ææ¯å¯¹åºæ¯å¦åçååï¼ä»¥åå·ä½çååæ¯ä»ä¹ã\n\nDiffç®æ³è¿æéå¸¸å¤çå¶ä»æ§è½ä¼åç®æ³ï¼ä»¥ä¸ååºç"åå±æ¯å¯¹ãkeyå¼æ¯å¯¹"ä»ä»ä¸ºç®æ³ä¸¾ä¾ã\n\n\n# "é«é¶ç»ä»¶" æ¦å¿µè§£é\n\né«é¶ç»ä»¶æ¯ä¸ç§ç»ä»¶è®¾è®¡æ¹å¼(è®¾è®¡æ¨¡å¼)ï¼å°±æ¯å°ä¸ä¸ªç»ä»¶ä½ä¸ºåæ°ä¼ éç»ä¸ä¸ªå½æ°ï¼è¯¥å½æ°æ¥æ¶åæ°(ç»ä»¶)åè¿è¡å¤çåè£é¥°ï¼å¹¶è¿ååºä¸ä¸ªæ°çç»ä»¶ã\n\nç®åæ¥è¯´å°±æ¯ï¼æ®éç»ä»¶æ¯æ ¹æ®åæ°(props)çæä¸ä¸ªUI(JSXè¯­æ³æ¯æçæ ç­¾)ãèé«é¶ç»ä»¶æ¯æ ¹æ®åæ°(ç»ä»¶)çæä¸ä¸ªæ°çç»ä»¶ã\n\n\n# "çå½å¨æå½æ°" æ¦å¿µè§£é\n\nçå½å¨æå½æ°æå¨æä¸æ¶å»ç»ä»¶ä¼èªå¨è°ç¨æ§è¡çå½æ°ã\n\nè¿éç"æä¸æ¶å»"å¯ä»¥æ¯æç»ä»¶åå§åãæè½½å°èæDOMãæ°æ®æ´æ¹å¼åçæ´æ°(éæ°æ¸²æ)ãä»èæDOMå¸è½½è¿4ä¸ªé¶æ®µã\n\n# çå½å¨æ4ä¸ªé¶æ®µåè¯¥é¶æ®µåççå½å¨æå½æ°ï¼\n\n# åå§å(Initialization)\n\nconstructor()æ¯JSä¸­åçç±»çæé å½æ°ï¼çè®ºä¸ä»ä¸ä¸å±äºç»ä»¶çåå§åï¼ä½æ¯å¦ææå®å½ç±»æç»ä»¶ç»åå§åä¹æ¯å¯ä»¥æ¥åçã\n\n# æè½½(Mounting)\n\ncomponentWillMount(å³å°è¢«æè½½)ãrender(æè½½)ãcomponentDidMount(æè½½å®æ)\n\n# æ´æ°(Updation)ï¼\n\npropsåçåååå¯¹åºçæ´æ°è¿ç¨ï¼componentWillReceiveProps(ç¶ç»ä»¶åçæ°æ®æ´æ¹ï¼ç¶ç»ä»¶çrenderéæ°è¢«æ§è¡ï¼å­ç»ä»¶é¢æµå°å¯è½ä¼åçæ¿æ¢æ°æ°æ®)ãshouldComponentUpdate(è¯¢é®æ¯å¦åºè¯¥æ´æ°ï¼è¿åtrueåæ´æ°ãè¿åflashåä¸æ´æ°)ãcomponentWillUpate(åå¤è¦å¼å§æ´æ°)ãrender(æ´æ°)ãcomponentDidUpdate(æ´æ°å®æ)\n\nåéæ°æ®åçåååå¯¹åºçæ´æ°è¿ç¨ï¼shouldComponentUpdate(è¯¢é®æ¯å¦åºè¯¥æ´æ°ï¼è¿åtrueåæ´æ°ãè¿åflashåä¸æ´æ°)ãconponentWillUpdate(åå¤è¦å¼å§æ´æ°)ããrender(æ´æ°)ãcomponentDidUpdate(æ´æ°å®æ)\n\npropsåstatesåçåååçæ´æ°è¿ç¨ï¼å¯ä¸å·®å¼æ¯propså¤äºä¸ä¸ª componentWillReceivePropsçå½å¨æå½æ°ã\n\ncomponentWillReceivePropsè§¦åçæ¡ä»¶æ¯ï¼\n1ãä¸ä¸ªç»ä»¶è¦ä»ç¶ç»ä»¶æ¥æ¶åæ°ï¼å¹¶ä¸å·²å­å¨ç¶ç»ä»¶ä¸­(å­ç»ä»¶ç¬¬ä¸æ¬¡è¢«åå»ºæ¶æ¯ä¸ä¼æ§è¡componentWillReceivePropsç)\n2ãåªè¦ç¶ç»ä»¶çrenderå½æ°éæ°è¢«æ§è¡(ç¶ç»ä»¶åçæ°æ®æ´æ¹ï¼å­ç»ä»¶é¢æµå°å¯è½ä¼åçæ¿æ¢æ°æ°æ®)ï¼componentWillReceivePropså°±ä¼è¢«è§¦å\n\n# æè·å­ç»ä»¶éè¯¯ï¼\n\ncomponentDidCatch(æè·å°å­ç»ä»¶éè¯¯æ¶è¢«è§¦å)\n\n# å¸è½½(Unmounting)ï¼\n\ncomponentWillUnmount(å³å°è¢«å¸è½½)\n\nå¤æ³¨ï¼ç±»ç»ä»¶ç»§æ¿èªComponentç»ä»¶ï¼Componentç»ä»¶åç½®äºé¤render()ä»¥å¤çææçå½å¨æå½æ°ãå æ­¤èªå®ä¹ç»ä»¶render()è¿ä¸ªçå½å¨æå½æ°å¿é¡»å­å¨ï¼å¶ä»ççå½å¨æå½æ°é½å¯ä»¥å¿½ç¥ä¸åã èä½¿ç¨äºhookçå½æ°ç»ä»¶ï¼ç®åäºçå½å¨æå½æ°è°ç¨çå¤æç¨åº¦ã\n\n# çå½å¨æå½æ°çå ä¸ªåºç¨åºæ¯ï¼\n\nå¯¹äºç±»ç»ä»¶(ç±classåå»ºç)åå½æ°ç»ä»¶(ç±functionåå»ºç)ï¼ä»ä»¬å¯¹äºçå½å¨æçè°ç¨æ¹æ³ä¸åã\n\n1ãåªéè¦ç¬¬ä¸æ¬¡è·åæ°æ®çAjaxè¯·æ±\nå¦æç±»ç»ä»¶æajaxè¯·æ±(åªéè¯·æ±ä¸æ¬¡)ï¼é£ä¹æå¥½æajaxè¯·æ±åå¨componentDidMountä¸­(åªæ§è¡ä¸æ¬¡)ãå ä¸º"åå§åãæè½½ãå¸è½½"å¨ä¸ä¸ªç»ä»¶çæ´ä¸ªçå½å¨æä¸­åªä¼åçä¸æ¬¡ï¼è"æ´æ°"å¯ä»¥å¨çå½å¨æä¸­å¤æ¬¡æ§è¡ã\nå¦ææ¯å½æ°ç»ä»¶ï¼åå¯ä»¥åå¨useEffect()ä¸­ï¼å¹¶ä¸å°ç¬¬2ä¸ªåæ°è®¾ç½®ä¸ºç©ºæ°ç»ï¼è¿æ ·useEffectåªä¼æ§è¡ä¸æ¬¡ã\n\n2ãé²æ­¢å­ç»ä»¶ä¸å¿è¦çéæ°æ¸²æ\nå¦ææ¯ç±»ç»ä»¶ï¼ç¶ç»ä»¶åçåéæ¹åï¼é£ä¹ä¼è°ç¨render()ï¼ä¼éæ°æ¸²æææå­ç»ä»¶ãä½æ¯å¦æåéæ¹åçæä¸ªå¼ä¸æå­ç»ä»¶å¹¶ä¸ç¸å³ï¼å¦ææ­¤æ¶ä¹éæ°æ¸²æè¯¥å­ç»ä»¶ä¼é ææ§è½ä¸çæµªè´¹ãä¸ºäºè§£å³è¿ä¸ªæåµï¼å¯ä»¥å¨å­ç»ä»¶ä¸­çshouldComponentUpdateçå½å¨æå½æ°ä¸­ï¼åä»¥ä¸æä½:\n\nshouldComponentUpdate(nextProps,nextStates){\n  //å¤æ­xxxå¼æ¯å¦ç¸åï¼å¦æç¸ååä¸è¿è¡éæ°æ¸²æ\n  return (nextProps.xxx !== this.props.xxx); //æ³¨ææ¯ !== èä¸æ¯ !=\n}\n\n\nè¿å¯ä»¥è®©ç»ä»¶ç»§æ¿ç±React.Componentæ¹ä¸ºReact.PureComponentï¼reactä¼èªå¨å¸®æä»¬å¨shouldComponentUpdateçå½å¨æå½æ°ä¸­åæµå¯¹æ¯ã\n\nå¦ææ¯å½æ°ç»ä»¶ï¼åå¨å­ç»ä»¶å¯¼åºæ¶ï¼ä½¿ç¨React.memo()è¿è¡åè£¹ï¼åæ¶ç»åuseCallbackæ¥é»æ­¢æ è°çæ¸²æï¼å®ç°æé«æ§è½ã\n\n\n# Reactä¸­è®¾ç½®æ ·å¼çå ç§å½¢å¼\n\n# ç¬¬ä¸ç§ï¼å¼ç¨å¤é¨cssæ ·å¼\n\nä¼ªä»£ç ç¤ºä¾ï¼\n\nimport from \'./xxx.css\';  \nreturn <div className=\'xxx\' /\\>\n\n\næ³¨æï¼å¨jsxè¯­æ³ä¸­ï¼ä½¿ç¨é©¼å³°å½åãä¾å¦åçhtmlä¸­çclassnameéè¦æ¹æclassNameãbackground-colorè¦æ¹æbackgroundColorã\n\n# ç¬¬äºç§ï¼åé¨æ ·å¼\n\nä¼ªä»£ç ç¤ºä¾ï¼\n\nreturn <div style={{backgroundColor:\'green\',width:\'100px\'}} /\\>  \n\n\næ³¨æï¼åèæ ·å¼å¼ä¸ºä¸ä¸ªå¯¹è±¡ï¼å¯¹è±¡å±æ§ä¹é´ç¨","åå²èä¸æ¯åçhtmlä¸­ç";"ã\nå ä¸ºæ¯ä¸ä¸ªå¯¹è±¡ï¼å æ­¤ä¸é¢ä»£ç ä¹æ¯å¯è¡çï¼\nconst mystyle = {backgroundColor:\'green\',width:\'100px\'}; return <div style={mystyle} />\n\n\n# Hookç¨æ³\n\nHookæ¯react16.8ä»¥ä¸çæ¬æåºç°çæ°ç¹æ§ï¼å¯ä»¥å¨å½æ°ç»ä»¶ä¸­ä½¿ç¨ç»ä»¶çå½å¨æå½æ°ï¼ä¸é¢ç²åº¦æ´å ç»è´ã\n\nå¯ä»¥æHooké»è¾ä»ç»ä»¶ä¸­æ½ç¦»åºæ¥ï¼å¤ä¸ªç»ä»¶å¯ä»¥å±äº«è¯¥hooké»è¾ã\n\nè¯·æ³¨æhookæ¬è´¨ä¸æ¯ä¸ºäºè§£å³ç»ä»¶ä¹é´å±äº«é»è¾ï¼å¹¶ä¸æ¯åçº¯ä¸ºäºè§£å³ç»ä»¶ä¹é´å±äº«æ°æ®ã\n\nhookè¡¨ç°åºæ¥ç¹å«åä¸ä¸ªæ®éçJSå½æ°(ä»ä»æ¯è¡¨ç°åºæ¥ä½ç»ä¸æ¯ççæ®éJSå½æ°)ã',normalizedContent:'# reactåºç¡ç¥è¯\n\nè¯´æï¼ä»¥ä¸è¿äºåºç¡ç¥è¯éç¨äºç±»ç»ä»¶åå½æ°ç»ä»¶ï¼å¹¶ä¸æ¯å½æ°ç»ä»¶ç¬æçã\n\n\n# å®è£reactå¹¶åå§å\n\n# 1ãå®è£ï¼npm install -g create-react-app\n\n# 2ãåå»ºhello-reactç®å½å¹¶åå§åï¼npx create-react-app hello-react\n\næ³¨æï¼\n\n 1. ç®å½åä¸åè®¸æå¤§åå­æ¯\n 2. åå§åè¿ç¨æ¯è¾æ¢ï¼çè³å¯è½éè¦5-10åé\n 3. å¦ææ¥éï¼npm err! unexpected end of json input while parsing near \'...n\\r\\nwsfcbaebcaaqbqjd\'ï¼ è§£å³æ¹æ³ï¼npm root -g æ¾å°æ¬æºnpmå¨å±å®è£ç®å½ï¼cd è¿å¥è¯¥ç®å½ï¼æ§è¡æ¸é¤ç¼å­ï¼npm cache clean --forceï¼ç¶ååæ¬¡åå§åã\n\n# 3ãå¯å¨é¡¹ç®ï¼cd hello-reactãnpm start\n\né»è®¤å°å¯å¨ï¼http://localhost:3000\n\n\n# èªå®ä¹ç»ä»¶åºç¡ç¥è¯\n\n1ãèªå®ä¹ç»ä»¶å¿é¡»ä»¥å¤§åå­æ¯å¼å¤´ãé»è®¤ç½é¡µåçæ ç­¾è¿ä»¥å°åå¼å¤´ãè¯·æ³¨æè¿éè¡¨è¿°ç"é»è®¤ç½é¡µåçæ ç­¾"æ¬è´¨ä¸å¹¶ä¸æ¯çå®çåçç½é¡µæ ç­¾ï¼ä»ä»¬æ¯reacté»è®¤å®ä¹å¥½çãåç½®çèªå®ä¹ç»ä»¶æ ç­¾ï¼åªä¸è¿è¿äºæ ç­¾åå¥½ååçæ ç­¾çä½ç¨ï¼åè½ï¼åç§°ä¸æ¨¡ä¸æ ·èå·²ã\n\n2ãèªå®ä¹ç»ä»¶å¦æä¸å¸æè®¾å®æå¤å±çæ ç­¾ï¼é£ä¹å¯ä»¥ä½¿ç¨react(16+çæ¬)æä¾çå ä½ç¬¦fragmentæ¥åå½æå¤å±æ ç­¾ï¼\n\nimport react,{component,fragment} from \'react\';  \nç±»ç»ä»¶ï¼render(){return <fragment>xxxxxxx</fragment>}  \nå½æ°ç»ä»¶ï¼return <fragment>xxxxxxx</fragment>\n\n\nå¨ææ°çreactçæ¬ä¸­ï¼ä¹å¯ä»¥ç´æ¥ä½¿ç¨<></>æ¥ä»£æ¿fragmentãå¶ä¸­<>å¯ä¸å¯ä»¥æ¥æçå±æ§ä¸ºkeyãå³< key=\'xxx\'></>\n\n3ãä½¿ç¨æ°ç»mapå¾ªç¯æ´æ°liï¼ä¸å®è¦ç»liæ·»å å¯¹åºçkeyå¼ï¼å¦åè½ç¶æ­£å¸¸è¿è¡ï¼ä½æ¯ä¼æ¥éè¯¯è­¦åãä¸å»ºè®®ç´æ¥ä½¿ç¨indexä½ä¸ºkeyå¼ã\n\n4ãå¨ææ°çreactçæ¬ä¸­ï¼ä¸ºäºæé«æ´æ°æ§è½ï¼æ¨èéç¨å¼æ­¥çæ¹å¼æ´æ°æ°æ®ãå·ä½ä½¿ç¨æ¹å¼ä¸ºï¼setxxx((prevdata) => {return xxx})ãå¶ä¸­åæ°prevdataæä¹åçåéå¼ï¼returnçå¯¹è±¡æä¿®æ¹ä¹åçæ°æ®å¼ã\n\nå¯ä»¥å°ä¸é¢ä»£ç ç®åä¸ºï¼setxxx(prevdata => xxx) è¥æ²¡æç¨å°prevdataåæ°ï¼è¿å¯ä»¥çç¥ï¼å³ setxxx(() => xxx);\n\nå¼æ­¥çç®çæ¯ä¸ºäºä¼åæ´æ°æ§è½ï¼reactç­æååç°å¤æ¡æ°æ®åéåçä¿®æ¹ï¼é£ä¹ä»ä¼å°ææä¿®æ¹åå¹¶æä¸æ¬¡ä¿®æ¹åæç»æ§è¡ã\n\n5ãå¨jsxä¸­åæ³¨éï¼æ ¼å¼ä¸ºï¼{/* xxxxx */}æ{//xxxx}ï¼æ³¨æå¦æä½¿ç¨åè¡æ³¨éï¼æå¤çå¤§æ¬å·å¿é¡»åç¬å ä¸è¡ãæ³¨éå°½å¨å¼åæºä»£ç ä¸­æ¾ç¤ºï¼å¨å¯¼åºçç½é¡µä¸­ä¸ä¼æè¯¥æ³¨éã\n\n6ãç»æ ç­¾æ·»å æ ·å¼æ¶ï¼æ¨èä½¿ç¨classnameï¼ä¸æ¨èä½¿ç¨classãå¦æä½¿ç¨classè½ç¶è¿è¡æ²¡é®é¢ï¼ä½æ¯ä¼æ¥éè¯¯è­¦åï¼å ä¸ºæ ·å¼classè¿ä¸ªå³é®è¯åjsä¸­å£°æç±»çclasså²çªãç±»ä¼¼çè¿ææ ç­¾ä¸­forå³é®è¯ï¼æ¨èæ¹ä¸ºhtmlforã\n\n7ãéå¸¸æåµä¸ï¼reactæ¯éå¯¹ç»ä»¶å¼åï¼å¹¶ä¸åªè´è´£å¯¹htmlä¸­æä¸ä¸ªdivè¿è¡æ¸²æï¼é£ä¹æå³çè¯¥htmlå¶ä»æ ç­¾ä¸åå½±åï¼è¿æ ·å¼ç³åºæ¥ä¸ä¸ªç»æï¼ä¸ä¸ªhtmlæ¢å¯ä»¥ä½¿ç¨reactï¼ä¹å¯ä»¥ä½¿ç¨vueï¼ä¸¤èå¯ä»¥å¹¶å­ã\n\n8ãä¸ºäºæ¹ä¾¿è°è¯ä»£ç ï¼å¯ä»¥å¨è°·æ­æµè§å¨ä¸­å®è£react developer toolsæä»¶ãå®è£åå¯å¨è°·æ­æµè§å¨è°è¯æ¨¡å¼ä¸ï¼æ¥çcomponentæ ç­¾ä¸çåå®¹ã è¥è®¿é®æ¬æºreactè°è¯ç½é¡µåè¯¥æä»¶å¾æ ä¸ºçº¢è²ãè¥è®¿é®å¯¼åºçæ¬çreactç½é¡µåè¯¥æçº¿æ¾ç¤ºä¸ºèè²ãè¥è®¿é®çç½é¡µæ²¡ä½¿ç¨reactæ¡æ¶åä¸ºç°è²ã\n\n9ãç»ç»ä»¶è®¾å®å±æ§ï¼åªæå±æ§åæ²¡æå±æ§å¼ï¼é£ä¹é»è®¤reactä¼å°è¯¥å±æ§å¼è®¾ç½®ä¸ºtrueãå¨es6ä¸­å¦æåªæä¸ä¸ªå±æ§å¯¹è±¡æ²¡æå±æ§å¼ï¼éå¸¸çè§£ä¸ºè¯¥å±æ§ååå±æ§å¼æ¯ç¸åçã ä¸ºäºé¿åæ··æ·ï¼ä¸å»ºè®®ä¸ç»å±æ§ä¸è®¾ç½®å±æ§å¼ã\n\n10ãreactdom.createportal()ç¨æ¥å°åç´ æ¸²æå°ä»»ædomåç´ ä¸­(åæ¬é¡¶çº§ç»ä»¶ä¹å¤çå¶ä»domä¸­)ã\n\n\n# "çº¯å½æ°" æ¦å¿µè§£é\n\njsä¸­å®ä¹çææå½æ°é½å¯ä»¥å¢å åæ°ï¼æè°"çº¯å½æ°"æ¯æå½æ°åé¨å¹¶æªä¿®æ¹è¿è¯¥åæ°çå½æ°ã\n\nä¾å¦ä»¥ä¸å½æ°ï¼function myfun(a){let c=a }ï¼è¯¥å½æ°åé¨ä»æªæ´æ¹è¿åæ°aï¼é£ä¹è¿ä¸ªå½æ°å°±æ¯çº¯å½æ°ã\n\nåä¾ï¼éçº¯å½æ° ä¾å¦ï¼function myfun(a){a=a+2; let c=a}ï¼è¯¥å½æ°åé¨ä¿®æ¹è¿åæ°aï¼é£ä¹è¿ä¸ªå½æ°å°±ä¸åæ¯çº¯å½æ°äºã\n\nçº¯å½æ°çç¹æ®æä¹æ¯ä»ä¹ï¼\nå ä¸ºçº¯å½æ°åé¨ä»ä¸ä¼ç´æ¥ä¿®æ¹åæ°ï¼é£ä¹æ è®ºè¿è¡å¤å°æ¬¡ï¼æ§è¡ç»ææ°¸è¿æ¯ä¸è´çã\n\nè¥ä»ä»æä¸ä¸ªå½æ°ï¼é£ä¹ä¹æ æè°ï¼ä½æ¯å¦ææå¤ä¸ªå½æ°é½æ¯é½éè¦è°ç¨æ§è¡åä¸ä¸ªåé(åæ°)ï¼ä¸ºäºç¡®ä¿å¤ä¸ªå½æ°æ§è¡ç»ææ¯ç¬¦åé¢æçï¼é£ä¹å°±è¦æ±æ¯ä¸ªå½æ°é½ä¸è½å¨èªå·±åé¨ä¿®æ¹è¯¥åé(åæ°)ã\n\nè¿å°±æ¯ä¸ºä»ä¹reactä¸åè®¸ç´æ¥ä¿®æ¹æåéçåå ã\n\n\n# "åæ§ç»ä»¶" æ¦å¿µè§£é\n\nåinputãselectãtextareaãformç­å°èªèº«valueä¸æåéè¿è¡ç»å®çç»ä»¶ï¼ç§°ä¹ä¸ºåæ§ç»ä»¶ã\n\n"åæ§"å³è¿äºç»ä»¶çå¯ä»¥å¼åå°æåéçæ§å¶ã\n\nä¸ä¹å¯¹åºçæ¯"éåæ§ç»ä»¶"ï¼å³è¯¥ç»ä»¶å¯¹åºçå¼å¹¶ä¸è½è¢«æåéæ§å¶ã\n\nä¾å¦"<input type=\'file\'/>"ï¼è¯¥ç»ä»¶çå¼ä¸ºç¨æ·éä¸­æ¬å°çæä»¶ä¿¡æ¯ï¼è¯¥å¼å¹¶ä¸è½ç´æ¥éè¿æåéæ¥è¿è¡valueå¼çè®¾å®ï¼å æ­¤è¯¥ç»ä»¶å±äº"éåæ§ç»ä»¶"ã\n\n\n# "å£°æå¼å¼å" æ¦å¿µè§£é\n\n"å£°æå¼å¼å"ï¼åºäºæ°æ®å®ä¹åæ°æ®æ¹åï¼è§å¾å±èªå¨æ´æ°ã\n"å½ä»¤å¼å¼å"ï¼åºäºå·ä½æ§è¡å½ä»¤æ´æ¹è§å¾ï¼ä¾å¦domæä½ä¿®æ¹ã\n\næ³¨æï¼å£°æå¼å¼åå¹¶ä¸æ¯ä¸è¿è¡domæä½ï¼èæ¯ædomæä½é¢çéå°æä½ã\n\n\n# "åé¡¹æ°æ®æµ" æ¦å¿µè§£é\n\nreactæ¡æ¶çååä¸­è§å®ï¼å­ç»ä»¶åªå¯ä»¥ä½¿ç¨ç¶ç»ä»¶ä¼ éè¿æ¥çxxxå±æ§å¯¹åºçå¼ææ¹æ³ï¼ä¸å¯ä»¥æ¹åã\n\næ°æ®åªè½åååçä¼ é(ç¶ä¼ åå­ï¼ä¸åè®¸å­ç´æ¥ä¿®æ¹ç¶)ï¼è¥å­ç»ä»¶æ³ä¿®æ¹ç¶ç»ä»¶ä¸­çæ°æ®ï¼åªè½éè¿ç¶ç»ä»¶æ´é²ç»å­ç»ä»¶çå½æ°(æ¹æ³)æ¥é´æ¥ä¿®æ¹ã\n\nreactæ¡æ¶å·ä½å®ç°æ¹å¼æ¯è®¾ç½®ç¶ç»ä»¶ä¼ éç»å­ç»ä»¶ç"æ°æ®å¼ææ¹æ³"ä»ä»ä¸ºå¯è¯»ï¼ä½ä¸å¯ä¿®æ¹ã\n\nä¸ºä»ä¹è¦åè¿æ ·çéå¶ï¼\nå ä¸ºä¸ä¸ªç¶ç»ä»¶å¯ä»¥æå¤ä¸ªå­ç»ä»¶ï¼å¦ææ¯ä¸ªå­ç»ä»¶é½å¯ä¿®æ¹ç¶ç»ä»¶ä¸­çæ°æ®(å­ç»ä»¶ä¹é´å½¼æ­¤å±ç¨ç¶ç»ä»¶çæ°æ®)ï¼ä¸ä¸ªå­ç»ä»¶çæ°æ®ä¿®æ¹ä¼é æå¶ä»å­ç»ä»¶æ°æ®æ´æ¹ï¼æç»ä¼è®©æ´ä¸ªç»ä»¶æ°æ®åå¾éå¸¸å¤æã\n\nä¸ºäºç®åæ°æ®æä½å¤æç¨åº¦ï¼å æ­¤éç¨ååæ°æ®æµç­ç¥ï¼ä¿è¯ç¶ç»ä»¶æ°æ®çå¯ä¸æç»å¯ä¿®æ¹æå½ç¶ç»ä»¶ææã\n\n\n# "è§å¾å±æ¸²ææ¡æ¶" æ¦å¿µè§£é\n\nreactæ¡æ¶èªèº«å®ä½æ¯"è§å¾å±æ¸²ææ¡æ¶"ï¼ååæ°æ®æµæ¦å¿µå¾å¥½ï¼ä½æ¯å®éé¡¹ç®ä¸­é¡µé¢ä¼å¾å¤æã\n\nä¾å¦é¡¶çº§ç»ä»¶rootä¸­åå«ä½¿ç¨äºç»ä»¶a(ç±å­ç»ä»¶a0ãa1ãa2ææ)ãç»ä»¶b(ç±å­ç»ä»¶a0ãa1ãa2ææ)ãç»ä»¶c(ç±å­ç»ä»¶c0ãc1ãc2ææ)ï¼è¥æ­¤æ¶ç»ä»¶açå­ç»ä»¶a2æ³åç»ä»¶cçå­ç»ä»¶c1è¿è¡æ°æ®äº¤äºï¼é£ä¹æç§ååæ°æ®æµçè§èï¼æ°æ®æä½æµç¨ä¸º a2 -> a -> root -> c - c1ï¼å¯ä»¥çåºæä½æµç¨éå¸¸å¤æã\n\næä»¥å®éå¼åä¸­ï¼reactæ¡æ¶ä¹è®¸ä¼ç»åå¶ä»"æ°æ®å±æ¡æ¶"(ä¾å¦reduxãfluxç­)ï¼ä½æ¯è¯·æ³¨æï¼åªä»æäºhookä»¥åï¼å¯ä»¥éè¿usereducer+usecontextæ¥å®ç°ç±»ä¼¼reduxçåè½ã\n\n\n# "å½æ°å¼ç¼ç¨" æ¦å¿µè§£é\n\nreactèªå®ä¹ç»ä»¶çåç§äº¤äºé½å¨åé¨å®ä¹ä¸åçå½æ°(jsè¯­æ³è§å®ï¼ç±»classä¸­å®ä¹çå½æ°ä¸éè¦å¨åé¢å functionå³é®è¯)ï¼å æ­¤æä¸ºå½æ°å¼ç¼ç¨ãä¸ååçjsåhtmläº¤äºé£æ ·ï¼æ´å¤ä¾§éhtmlæ ç­¾ãdomæä½æ¥å®ç°è§å¾åäº¤äºã\n\nå½æ°å¼ç¼ç¨çå ç¹å¥½å¤ï¼\n1ãå¯ä»¥æå¤æåè½çå¤çå½æ°æåæå¤ä¸ªç»å°çå½æ°ã\n2ãç±äºé½æ¯éè¿å½æ°æ¥è¿è¡è§å¾å±æ¸²æåæ°æ®äº¤äºï¼æ´å æ¹ä¾¿ç¼å"åç«¯èªå¨åæµè¯"ä»£ç ã\n\n\n# "èædom" æ¦å¿µè§£é\n\nèædom(virtual dom)å°±æ¯ä¸ä¸ªjså¯¹è±¡(æ°ç»å¯¹è±¡)ï¼ç¨æ¥æè¿°çå®domãç¸å¯¹éè¿htmlæ ç­¾åå»ºççå®domï¼èædomæ¯ä¿å­å¨å®¢æ·ç«¯åå­éçä¸ä»½jsè¡¨è¿°domçæ°ç»å¯¹è±¡ã\n\nç¨æç®åçä¸ä¸ªdivæ ç­¾æ¥ç¤ºæä¸¤èçå·®å¼ï¼æ°æ®æ ¼å¼å¦ä¸ï¼\n\n//çå®domæ°æ®æ ¼å¼(ç½é¡µæ ç­¾)\n<div id=\'mydiv\'>hell react</div>\n\n//èædomæ°æ®æ ¼å¼(jsæ°ç»å¯¹è±¡)\n//èædomæ°ç»å¯¹è±¡æ ¼å¼ä¸ºï¼æ ç­¾å+å±æ§éå+å¼\n[\'div\',{id:\'mydiv\'},\'hell react\']\n\n//å¨jsxçåå»ºæ¨¡æ¿ä»£ç ä¸­ï¼éå¸¸ä»£ç æ ¼å¼ä¸º\nrender(){return <div id=\'mydiv\'>hello react</>}\n\n//è¿å¯ä»¥ä½¿ç¨reactæä¾çï¼æ´å åºå±çæ¹æ³æ¥å®ç°\nrender(){return react.createelement(\'div\',{id:\'mydiv\'},\'hello react\')}\n\n\nèædomæ´æ°æ§è½å¿«çåå å¹¶ä¸æ¯å ä¸ºå¨åå­ä¸­(çè®ºä¸ä»»ä½è½¯ä»¶é½æ¯è¿è¡å¨åå­ä¸­)ï¼èæ¯å ä¸ºèædomå¨å­çæ°æ®æ ¼å¼ä¸ºjså¯¹è±¡ï¼ç¨jsæ¥æä½(çæ/æ¥è¯¢/å¯¹æ¯/æ´æ°)jså¯¹è±¡å¾å®¹æãç¨jsæä½(çæ/æ¥è¯¢/å¯¹æ¯/æ´æ°)çå®domåéè¦è°ç¨web actionå±çapiï¼æ§è½ç¸å¯¹å°±æ¢ã\n\nreactè¿è¡(æ´æ°)æ­¥éª¤ï¼å¤§è´ä¸ºï¼\n1ãå®ä¹ç»ä»¶æ°æ®åé\n2ãå®ä¹ç»ä»¶æ¨¡æ¿jsx\n3ãæ°æ®ä¸æ¨¡æ¿ç»åï¼çæä¸ä»½èædom\n4ãå°èædomè½¬åä¸ºçå®dom\n5ãå°å¾å°ççå®domæè½½å°htmlä¸­(éè¿çå®domæä½)ï¼ç¨æ¥æ¾ç¤º\n6ãçå¬åéåçæ¹åï¼è¥ææ¹åéæ°æ§è¡ç¬¬3æ­¥(æ°æ®ä¸æ¨¡æ¿ç»åï¼çæå¦å¤ä¸ä»½æ°çèædom)\n7ãå¨åå­ä¸­å¯¹æ¯ååä¸¤ä»½èædomï¼æ¾åºå·®å¼é¨å(diffç®æ³)\n8ãå°å·®å¼é¨åè½¬åä¸ºçå®çdom\n8ãå°å·®å¼åççå®domï¼éè¿çå®domæä½è¿è¡æ´æ°\n\nå½åéåçæ´æ¹æ¶ï¼èædomåå°äºçå®domçåå»ºåå¯¹æ¯æ¬¡æ°(éè¿èædomèéçå®dom)ï¼ä»èæé«äºæ§è½ã\n\n\n# "diffç®æ³" æ¦å¿µè§£é\n\nå½åéåçæ¹åæ¶ï¼éè¦éæ°çææ°çèædomï¼å¹¶ä¸å¯¹æ§çèædomè¿è¡å·®å¼åæ¯å¯¹ã\ndiffç®æ³å°±æ¯è¿ä¸ªå·®å¼åæ¯å¯¹çç®æ³ã\n\ndiffç®æ³ä¸ºäºæé«æ§è½ï¼ä¼åç®æ³ï¼éå¸¸ååä¸ºï¼\n\n# åå±(åçº§)èædomæ¯å¯¹\n\nåä»ä¸¤ä¸ªèædom(jså¯¹è±¡)åå±(å³é¡¶å±)å¼å§æ¯å¯¹ï¼å¦æåç°åå±å°±ä¸ä¸è´ï¼é£ä¹å°±ç´æ¥æ¾å¼ä¸ä¸å±(çº§å«)çå¯¹æ¯ï¼éç¨ææ°çèædomã\n\nçé®ç¹ï¼åå¦ä¸¤å¿èædomé¡¶å±ä¸ä¸è´ï¼ä½ä¸ä¸çº§å«ä»¥ååé¢çæ´å¤çº§å«é½ä¸è´ï¼å¦æä»ä»å ä¸ºé¡¶å±ä¸ä¸è´èå°±è¯¥æ¾å¼ä¸ä¸çº§å«ï¼éæ°æä½çå®domä»å¤´æ¸²æï¼å²ä¸æ¯æ§è½æµªè´¹ï¼\n\nç­ï¼åå±(åçº§)èædomæ¯å¯¹ï¼"æ¯å¯¹"ç®æ³ç¸å¯¹ç®åï¼æ¯å¯¹éåº¦å¿«ãå¦æéç¨å¤å±(å¤çº§)æ¯å¯¹ï¼"æ¯å¯¹"ç®æ³ä¼ç¸å¯¹å¤æï¼æ¯å¯¹éåº¦æ¢ã åå±èædomæ¯å¯¹å°±æ¯å©ç¨äºæ¯å¯¹éåº¦å¿«çä¼å¿æ¥æµæ¶"æä½çå®domæä½æ§è½ä¸çæµªè´¹"ã\n\n# åè¡¨åç´ ä½¿ç¨keyå¼è¿è¡æ¯å¯¹\n\nè¿éçkeyå¼æ¯å¼"ç¨³å®çkeyå¼(æ¯æè§å¾çå­ç¬¦ä¸²ï¼éæ°å­)"ï¼è¥keyå¼ä¸ºç´¢å¼æ°å­indexï¼é£ä¹é¡ºåºåçæ¹åæ¶ï¼ç´¢å¼æ°å­ä¹ä¼åçååï¼æ æ³å¤æ­ä¹åçåç°å¨çæ¯å¦æ¯åä¸ä¸ªå¯¹è±¡ã\n\nå¦ækeyå¼æ¯ç¨³å®çï¼é£ä¹å¨æ¯å¯¹çæ¶åï¼æ¯è¾å®¹ææ¯å¯¹åºæ¯å¦åçååï¼ä»¥åå·ä½çååæ¯ä»ä¹ã\n\ndiffç®æ³è¿æéå¸¸å¤çå¶ä»æ§è½ä¼åç®æ³ï¼ä»¥ä¸ååºç"åå±æ¯å¯¹ãkeyå¼æ¯å¯¹"ä»ä»ä¸ºç®æ³ä¸¾ä¾ã\n\n\n# "é«é¶ç»ä»¶" æ¦å¿µè§£é\n\né«é¶ç»ä»¶æ¯ä¸ç§ç»ä»¶è®¾è®¡æ¹å¼(è®¾è®¡æ¨¡å¼)ï¼å°±æ¯å°ä¸ä¸ªç»ä»¶ä½ä¸ºåæ°ä¼ éç»ä¸ä¸ªå½æ°ï¼è¯¥å½æ°æ¥æ¶åæ°(ç»ä»¶)åè¿è¡å¤çåè£é¥°ï¼å¹¶è¿ååºä¸ä¸ªæ°çç»ä»¶ã\n\nç®åæ¥è¯´å°±æ¯ï¼æ®éç»ä»¶æ¯æ ¹æ®åæ°(props)çæä¸ä¸ªui(jsxè¯­æ³æ¯æçæ ç­¾)ãèé«é¶ç»ä»¶æ¯æ ¹æ®åæ°(ç»ä»¶)çæä¸ä¸ªæ°çç»ä»¶ã\n\n\n# "çå½å¨æå½æ°" æ¦å¿µè§£é\n\nçå½å¨æå½æ°æå¨æä¸æ¶å»ç»ä»¶ä¼èªå¨è°ç¨æ§è¡çå½æ°ã\n\nè¿éç"æä¸æ¶å»"å¯ä»¥æ¯æç»ä»¶åå§åãæè½½å°èædomãæ°æ®æ´æ¹å¼åçæ´æ°(éæ°æ¸²æ)ãä»èædomå¸è½½è¿4ä¸ªé¶æ®µã\n\n# çå½å¨æ4ä¸ªé¶æ®µåè¯¥é¶æ®µåççå½å¨æå½æ°ï¼\n\n# åå§å(initialization)\n\nconstructor()æ¯jsä¸­åçç±»çæé å½æ°ï¼çè®ºä¸ä»ä¸ä¸å±äºç»ä»¶çåå§åï¼ä½æ¯å¦ææå®å½ç±»æç»ä»¶ç»åå§åä¹æ¯å¯ä»¥æ¥åçã\n\n# æè½½(mounting)\n\ncomponentwillmount(å³å°è¢«æè½½)ãrender(æè½½)ãcomponentdidmount(æè½½å®æ)\n\n# æ´æ°(updation)ï¼\n\npropsåçåååå¯¹åºçæ´æ°è¿ç¨ï¼componentwillreceiveprops(ç¶ç»ä»¶åçæ°æ®æ´æ¹ï¼ç¶ç»ä»¶çrenderéæ°è¢«æ§è¡ï¼å­ç»ä»¶é¢æµå°å¯è½ä¼åçæ¿æ¢æ°æ°æ®)ãshouldcomponentupdate(è¯¢é®æ¯å¦åºè¯¥æ´æ°ï¼è¿åtrueåæ´æ°ãè¿åflashåä¸æ´æ°)ãcomponentwillupate(åå¤è¦å¼å§æ´æ°)ãrender(æ´æ°)ãcomponentdidupdate(æ´æ°å®æ)\n\nåéæ°æ®åçåååå¯¹åºçæ´æ°è¿ç¨ï¼shouldcomponentupdate(è¯¢é®æ¯å¦åºè¯¥æ´æ°ï¼è¿åtrueåæ´æ°ãè¿åflashåä¸æ´æ°)ãconponentwillupdate(åå¤è¦å¼å§æ´æ°)ããrender(æ´æ°)ãcomponentdidupdate(æ´æ°å®æ)\n\npropsåstatesåçåååçæ´æ°è¿ç¨ï¼å¯ä¸å·®å¼æ¯propså¤äºä¸ä¸ª componentwillreceivepropsçå½å¨æå½æ°ã\n\ncomponentwillreceivepropsè§¦åçæ¡ä»¶æ¯ï¼\n1ãä¸ä¸ªç»ä»¶è¦ä»ç¶ç»ä»¶æ¥æ¶åæ°ï¼å¹¶ä¸å·²å­å¨ç¶ç»ä»¶ä¸­(å­ç»ä»¶ç¬¬ä¸æ¬¡è¢«åå»ºæ¶æ¯ä¸ä¼æ§è¡componentwillreceivepropsç)\n2ãåªè¦ç¶ç»ä»¶çrenderå½æ°éæ°è¢«æ§è¡(ç¶ç»ä»¶åçæ°æ®æ´æ¹ï¼å­ç»ä»¶é¢æµå°å¯è½ä¼åçæ¿æ¢æ°æ°æ®)ï¼componentwillreceivepropså°±ä¼è¢«è§¦å\n\n# æè·å­ç»ä»¶éè¯¯ï¼\n\ncomponentdidcatch(æè·å°å­ç»ä»¶éè¯¯æ¶è¢«è§¦å)\n\n# å¸è½½(unmounting)ï¼\n\ncomponentwillunmount(å³å°è¢«å¸è½½)\n\nå¤æ³¨ï¼ç±»ç»ä»¶ç»§æ¿èªcomponentç»ä»¶ï¼componentç»ä»¶åç½®äºé¤render()ä»¥å¤çææçå½å¨æå½æ°ãå æ­¤èªå®ä¹ç»ä»¶render()è¿ä¸ªçå½å¨æå½æ°å¿é¡»å­å¨ï¼å¶ä»ççå½å¨æå½æ°é½å¯ä»¥å¿½ç¥ä¸åã èä½¿ç¨äºhookçå½æ°ç»ä»¶ï¼ç®åäºçå½å¨æå½æ°è°ç¨çå¤æç¨åº¦ã\n\n# çå½å¨æå½æ°çå ä¸ªåºç¨åºæ¯ï¼\n\nå¯¹äºç±»ç»ä»¶(ç±classåå»ºç)åå½æ°ç»ä»¶(ç±functionåå»ºç)ï¼ä»ä»¬å¯¹äºçå½å¨æçè°ç¨æ¹æ³ä¸åã\n\n1ãåªéè¦ç¬¬ä¸æ¬¡è·åæ°æ®çajaxè¯·æ±\nå¦æç±»ç»ä»¶æajaxè¯·æ±(åªéè¯·æ±ä¸æ¬¡)ï¼é£ä¹æå¥½æajaxè¯·æ±åå¨componentdidmountä¸­(åªæ§è¡ä¸æ¬¡)ãå ä¸º"åå§åãæè½½ãå¸è½½"å¨ä¸ä¸ªç»ä»¶çæ´ä¸ªçå½å¨æä¸­åªä¼åçä¸æ¬¡ï¼è"æ´æ°"å¯ä»¥å¨çå½å¨æä¸­å¤æ¬¡æ§è¡ã\nå¦ææ¯å½æ°ç»ä»¶ï¼åå¯ä»¥åå¨useeffect()ä¸­ï¼å¹¶ä¸å°ç¬¬2ä¸ªåæ°è®¾ç½®ä¸ºç©ºæ°ç»ï¼è¿æ ·useeffectåªä¼æ§è¡ä¸æ¬¡ã\n\n2ãé²æ­¢å­ç»ä»¶ä¸å¿è¦çéæ°æ¸²æ\nå¦ææ¯ç±»ç»ä»¶ï¼ç¶ç»ä»¶åçåéæ¹åï¼é£ä¹ä¼è°ç¨render()ï¼ä¼éæ°æ¸²æææå­ç»ä»¶ãä½æ¯å¦æåéæ¹åçæä¸ªå¼ä¸æå­ç»ä»¶å¹¶ä¸ç¸å³ï¼å¦ææ­¤æ¶ä¹éæ°æ¸²æè¯¥å­ç»ä»¶ä¼é ææ§è½ä¸çæµªè´¹ãä¸ºäºè§£å³è¿ä¸ªæåµï¼å¯ä»¥å¨å­ç»ä»¶ä¸­çshouldcomponentupdateçå½å¨æå½æ°ä¸­ï¼åä»¥ä¸æä½:\n\nshouldcomponentupdate(nextprops,nextstates){\n  //å¤æ­xxxå¼æ¯å¦ç¸åï¼å¦æç¸ååä¸è¿è¡éæ°æ¸²æ\n  return (nextprops.xxx !== this.props.xxx); //æ³¨ææ¯ !== èä¸æ¯ !=\n}\n\n\nè¿å¯ä»¥è®©ç»ä»¶ç»§æ¿ç±react.componentæ¹ä¸ºreact.purecomponentï¼reactä¼èªå¨å¸®æä»¬å¨shouldcomponentupdateçå½å¨æå½æ°ä¸­åæµå¯¹æ¯ã\n\nå¦ææ¯å½æ°ç»ä»¶ï¼åå¨å­ç»ä»¶å¯¼åºæ¶ï¼ä½¿ç¨react.memo()è¿è¡åè£¹ï¼åæ¶ç»åusecallbackæ¥é»æ­¢æ è°çæ¸²æï¼å®ç°æé«æ§è½ã\n\n\n# reactä¸­è®¾ç½®æ ·å¼çå ç§å½¢å¼\n\n# ç¬¬ä¸ç§ï¼å¼ç¨å¤é¨cssæ ·å¼\n\nä¼ªä»£ç ç¤ºä¾ï¼\n\nimport from \'./xxx.css\';  \nreturn <div classname=\'xxx\' /\\>\n\n\næ³¨æï¼å¨jsxè¯­æ³ä¸­ï¼ä½¿ç¨é©¼å³°å½åãä¾å¦åçhtmlä¸­çclassnameéè¦æ¹æclassnameãbackground-colorè¦æ¹æbackgroundcolorã\n\n# ç¬¬äºç§ï¼åé¨æ ·å¼\n\nä¼ªä»£ç ç¤ºä¾ï¼\n\nreturn <div style={{backgroundcolor:\'green\',width:\'100px\'}} /\\>  \n\n\næ³¨æï¼åèæ ·å¼å¼ä¸ºä¸ä¸ªå¯¹è±¡ï¼å¯¹è±¡å±æ§ä¹é´ç¨","åå²èä¸æ¯åçhtmlä¸­ç";"ã\nå ä¸ºæ¯ä¸ä¸ªå¯¹è±¡ï¼å æ­¤ä¸é¢ä»£ç ä¹æ¯å¯è¡çï¼\nconst mystyle = {backgroundcolor:\'green\',width:\'100px\'}; return <div style={mystyle} />\n\n\n# hookç¨æ³\n\nhookæ¯react16.8ä»¥ä¸çæ¬æåºç°çæ°ç¹æ§ï¼å¯ä»¥å¨å½æ°ç»ä»¶ä¸­ä½¿ç¨ç»ä»¶çå½å¨æå½æ°ï¼ä¸é¢ç²åº¦æ´å ç»è´ã\n\nå¯ä»¥æhooké»è¾ä»ç»ä»¶ä¸­æ½ç¦»åºæ¥ï¼å¤ä¸ªç»ä»¶å¯ä»¥å±äº«è¯¥hooké»è¾ã\n\nè¯·æ³¨æhookæ¬è´¨ä¸æ¯ä¸ºäºè§£å³ç»ä»¶ä¹é´å±äº«é»è¾ï¼å¹¶ä¸æ¯åçº¯ä¸ºäºè§£å³ç»ä»¶ä¹é´å±äº«æ°æ®ã\n\nhookè¡¨ç°åºæ¥ç¹å«åä¸ä¸ªæ®éçjså½æ°(ä»ä»æ¯è¡¨ç°åºæ¥ä½ç»ä¸æ¯ççæ®éjså½æ°)ã',charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"21 Reactæ©å±éè¯»",frontmatter:{title:"21 Reactæ©å±éè¯»",date:"2023-09-19T08:58:27.000Z",permalink:"/pages/89216e/"},regularPath:"/03.react/21.React%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB.html",relativePath:"03.react/21.Reactæ©å±éè¯».md",key:"v-5d36b894",path:"/pages/89216e/",headers:[{level:4,title:"Youtubeä¸­Codevolutionä¸æ ä¸çReact Hooks Tutorialç³»åè§é¢",slug:"youtubeä¸­codevolutionä¸æ ä¸çreact-hooks-tutorialç³»åè§é¢",normalizedTitle:"youtubeä¸­codevolutionä¸æ ä¸çreact hooks tutorialç³»åè§é¢",charIndex:15},{level:4,title:"èªå®ä¹ Hook å¤§å¨",slug:"èªå®ä¹-hook-å¤§å¨",normalizedTitle:"èªå®ä¹ hook å¤§å¨",charIndex:128},{level:4,title:"Reactææ¯æ­ç§",slug:"reactææ¯æ­ç§",normalizedTitle:"reactææ¯æ­ç§",charIndex:213},{level:4,title:"é¿é ahooks å·¥å·åº",slug:"é¿é-ahooks-å·¥å·åº",normalizedTitle:"é¿é ahooks å·¥å·åº",charIndex:273},{level:4,title:"ç½æäºé³ä¹åç«¯å¢é React Hooks æä½³å®è·µ",slug:"ç½æäºé³ä¹åç«¯å¢é-react-hooks-æä½³å®è·µ",normalizedTitle:"ç½æäºé³ä¹åç«¯å¢é react hooks æä½³å®è·µ",charIndex:361},{level:4,title:"React 300é®",slug:"react-300é®",normalizedTitle:"react 300é®",charIndex:469},{level:4,title:"é¿éæ¨åºçReactæ¡æ¶ï¼antd",slug:"é¿éæ¨åºçreactæ¡æ¶-antd",normalizedTitle:"é¿éæ¨åºçreactæ¡æ¶ï¼antd",charIndex:559},{level:4,title:"äº¬ä¸æ¨åºçå¤ç«¯ç»ä¸å¼åæ¡æ¶ï¼taro",slug:"äº¬ä¸æ¨åºçå¤ç«¯ç»ä¸å¼åæ¡æ¶-taro",normalizedTitle:"äº¬ä¸æ¨åºçå¤ç«¯ç»ä¸å¼åæ¡æ¶ï¼taro",charIndex:648},{level:4,title:"å­¦ä¹ Reactçå ä¸ªå¥½çå¾®ä¿¡å¬ä¼å·",slug:"å­¦ä¹ reactçå ä¸ªå¥½çå¾®ä¿¡å¬ä¼å·",normalizedTitle:"å­¦ä¹ reactçå ä¸ªå¥½çå¾®ä¿¡å¬ä¼å·",charIndex:731}],headersStr:"Youtubeä¸­Codevolutionä¸æ ä¸çReact Hooks Tutorialç³»åè§é¢ èªå®ä¹ Hook å¤§å¨ Reactææ¯æ­ç§ é¿é ahooks å·¥å·åº ç½æäºé³ä¹åç«¯å¢é React Hooks æä½³å®è·µ React 300é® é¿éæ¨åºçReactæ¡æ¶ï¼antd äº¬ä¸æ¨åºçå¤ç«¯ç»ä¸å¼åæ¡æ¶ï¼taro å­¦ä¹ Reactçå ä¸ªå¥½çå¾®ä¿¡å¬ä¼å·",content:"# Reactæ©å±éè¯»\n\n# Youtubeä¸­Codevolutionä¸æ ä¸çReact Hooks Tutorialç³»åè§é¢\n\né¾æ¥ï¼https://pan.baidu.com/s/1Lj_kN-FuO5bbZ2rqMVz6xw\næåç ï¼70ni\n\n# èªå®ä¹ Hook å¤§å¨\n\nå¿ä¸å¯å°ç React Hookséåã\nhttps://github.com/zenghongtu/react-use-chinese\n\n# Reactææ¯æ­ç§\n\nå¡é¢åç React æºç åæã\nhttps://react.iamkasong.com/\n\n# é¿é ahooks å·¥å·åº\n\nèèumiå¢éãæ·ç³»iceå¢éãé¿éä½è²å±åå»ºè®¾ç React Hooks å·¥å·åº\nhttps://ahooks.js.org/zh-CN\n\n# ç½æäºé³ä¹åç«¯å¢é React Hooks æä½³å®è·µ\n\nå®éé¡¹ç®ä¸­æ»ç»åºç React Hooks å®ç¨ç»éª\nhttps://mp.weixin.qq.com/s/HwlnvAh18saKwXC_nZwSHw\n\n# React 300é®\n\nReact 300å¤éé¢è¯é¢åç­æ¡\nhttps://github.com/semlinker/reactjs-interview-questions\n\n# é¿éæ¨åºçReactæ¡æ¶ï¼antd\n\nantd 4.0çæ¬å¨é¨éç¨å½æ°ç»ä»¶å¼åèæã\nhttps://ant.design/docs/react/introduce-cn\n\n# äº¬ä¸æ¨åºçå¤ç«¯ç»ä¸å¼åæ¡æ¶ï¼taro\n\nTaroæ¯ä¸å¥éµå¾ªReactè¯­æ³è§èçå¤ç«¯å¼åè§£å³æ¹æ¡ã\nhttps://taro-docs.jd.com/taro/\n\n# å­¦ä¹ Reactçå ä¸ªå¥½çå¾®ä¿¡å¬ä¼å·\n\nReactä¸­æç¤¾åºãä¸ç¥éæ»ãé­æ¯å¸å¡é¢",normalizedContent:"# reactæ©å±éè¯»\n\n# youtubeä¸­codevolutionä¸æ ä¸çreact hooks tutorialç³»åè§é¢\n\né¾æ¥ï¼https://pan.baidu.com/s/1lj_kn-fuo5bbz2rqmvz6xw\næåç ï¼70ni\n\n# èªå®ä¹ hook å¤§å¨\n\nå¿ä¸å¯å°ç react hookséåã\nhttps://github.com/zenghongtu/react-use-chinese\n\n# reactææ¯æ­ç§\n\nå¡é¢åç react æºç åæã\nhttps://react.iamkasong.com/\n\n# é¿é ahooks å·¥å·åº\n\nèèumiå¢éãæ·ç³»iceå¢éãé¿éä½è²å±åå»ºè®¾ç react hooks å·¥å·åº\nhttps://ahooks.js.org/zh-cn\n\n# ç½æäºé³ä¹åç«¯å¢é react hooks æä½³å®è·µ\n\nå®éé¡¹ç®ä¸­æ»ç»åºç react hooks å®ç¨ç»éª\nhttps://mp.weixin.qq.com/s/hwlnvah18sakwxc_nzwshw\n\n# react 300é®\n\nreact 300å¤éé¢è¯é¢åç­æ¡\nhttps://github.com/semlinker/reactjs-interview-questions\n\n# é¿éæ¨åºçreactæ¡æ¶ï¼antd\n\nantd 4.0çæ¬å¨é¨éç¨å½æ°ç»ä»¶å¼åèæã\nhttps://ant.design/docs/react/introduce-cn\n\n# äº¬ä¸æ¨åºçå¤ç«¯ç»ä¸å¼åæ¡æ¶ï¼taro\n\ntaroæ¯ä¸å¥éµå¾ªreactè¯­æ³è§èçå¤ç«¯å¼åè§£å³æ¹æ¡ã\nhttps://taro-docs.jd.com/taro/\n\n# å­¦ä¹ reactçå ä¸ªå¥½çå¾®ä¿¡å¬ä¼å·\n\nreactä¸­æç¤¾åºãä¸ç¥éæ»ãé­æ¯å¸å¡é¢",charsets:{cjk:!0},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"åå®¢æç« ",frontmatter:{archivesPage:!0,title:"åå®¢æç« ",permalink:"/blog/",article:!1},regularPath:"/@pages/archivesPage.html",relativePath:"@pages/archivesPage.md",key:"v-53104ef6",path:"/blog/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3},{title:"Home",frontmatter:{home:!0,heroImage:"/img/logo.jpg",heroText:"ç¥è¯ç®¡çå¹³å°",tagline:"ðç¥è¯åäº«å¹³å°",actionText:"å¼å§ä½¿ç¨ â",actionLink:"/pages/a2f161/",bannerBg:"none",features:[{title:"ç¥è¯ç®¡çååäº«",details:"åå«ä¸ç§å¸åçç¥è¯ç®¡çå½¢æï¼ç»æåãç¢çåãä½ç³»åãè½»æ¾æé å±äºä½ èªå·±çç¥è¯ç®¡çå¹³å°"},{title:"ç®æ´é«æ",details:"ä»¥ Markdown ä¸ºä¸­å¿çé¡¹ç®ç»æï¼åç½®èªå¨åå·¥å·ï¼ä»¥æ´å°çéç½®å®ææ´å¤çäºãéåå¤ç»´ç´¢å¼å¿«éå®ä½æ¯ä¸ªç¥è¯ç¹"},{title:"æ²æµ¸å¼éè¯»",details:"ä¸ä¸ºéè¯»è®¾è®¡çUIï¼éåå¤ç§é¢è²æ¨¡å¼ãå¯å³é­çä¾§è¾¹æ åå¯¼èªæ ï¼å¸¦ç»ä½ ä¸ç§æ²æµ¸å¼éè¯»ä½éª"}],postList:"none"},regularPath:"/",relativePath:"index.md",key:"v-a113e2c4",path:"/",headersStr:null,content:"\n\n\n",normalizedContent:"\n\n\n",charsets:{},lastUpdated:"2023-09-19, 09:20:46",lastUpdatedTimestamp:1695086446e3}],themeConfig:{nav:[{text:"é¦é¡µ",link:"/"},{text:"rust",link:"/pages/9088dd/",items:[]},{text:"go",link:"/pages/b63bcd/",items:[]},{text:"react",link:"/pages/dfd26d/",items:[]}],sidebarDepth:2,logo:"/img/logo.jpg",searchMaxSuggestions:10,lastUpdated:"ä¸æ¬¡æ´æ°",sidebar:{"/01.rust/":[{title:"tauri",collapsable:!1,children:[["01.tauri/01.è§£å³ Rust Tauri 1.0 æå»ºæ¶ä¸è½½ WiXå¤±è´¥.md","è§£å³ Rust Tauri 1.0 æå»ºæ¶ä¸è½½ WiXå¤±è´¥","/pages/9088dd/"]]}],catalogue:{},"/02.go/":[{title:"å¼åç¯å¢",collapsable:!1,children:[["01.å¼åç¯å¢/01.Go éç½® VS code å¯å¨.md","Go éç½® VS code å¯å¨","/pages/b63bcd/"],["01.å¼åç¯å¢/02.windowsç³»ç»ä¸­VS codeæªè¯å«nodejs cmdletéè¯¯.md","windowsç³»ç»ä¸­VS codeæªè¯å«nodejs cmdletéè¯¯","/pages/8ce629/"]]}],"/03.react/":[["01.React Hook ç®ä».md","01 React Hook ç®ä»","/pages/dfd26d/"],["02.useStateåºç¡ç¨æ³.md","02 useStateåºç¡ç¨æ³","/pages/b364c0/"],["03.useStateé«çº§ç¨æ³.md","03 useStateé«çº§ç¨æ³","/pages/0e215c/"],["04.useEffectåºç¡ç¨æ³.md","04 useEffectåºç¡ç¨æ³","/pages/16dc88/"],["05.useEffecté«çº§ç¨æ³.md","05 useEffecté«çº§ç¨æ³","/pages/b9c039/"],["06.useContextåºç¡ç¨æ³.md","06 useContextåºç¡ç¨æ³","/pages/fd14d7/"],["07.useContexté«çº§ç¨æ³.md","07 useContexté«çº§ç¨æ³","/pages/15da39/"],["08.useReduceråºç¡ç¨æ³.md","08 useReduceråºç¡ç¨æ³","/pages/ab6774/"],["09.useReduceré«çº§ç¨æ³.md","09 useReduceré«çº§ç¨æ³","/pages/fd7fdb/"],["10.useCallbackåºç¡ç¨æ³.md","10 useCallbackåºç¡ç¨æ³","/pages/9d19f1/"],["11.useMemoåºç¡ç¨æ³.md","11 useMemoåºç¡ç¨æ³","/pages/8b008f/"],["12.useRefåºç¡ç¨æ³.md","12 useRefåºç¡ç¨æ³","/pages/4c9695/"],["13.useImperativeHandleåºç¡ç¨æ³.md","13 useImperativeHandleåºç¡ç¨æ³","/pages/ede426/"],["14.useLayoutEffectåºç¡ç¨æ³.md","14 useLayoutEffectåºç¡ç¨æ³","/pages/1b392f/"],["15.useDebugValueåºç¡ç¨æ³.md","15 useDebugValueåºç¡ç¨æ³","/pages/e1ebef/"],["16.èªå®ä¹hook.md","16 èªå®ä¹hook","/pages/c38877/"],["17.React Hook æ»ç».md","17 React Hook æ»ç»","/pages/621c1c/"],["18.ç¤ºä¾ï¼Reactä½¿ç¨Echartsæç¨å°çhooks.md","18 ç¤ºä¾ï¼Reactä½¿ç¨Echartsæç¨å°çhooks","/pages/a44117/"],["19.useTransitionåºç¡ç¨æ³.md","19 useTransitionåºç¡ç¨æ³","/pages/74a184/"],["20.Reactåºç¡ç¥è¯.md","20 Reactåºç¡ç¥è¯","/pages/0116b5/"],["21.Reactæ©å±éè¯».md","21 Reactæ©å±éè¯»","/pages/89216e/"]]},updateBar:{showToArticle:!1},pageStyle:"line",category:!1,tag:!1,author:{name:"Allen",href:"//github.183.co"},social:{icons:[{iconClass:"icon-youjian",title:"åé®ä»¶",link:"mailto:allen@183.co"},{iconClass:"icon-github",title:"GitHub",link:"//github.183.co"},{iconClass:"icon-erji",title:"å¬é³ä¹",link:"https://i.y.qq.com/n2/m/share/details/taoge.html?id=8424326180&hosteuin="}]},footer:{createYear:2023,copyrightInfo:"Allen | MIT License"},htmlModules:{pageT:'\n    <div class="wwads-cn wwads-horizontal page-wwads" data-id="136"></div>\n    <style>\n      .page-wwads{\n        width:100%!important;\n        min-height: 0;\n        margin: 0;\n      }\n      .page-wwads .wwads-img img{\n        width:80px!important;\n      }\n      .page-wwads .wwads-poweredby{\n        width: 40px;\n        position: absolute;\n        right: 25px;\n        bottom: 3px;\n      }\n      .wwads-content .wwads-text, .page-wwads .wwads-text{\n        height: 100%;\n        padding-top: 5px;\n        display: block;\n      }\n  </style>\n  '}}};var _c=t(94),wc=t(95),Cc=t(11);var Rc={computed:{$filterPosts(){return this.$site.pages.filter(e=>{const{frontmatter:{pageComponent:n,article:t,home:o}}=e;return!(n||!1===t||!0===o)})},$sortPosts(){return(e=this.$filterPosts).sort((e,n)=>{const t=e.frontmatter.sticky,o=n.frontmatter.sticky;return t&&o?t==o?Object(Cc.a)(e,n):t-o:t&&!o?-1:!t&&o?1:Object(Cc.a)(e,n)}),e;var e},$sortPostsByDate(){return(e=this.$filterPosts).sort((e,n)=>Object(Cc.a)(e,n)),e;var e},$groupPosts(){return function(e){const n={},t={};for(let o=0,r=e.length;o<r;o++){const{frontmatter:{categories:r,tags:a}}=e[o];"array"===Object(Cc.n)(r)&&r.forEach(t=>{t&&(n[t]||(n[t]=[]),n[t].push(e[o]))}),"array"===Object(Cc.n)(a)&&a.forEach(n=>{n&&(t[n]||(t[n]=[]),t[n].push(e[o]))})}return{categories:n,tags:t}}(this.$sortPosts)},$categoriesAndTags(){return function(e){const n=[],t=[];for(let t in e.categories)n.push({key:t,length:e.categories[t].length});for(let n in e.tags)t.push({key:n,length:e.tags[n].length});return{categories:n,tags:t}}(this.$groupPosts)}}};Wt.component(_c.default),Wt.component(wc.default);function jc(e){return e.toString().padStart(2,"0")}t(243);Wt.component("Badge",()=>Promise.all([t.e(0),t.e(3)]).then(t.bind(null,345))),Wt.component("CodeBlock",()=>Promise.resolve().then(t.bind(null,94))),Wt.component("CodeGroup",()=>Promise.resolve().then(t.bind(null,95)));t(244);var Sc=[({Vue:e,options:n,router:t,siteData:o,isServer:r})=>{r||t.afterEach(()=>{var e;e=function(){setTimeout((function(){void 0===window._AdBlockInit&&function(){const e=document.getElementsByClassName("wwads-cn"),n=document.querySelector(".wwads-content");e[0]&&!n&&(e[0].innerHTML="<style>.wwads-horizontal,.wwads-vertical{background-color:#f4f8fa;padding:5px;min-height:120px;margin-top:20px;box-sizing:border-box;border-radius:3px;font-family:sans-serif;display:flex;min-width:150px;position:relative;overflow:hidden;}.wwads-horizontal{flex-wrap:wrap;justify-content:center}.wwads-vertical{flex-direction:column;align-items:center;padding-bottom:32px}.wwads-horizontal a,.wwads-vertical a{text-decoration:none}.wwads-horizontal .wwads-img,.wwads-vertical .wwads-img{margin:5px}.wwads-horizontal .wwads-content,.wwads-vertical .wwads-content{margin:5px}.wwads-horizontal .wwads-content{flex:130px}.wwads-vertical .wwads-content{margin-top:10px}.wwads-horizontal .wwads-text,.wwads-content .wwads-text{font-size:14px;line-height:1.4;color:#0e1011;-webkit-font-smoothing:antialiased}.wwads-horizontal .wwads-poweredby,.wwads-vertical .wwads-poweredby{display:block;font-size:11px;color:#a6b7bf;margin-top:1em}.wwads-vertical .wwads-poweredby{position:absolute;left:10px;bottom:10px}.wwads-horizontal .wwads-poweredby span,.wwads-vertical .wwads-poweredby span{transition:all 0.2s ease-in-out;margin-left:-1em}.wwads-horizontal .wwads-poweredby span:first-child,.wwads-vertical .wwads-poweredby span:first-child{opacity:0}.wwads-horizontal:hover .wwads-poweredby span,.wwads-vertical:hover .wwads-poweredby span{opacity:1;margin-left:0}.wwads-horizontal .wwads-hide,.wwads-vertical .wwads-hide{position:absolute;right:-23px;bottom:-23px;width:46px;height:46px;border-radius:23px;transition:all 0.3s ease-in-out;cursor:pointer;}.wwads-horizontal .wwads-hide:hover,.wwads-vertical .wwads-hide:hover{background:rgb(0 0 0 /0.05)}.wwads-horizontal .wwads-hide svg,.wwads-vertical .wwads-hide svg{position:absolute;left:10px;top:10px;fill:#a6b7bf}.wwads-horizontal .wwads-hide:hover svg,.wwads-vertical .wwads-hide:hover svg{fill:#3E4546}</style><a href='https://wwads.cn/page/whitelist-wwads' class='wwads-img' target='_blank' rel='nofollow'><img src='https://fastly.jsdelivr.net/gh/xugaoyi/image_store@master/blog/wwads.2a3pidhlh4ys.webp' width='130'></a><div class='wwads-content'><a href='https://wwads.cn/page/whitelist-wwads' class='wwads-text' target='_blank' rel='nofollow'>ä¸ºäºæ¬ç«çé¿æè¿è¥ï¼è¯·å°æä»¬çç½ç«å å¥å¹¿åæ¦æªå¨çç½ååï¼æè°¢æ¨çæ¯æï¼<span style='color: #11a8cd'>å¦ä½æ·»å ç½åå?</span></a><a href='https://wwads.cn/page/end-user-privacy' class='wwads-poweredby' title='ä¸ç»´å¹¿å ï½ è®©å¹¿åæ´ä¼éï¼ä¸æç¨' target='_blank'><span>å¹¿å</span></a></div><a class='wwads-hide' onclick='parentNode.remove()' title='éèå¹¿å'><svg xmlns='http://www.w3.org/2000/svg' width='6' height='7'><path d='M.879.672L3 2.793 5.121.672a.5.5 0 11.707.707L3.708 3.5l2.12 2.121a.5.5 0 11-.707.707l-2.12-2.12-2.122 2.12a.5.5 0 11-.707-.707l2.121-2.12L.172 1.378A.5.5 0 01.879.672z'></path></svg></a>")}()}),3e3)},"complete"===document.readyState||"interactive"===document.readyState?setTimeout(e,1):document.addEventListener("DOMContentLoaded",e),setTimeout(()=>{const e=document.querySelector(".page-wwads");if(!e)return;const n=e.querySelector(".wwads-hide");n&&(n.onclick=()=>{e.style.display="none"}),"none"===e.style.display&&(e.style.display="flex")},900)})},({Vue:e,options:n,router:t,siteData:o})=>{o.pages.map(e=>{const{frontmatter:{date:n,author:t}}=e;"string"==typeof n&&"Z"===n.charAt(n.length-1)&&(e.frontmatter.date=function(e){e instanceof Date||(e=new Date(e));return`${e.getUTCFullYear()}-${jc(e.getUTCMonth()+1)}-${jc(e.getUTCDate())} ${jc(e.getUTCHours())}:${jc(e.getUTCMinutes())}:${jc(e.getUTCSeconds())}`}(n)),t?e.author=t:o.themeConfig.author&&(e.author=o.themeConfig.author)}),e.mixin(Rc)},{},({Vue:e})=>{e.mixin({computed:{$dataBlock(){return this.$options.__data__block__}}})},{},{},({router:e})=>{"undefined"!=typeof window&&(window._hmt=window._hmt||[],function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?bd7cf65356cd0d474d6bd042a5d98dbc";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}(),e.afterEach((function(e){_hmt.push(["_trackPageview",e.fullPath])})))},({router:e})=>{var n,t,o,r,a,s;"undefined"!=typeof window&&(n=window,t=document,o="script",r="ga",n.GoogleAnalyticsObject=r,n.ga=n.ga||function(){(n.ga.q=n.ga.q||[]).push(arguments)},n.ga.l=1*new Date,a=t.createElement(o),s=t.getElementsByTagName(o)[0],a.async=1,a.src="https://www.google-analytics.com/analytics.js",s.parentNode.insertBefore(a,s),ga("create","UA-284335860-1","auto"),ga("set","anonymizeIp",!0),e.afterEach((function(n){ga("set","page",e.app.$withBase(n.fullPath)),ga("send","pageview")})))}],Tc=[];class Ec extends class{constructor(){this.store=new Wt({data:{state:{}}})}$get(e){return this.store.state[e]}$set(e,n){Wt.set(this.store.state,e,n)}$emit(...e){this.store.$emit(...e)}$on(...e){this.store.$on(...e)}}{}Object.assign(Ec.prototype,{getPageAsyncComponent:ii,getLayoutAsyncComponent:ci,getAsyncComponent:ui,getVueComponent:li});var Oc={install(e){const n=new Ec;e.$vuepress=n,e.prototype.$vuepress=n}};function Ic(e,n){const t=n.toLowerCase();return e.options.routes.some(e=>e.path.toLowerCase()===t)}var Ac={props:{pageKey:String,slotKey:{type:String,default:"default"}},render(e){const n=this.pageKey||this.$parent.$page.key;return pi("pageKey",n),Wt.component(n)||Wt.component(n,ii(n)),Wt.component(n)?e(n):e("")}},$c={functional:!0,props:{slotKey:String,required:!0},render:(e,{props:n,slots:t})=>e("div",{class:["content__"+n.slotKey]},t()[n.slotKey])},Dc={computed:{openInNewWindowTitle(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},zc=(t(245),t(246),Object(gc.a)(Dc,(function(){var e=this._self._c;return e("span",[e("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[e("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),e("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),e("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports),Mc={functional:!0,render(e,{parent:n,children:t}){if(n._isMounted)return t;n.$once("hook:mounted",()=>{n.$forceUpdate()})}};Wt.config.productionTip=!1,Wt.use(qs),Wt.use(Oc),Wt.mixin(function(e,n,t=Wt){!function(e){e.locales&&Object.keys(e.locales).forEach(n=>{e.locales[n].path=n});Object.freeze(e)}(n),t.$vuepress.$set("siteData",n);const o=new(e(t.$vuepress.$get("siteData"))),r=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(o)),a={};return Object.keys(r).reduce((e,n)=>(n.startsWith("$")&&(e[n]=r[n].get),e),a),{computed:a}}(e=>class{setPage(e){this.__page=e}get $site(){return e}get $themeConfig(){return this.$site.themeConfig}get $frontmatter(){return this.$page.frontmatter}get $localeConfig(){const{locales:e={}}=this.$site;let n,t;for(const o in e)"/"===o?t=e[o]:0===this.$page.path.indexOf(o)&&(n=e[o]);return n||t||{}}get $siteTitle(){return this.$localeConfig.title||this.$site.title||""}get $canonicalUrl(){const{canonicalUrl:e}=this.$page.frontmatter;return"string"==typeof e&&e}get $title(){const e=this.$page,{metaTitle:n}=this.$page.frontmatter;if("string"==typeof n)return n;const t=this.$siteTitle,o=e.frontmatter.home?null:e.frontmatter.title||e.title;return t?o?o+" | "+t:t:o||"VuePress"}get $description(){const e=function(e){if(e){const n=e.filter(e=>"description"===e.name)[0];if(n)return n.content}}(this.$page.frontmatter.meta);return e||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}get $lang(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}get $localePath(){return this.$localeConfig.path||"/"}get $themeLocaleConfig(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}get $page(){return this.__page?this.__page:function(e,n){for(let t=0;t<e.length;t++){const o=e[t];if(o.path.toLowerCase()===n.toLowerCase())return o}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}},kc)),Wt.component("Content",Ac),Wt.component("ContentSlotsDistributor",$c),Wt.component("OutboundLink",zc),Wt.component("ClientOnly",Mc),Wt.component("Layout",ci("Layout")),Wt.component("NotFound",ci("NotFound")),Wt.prototype.$withBase=function(e){const n=this.$site.base;return"/"===e.charAt(0)?n+e.slice(1):e},window.__VUEPRESS__={version:"1.9.2",hash:"7ba691d"},async function(e){const n="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:kc.routerBase||kc.base,t=new qs({base:n,mode:"history",fallback:!1,routes:yc,scrollBehavior:(e,n,t)=>t||(e.hash?!Wt.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(e.hash)}:{x:0,y:0})});!function(e){e.beforeEach((n,t,o)=>{if(Ic(e,n.path))o();else if(/(\/|\.html)$/.test(n.path))if(/\/$/.test(n.path)){const t=n.path.replace(/\/$/,"")+".html";Ic(e,t)?o(t):o()}else o();else{const t=n.path+"/",r=n.path+".html";Ic(e,r)?o(r):Ic(e,t)?o(t):o()}})}(t);const o={};try{await Promise.all(Sc.filter(e=>"function"==typeof e).map(n=>n({Vue:Wt,options:o,router:t,siteData:kc,isServer:e})))}catch(e){console.error(e)}return{app:new Wt(Object.assign(o,{router:t,render:e=>e("div",{attrs:{id:"app"}},[e("RouterView",{ref:"layout"}),e("div",{class:"global-ui"},Tc.map(n=>e(n)))])})),router:t}}(!1).then(({app:e,router:n})=>{n.onReady(()=>{e.$mount("#app")})})}]);